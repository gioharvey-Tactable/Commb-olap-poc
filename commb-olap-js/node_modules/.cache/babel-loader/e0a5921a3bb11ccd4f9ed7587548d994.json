{"ast":null,"code":"import { Dialog } from '@syncfusion/ej2-popups';\nimport { isNullOrUndefined as isNaN, createElement, extend, remove, addClass, select } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\n/**\n * Module to render Conditional Formatting Dialog\n */\n\n/** @hidden */\n\nvar ConditionalFormatting = function () {\n  /** Constructor for conditionalformatting module\n   * @param {PivotView} parent - Instance of pivot table.\n   */\n  function ConditionalFormatting(parent) {\n    this.parent = parent;\n    this.parent.conditionalFormattingModule = this;\n    this.parentID = this.parent.element.id;\n    this.dialog = null;\n    this.fieldsDropDown = [];\n    this.conditionsDropDown = [];\n    this.fontNameDropDown = [];\n    this.fontSizeDropDown = [];\n    this.fontColor = [];\n    this.backgroundColor = [];\n    this.newFormat = [];\n  }\n  /**\n   * To get module name.\n   * @returns {string} - Module name.\n   */\n\n\n  ConditionalFormatting.prototype.getModuleName = function () {\n    return 'conditionalFormatting';\n  };\n\n  ConditionalFormatting.prototype.createDialog = function () {\n    if (select('#' + this.parentID + 'conditionalformatting', document) !== null) {\n      remove(select('#' + this.parentID + 'conditionalformatting', document));\n    }\n\n    this.parent.element.appendChild(createElement('div', {\n      id: this.parentID + 'conditionalformatting'\n    }));\n    var buttonModel = [{\n      click: this.addButtonClick.bind(this),\n      buttonModel: {\n        cssClass: this.parent.isAdaptive ? cls.FORMAT_ROUND_BUTTON + ' ' + cls.FORMAT_CONDITION_BUTTON : cls.FORMAT_CONDITION_BUTTON,\n        iconCss: cls.ICON + ' ' + cls.ADD_ICON_CLASS,\n        content: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant('condition')\n      }\n    }, {\n      click: this.applyButtonClick.bind(this),\n      buttonModel: {\n        cssClass: cls.FLAT_CLASS + ' ' + cls.FORMAT_APPLY_BUTTON,\n        content: this.parent.localeObj.getConstant('apply')\n      }\n    }, {\n      click: this.cancelButtonClick.bind(this),\n      buttonModel: {\n        cssClass: cls.FLAT_CLASS + ' ' + cls.FORMAT_CANCEL_BUTTON,\n        content: this.parent.localeObj.getConstant('cancel')\n      }\n    }];\n\n    if (this.parent.isAdaptive) {\n      this.dialog = new Dialog({\n        animationSettings: {\n          effect: 'Zoom'\n        },\n        isModal: true,\n        width: '100%',\n        height: '100%',\n        showCloseIcon: false,\n        closeOnEscape: false,\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale,\n        position: {\n          X: 'center',\n          Y: 'center'\n        },\n        allowDragging: true,\n        buttons: buttonModel,\n        beforeOpen: this.beforeOpen.bind(this),\n        close: this.removeDialog.bind(this),\n        cssClass: cls.FORMAT_DIALOG,\n        header: this.parent.localeObj.getConstant('conditionalFormating'),\n        target: document.body\n      });\n    } else {\n      this.dialog = new Dialog({\n        allowDragging: true,\n        position: {\n          X: 'center',\n          Y: this.parent.element.offsetTop\n        },\n        buttons: buttonModel,\n        beforeOpen: this.beforeOpen.bind(this),\n        close: this.removeDialog.bind(this),\n        cssClass: cls.FORMAT_DIALOG,\n        isModal: false,\n        closeOnEscape: true,\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale,\n        showCloseIcon: true,\n        header: this.parent.localeObj.getConstant('conditionalFormating'),\n        target: this.parent.element\n      });\n    }\n\n    this.dialog.isStringTemplate = true;\n    this.dialog.appendTo('#' + this.parentID + 'conditionalformatting'); // this.dialog.element.querySelector('.e-dlg-header').innerHTML = this.parent.localeObj.getConstant('conditionalFormating');\n  };\n\n  ConditionalFormatting.prototype.beforeOpen = function (args) {\n    this.dialog.element.querySelector('.' + cls.DIALOG_HEADER).setAttribute('title', this.parent.localeObj.getConstant('conditionalFormating'));\n  };\n\n  ConditionalFormatting.prototype.addButtonClick = function () {\n    var _this = this;\n\n    var format = {\n      conditions: 'LessThan',\n      value1: 0,\n      applyGrandTotals: true,\n      style: {\n        backgroundColor: 'white',\n        color: 'black',\n        fontFamily: 'Arial',\n        fontSize: '12px'\n      }\n    };\n    var conditionalFormating = this;\n    /* eslint-disable-line */\n\n    this.parent.trigger(events.conditionalFormatting, format, function (observedArgs) {\n      conditionalFormating.refreshConditionValues();\n\n      _this.destroyColorPickers();\n\n      conditionalFormating.newFormat.push(observedArgs);\n      conditionalFormating.addFormat();\n    });\n  };\n\n  ConditionalFormatting.prototype.applyButtonClick = function () {\n    if (this.refreshConditionValues()) {\n      this.parent.setProperties({\n        dataSourceSettings: {\n          conditionalFormatSettings: this.newFormat\n        }\n      }, true);\n      this.parent.renderPivotGrid();\n      this.dialog.close();\n    }\n  };\n\n  ConditionalFormatting.prototype.cancelButtonClick = function () {\n    this.dialog.close();\n    this.newFormat = [];\n  };\n\n  ConditionalFormatting.prototype.refreshConditionValues = function () {\n    for (var i = 0; i < this.newFormat.length; i++) {\n      if (select('#' + this.parentID + 'conditionvalue1' + i, document).value === '' || select('#' + this.parentID + 'conditionvalue2' + i, document).value === '') {\n        select('#' + this.parentID + 'conditionvalue1' + i, document).value === '' ?\n        /* eslint-disable-line */\n        select('#' + this.parentID + 'conditionvalue1' + i, document).focus() : select('#' + this.parentID + 'conditionvalue2' + i, document).focus();\n        return false;\n      }\n\n      this.newFormat[i].value1 = Number(select('#' + this.parentID + 'conditionvalue1' + i, document).value);\n      this.newFormat[i].value2 = Number(select('#' + this.parentID + 'conditionvalue2' + i, document).value);\n    }\n\n    return true;\n  };\n\n  ConditionalFormatting.prototype.addFormat = function () {\n    var format = createElement('div', {\n      id: this.parentID + 'formatDiv',\n      className: cls.FORMAT_NEW\n    });\n\n    for (var i = 0; i < this.newFormat.length; i++) {\n      format.appendChild(this.createDialogElements(i));\n    }\n\n    if (this.newFormat.length === 0) {\n      var outerDiv = this.createDialogElements();\n      var element = createElement('p', {\n        id: this.parentID + 'emptyFormat',\n        className: cls.EMPTY_FORMAT,\n        innerHTML: this.parent.localeObj.getConstant('emptyFormat')\n      });\n      outerDiv.appendChild(element);\n      format.appendChild(outerDiv);\n    }\n\n    this.dialog.setProperties({\n      'content': format\n    }, false);\n\n    for (var i = 0; i < this.newFormat.length; i++) {\n      this.renderDropDowns(i);\n      this.renderColorPicker(i);\n    }\n  };\n\n  ConditionalFormatting.prototype.createDialogElements = function (i) {\n    var outerDiv = createElement('div', {\n      id: this.parentID + 'outerDiv' + i,\n      className: cls.FORMAT_OUTER\n    });\n\n    if (i !== undefined) {\n      var format = this.newFormat[i];\n      var button = createElement('button', {\n        id: this.parentID + 'removeButton' + i,\n        className: cls.FORMAT_DELETE_BUTTON,\n        attrs: {\n          type: 'button',\n          'title': this.parent.localeObj.getConstant('delete')\n        }\n      });\n      outerDiv.appendChild(button);\n      var innerDiv = createElement('div', {\n        id: this.parentID + 'innerDiv',\n        className: cls.FORMAT_INNER\n      });\n      var table = createElement('table', {\n        id: this.parentID + 'cftable',\n        className: cls.FORMAT_TABLE\n      });\n      var tRow = createElement('tr');\n      var td = createElement('td');\n      var valuelabel = createElement('span', {\n        id: this.parentID + 'valuelabel' + i,\n        className: cls.FORMAT_VALUE_LABEL,\n        innerHTML: this.parent.localeObj.getConstant('value')\n      });\n      td.appendChild(valuelabel);\n      tRow.appendChild(td);\n      table.appendChild(tRow);\n      tRow = createElement('tr');\n      td = createElement('td');\n      var measureDropdown = createElement('div', {\n        id: this.parentID + 'measure' + i\n      });\n      var measureInput = createElement('input', {\n        id: this.parentID + 'measureinput' + i,\n        attrs: {\n          'type': 'text',\n          'tabindex': '0'\n        }\n      });\n      measureDropdown.appendChild(measureInput);\n      td.appendChild(measureDropdown);\n      tRow.appendChild(td);\n      td = createElement('td');\n      var conditionDropdown = createElement('div', {\n        id: this.parentID + 'condition'\n      });\n      var conditionInput = createElement('input', {\n        id: this.parentID + 'conditioninput' + i,\n        attrs: {\n          'type': 'text',\n          'tabindex': '0'\n        }\n      });\n      conditionDropdown.appendChild(conditionInput);\n      td.appendChild(conditionDropdown);\n      tRow.appendChild(td);\n      td = createElement('td');\n      var style = !(format.conditions === 'Between' || format.conditions === 'NotBetween') ? 'display:none; width:10px' : '';\n      var value1 = createElement('input', {\n        id: this.parentID + 'conditionvalue1' + i,\n        attrs: {\n          'type': 'text',\n          'tabindex': '0',\n          'value': !isNaN(format.value1) ? format.value1.toString() : '0',\n          'placeholder': this.parent.localeObj.getConstant('emptyInput')\n        },\n        styles: this.parent.isAdaptive ? style === '' ? 'width: 35%' : 'width: 100%' : style === '' ? 'width: 45px' : 'width: 120px',\n        className: cls.INPUT + ' ' + cls.FORMAT_VALUE1\n      });\n      td.appendChild(value1);\n      var valuespan = createElement('span', {\n        id: this.parentID + 'valuespan' + i,\n        className: cls.FORMAT_VALUE_SPAN,\n        innerHTML: '&',\n        styles: style\n      });\n      td.appendChild(valuespan);\n      var value2 = createElement('input', {\n        id: this.parentID + 'conditionvalue2' + i,\n        attrs: {\n          'type': 'text',\n          'tabindex': '0',\n          'value': !isNaN(format.value2) ? format.value2.toString() : '0',\n          'placeholder': this.parent.localeObj.getConstant('emptyInput')\n        },\n        styles: this.parent.isAdaptive && style === '' ? 'width: 35%' : style === '' ? 'width: 45px' : style,\n        className: cls.INPUT + ' ' + cls.FORMAT_VALUE2\n      });\n      td.appendChild(value2);\n      tRow.appendChild(td);\n      table.appendChild(tRow);\n\n      if (this.parent.isAdaptive) {\n        innerDiv.appendChild(table);\n        table = createElement('table', {\n          id: this.parentID + 'cftable',\n          className: cls.FORMAT_TABLE\n        });\n      }\n\n      tRow = createElement('tr');\n      td = createElement('td');\n      var formatlabel = createElement('span', {\n        id: this.parentID + 'formatlabel' + i,\n        className: cls.FORMAT_LABEL,\n        innerHTML: this.parent.localeObj.getConstant('formatLabel')\n      });\n      td.appendChild(formatlabel);\n      tRow.appendChild(td);\n      table.appendChild(tRow);\n      tRow = createElement('tr');\n      td = createElement('td');\n      var fontNameDropdown = createElement('div', {\n        id: this.parentID + 'fontname'\n      });\n      var fontNameInput = createElement('input', {\n        id: this.parentID + 'fontnameinput' + i,\n        attrs: {\n          'type': 'text',\n          'tabindex': '0'\n        }\n      });\n      fontNameDropdown.appendChild(fontNameInput);\n      td.appendChild(fontNameDropdown);\n      tRow.appendChild(td);\n      td = createElement('td');\n      var fontSizeDropdown = createElement('div', {\n        id: this.parentID + 'fontsize'\n      });\n      var fontSizeInput = createElement('input', {\n        id: this.parentID + 'fontsizeinput' + i,\n        attrs: {\n          'type': 'text',\n          'tabindex': '0'\n        }\n      });\n      fontSizeDropdown.appendChild(fontSizeInput);\n      td.appendChild(fontSizeDropdown);\n      tRow.appendChild(td);\n\n      if (this.parent.isAdaptive) {\n        table.appendChild(tRow);\n        tRow = createElement('tr');\n        table.appendChild(tRow);\n        tRow = createElement('tr');\n      }\n\n      td = createElement('td');\n      var colorPicker1 = createElement('input', {\n        id: this.parentID + 'fontcolor' + i,\n        attrs: {\n          'type': 'color',\n          'tabindex': '0'\n        },\n        className: cls.FORMAT_FONT_COLOR\n      });\n      td.appendChild(colorPicker1);\n      var colorPicker2 = createElement('input', {\n        id: this.parentID + 'backgroundcolor' + i,\n        attrs: {\n          'type': 'color',\n          'tabindex': '0'\n        },\n        className: cls.FORMAT_BACK_COLOR\n      });\n      td.appendChild(colorPicker2);\n      tRow.appendChild(td);\n      td = createElement('td');\n      var valuePreview = createElement('div', {\n        id: this.parentID + 'valuepreview' + i,\n        className: cls.INPUT + ' ' + cls.FORMAT_VALUE_PREVIEW,\n        innerHTML: '123.45'\n      });\n      td.appendChild(valuePreview);\n      tRow.appendChild(td);\n      table.appendChild(tRow);\n      innerDiv.appendChild(table);\n      outerDiv.appendChild(innerDiv);\n    }\n\n    return outerDiv;\n  };\n\n  ConditionalFormatting.prototype.renderDropDowns = function (i) {\n    var format = this.newFormat[i];\n    var fields = [];\n    /* eslint-disable-line */\n\n    fields.push({\n      index: 0,\n      name: this.parent.localeObj.getConstant('AllValues'),\n      field: this.parent.localeObj.getConstant('AllValues')\n    });\n\n    for (var i_1 = 0; i_1 < this.parent.dataSourceSettings.values.length; i_1++) {\n      fields.push({\n        index: i_1 + 1,\n        name: this.parent.dataSourceSettings.values[i_1].caption || this.parent.dataSourceSettings.values[i_1].name,\n        field: this.parent.dataSourceSettings.values[i_1].name\n      });\n    }\n\n    var value = isNaN(format.measure) ? this.parent.localeObj.getConstant('AllValues') : format.measure;\n    this.fieldsDropDown[i] = new DropDownList({\n      dataSource: fields,\n      fields: {\n        text: 'name',\n        value: 'field'\n      },\n      value: value,\n      width: this.parent.isAdaptive ? '100%' : '120px',\n      popupHeight: '200px',\n      popupWidth: 'auto',\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl,\n      change: this.measureChange.bind(this, i)\n    });\n    this.fieldsDropDown[i].isStringTemplate = true;\n    this.fieldsDropDown[i].appendTo('#' + this.parentID + 'measureinput' + i);\n    var conditions = [{\n      value: 'LessThan',\n      name: this.parent.localeObj.getConstant('LessThan')\n    }, {\n      value: 'LessThanOrEqualTo',\n      name: this.parent.localeObj.getConstant('LessThanOrEqualTo')\n    }, {\n      value: 'GreaterThan',\n      name: this.parent.localeObj.getConstant('GreaterThan')\n    }, {\n      value: 'GreaterThanOrEqualTo',\n      name: this.parent.localeObj.getConstant('GreaterThanOrEqualTo')\n    }, {\n      value: 'Equals',\n      name: this.parent.localeObj.getConstant('Equals')\n    }, {\n      value: 'NotEquals',\n      name: this.parent.localeObj.getConstant('NotEquals')\n    }, {\n      value: 'Between',\n      name: this.parent.localeObj.getConstant('Between')\n    }, {\n      value: 'NotBetween',\n      name: this.parent.localeObj.getConstant('NotBetween')\n    }];\n    value = isNaN(format.conditions) ? 'LessThan' : format.conditions;\n    this.conditionsDropDown[i] = new DropDownList({\n      dataSource: conditions,\n      fields: {\n        value: 'value',\n        text: 'name'\n      },\n      value: value,\n      width: this.parent.isAdaptive ? '100%' : '120px',\n      popupHeight: '200px',\n      popupWidth: 'auto',\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl,\n      change: this.conditionChange.bind(this, i)\n    });\n    this.conditionsDropDown[i].isStringTemplate = true;\n    this.conditionsDropDown[i].appendTo('#' + this.parentID + 'conditioninput' + i);\n    var fontNames = [{\n      index: 0,\n      name: 'Arial'\n    }, {\n      index: 1,\n      name: 'San Serif'\n    }, {\n      index: 2,\n      name: 'Impact'\n    }, {\n      index: 3,\n      name: 'Trebuchet MS'\n    }, {\n      index: 4,\n      name: 'Serif'\n    }, {\n      index: 5,\n      name: 'Verdana'\n    }, {\n      index: 6,\n      name: 'Courier New'\n    }, {\n      index: 7,\n      name: 'Times New Roman'\n    }, {\n      index: 8,\n      name: 'Tahoma'\n    }, {\n      index: 9,\n      name: 'Gerogia'\n    }];\n    value = isNaN(format.style.fontFamily) ? 'Arial' : format.style.fontFamily;\n    this.fontNameDropDown[i] = new DropDownList({\n      dataSource: fontNames,\n      fields: {\n        text: 'name'\n      },\n      value: value,\n      width: this.parent.isAdaptive ? '100%' : '120px',\n      popupWidth: '150px',\n      popupHeight: '200px',\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl,\n      change: this.fontNameChange.bind(this, i)\n    });\n    this.fontNameDropDown[i].isStringTemplate = true;\n    this.fontNameDropDown[i].appendTo('#' + this.parentID + 'fontnameinput' + i);\n    var fontSize = [{\n      index: 0,\n      name: '9px'\n    }, {\n      index: 1,\n      name: '10px'\n    }, {\n      index: 2,\n      name: '11px'\n    }, {\n      index: 3,\n      name: '12px'\n    }, {\n      index: 4,\n      name: '13px'\n    }, {\n      index: 5,\n      name: '14px'\n    }, {\n      index: 6,\n      name: '15px'\n    }, {\n      index: 6,\n      name: '16px'\n    }];\n    value = isNaN(format.style.fontSize) ? '12px' : format.style.fontSize;\n    this.fontSizeDropDown[i] = new DropDownList({\n      dataSource: fontSize,\n      fields: {\n        text: 'name'\n      },\n      popupHeight: '200px',\n      value: value,\n      width: this.parent.isAdaptive ? '100%' : '120px',\n      change: this.fontSizeChange.bind(this, i),\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl\n    });\n    this.fontSizeDropDown[i].isStringTemplate = true;\n    this.fontSizeDropDown[i].appendTo('#' + this.parentID + 'fontsizeinput' + i);\n  };\n\n  ConditionalFormatting.prototype.conditionChange = function (i, args) {\n    this.newFormat[i].conditions = args.value;\n\n    if (args.value === 'Between' || args.value === 'NotBetween') {\n      select('#' + this.parentID + 'valuespan' + i, document).style.display = 'inline-block';\n      select('#' + this.parentID + 'valuespan' + i, document).style.width = this.parent.isAdaptive ? '10%' : '10px';\n      select('#' + this.parentID + 'conditionvalue2' + i, document).style.display = 'inline-block';\n      select('#' + this.parentID + 'conditionvalue2' + i, document).style.width = this.parent.isAdaptive ? '35%' : '45px';\n      select('#' + this.parentID + 'conditionvalue1' + i, document).style.width = this.parent.isAdaptive ? '35%' : '45px';\n    } else {\n      select('#' + this.parentID + 'valuespan' + i, document).style.display = 'none';\n      select('#' + this.parentID + 'conditionvalue2' + i, document).style.display = 'none';\n      select('#' + this.parentID + 'conditionvalue1' + i, document).style.width = this.parent.isAdaptive ? '100%' : '120px';\n    }\n  };\n\n  ConditionalFormatting.prototype.fontNameChange = function (i, args) {\n    this.newFormat[i].style.fontFamily = args.value.toString();\n    select('#' + this.parentID + 'valuepreview' + i, document).style.fontFamily = args.value;\n  };\n\n  ConditionalFormatting.prototype.fontSizeChange = function (i, args) {\n    this.newFormat[i].style.fontSize = args.value.toString();\n    select('#' + this.parentID + 'valuepreview' + i, document).style.fontSize = args.value;\n  };\n\n  ConditionalFormatting.prototype.measureChange = function (i, args) {\n    this.newFormat[i].measure = args.value.toString() === this.parent.localeObj.getConstant('AllValues') ? undefined : args.value.toString();\n  };\n\n  ConditionalFormatting.prototype.renderColorPicker = function (i) {\n    var format = this.newFormat[i];\n    var value = isNaN(format.style.color) ? 'black' : format.style.color;\n    var color = this.isHex(value.substr(1)) ? value : this.colourNameToHex(value);\n    select('#' + this.parentID + 'valuepreview' + i, document).style.color = color;\n    this.fontColor[i] = new ColorPicker({\n      cssClass: cls.FORMAT_COLOR_PICKER + ' ' + cls.FORMAT_FONT_COLOR_PICKER,\n      value: color,\n      mode: 'Palette',\n      change: this.fontColorChange.bind(this, i),\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl\n    });\n    this.fontColor[i].isStringTemplate = true;\n    this.fontColor[i].appendTo('#' + this.parentID + 'fontcolor' + i);\n    addClass([this.fontColor[i].element.nextElementSibling.querySelector('.' + cls.SELECTED_COLOR)], cls.ICON);\n    value = isNaN(format.style.backgroundColor) ? 'white' : format.style.backgroundColor;\n    color = this.isHex(value.substr(1)) ? value : this.colourNameToHex(value);\n    select('#' + this.parentID + 'valuepreview' + i, document).style.backgroundColor = color;\n    select('#' + this.parentID + 'valuepreview' + i, document).style.fontFamily = format.style.fontFamily;\n    select('#' + this.parentID + 'valuepreview' + i, document).style.fontSize = format.style.fontSize;\n    this.backgroundColor[i] = new ColorPicker({\n      cssClass: cls.FORMAT_COLOR_PICKER,\n      value: color,\n      mode: 'Palette',\n      change: this.backColorChange.bind(this, i),\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl\n    });\n    this.backgroundColor[i].isStringTemplate = true;\n    this.backgroundColor[i].appendTo('#' + this.parentID + 'backgroundcolor' + i);\n    addClass([this.backgroundColor[i].element.nextElementSibling.querySelector('.e-selected-color')], cls.ICON);\n    var toggleBtn = new Button({\n      iconCss: cls.ICON + ' ' + cls.FORMAT_DELETE_ICON,\n      cssClass: cls.FLAT,\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl\n    });\n    toggleBtn.isStringTemplate = true;\n    toggleBtn.appendTo('#' + this.parentID + 'removeButton' + i);\n    toggleBtn.element.onclick = this.toggleButtonClick.bind(this, i);\n  };\n\n  ConditionalFormatting.prototype.backColorChange = function (i, args) {\n    this.newFormat[i].style.backgroundColor = args.currentValue.hex;\n    select('#' + this.parentID + 'valuepreview' + i, document).style.backgroundColor = args.currentValue.hex;\n  };\n\n  ConditionalFormatting.prototype.fontColorChange = function (i, args) {\n    this.newFormat[i].style.color = args.currentValue.hex;\n    select('#' + this.parentID + 'valuepreview' + i, document).style.color = args.currentValue.hex;\n  };\n\n  ConditionalFormatting.prototype.toggleButtonClick = function (i) {\n    this.destroyColorPickers();\n    this.newFormat.splice(i, 1);\n    this.addFormat();\n  };\n  /**\n   * To check is Hex or not.\n   * @param {string} h - hex value.\n   * @returns {boolean} - boolean.\n   * @hidden\n   */\n\n\n  ConditionalFormatting.prototype.isHex = function (h) {\n    var a = parseInt(h, 16);\n\n    while (h.charAt(0) === '0') {\n      h = h.substr(1);\n    }\n\n    return a.toString(16) === h.toLowerCase() || a === 0 && h === '';\n  };\n  /* eslint-disable-next-line */\n\n  /**\n   * To convert hex to RGB.\n   * @param {string} hex - hex value.\n   * @returns { r: number, g: number, b: number } | null - Hex value.\n   * @hidden\n   */\n\n\n  ConditionalFormatting.prototype.hexToRgb = function (hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n  };\n  /**\n   * To convert color to hex.\n   * @param {string} colour - color value.\n   * @returns {string} - color value.\n   * @hidden\n   */\n\n\n  ConditionalFormatting.prototype.colourNameToHex = function (colour) {\n    var colours = {\n      'aliceblue': '#f0f8ff',\n      'antiquewhite': '#faebd7',\n      'aqua': '#00ffff',\n      'aquamarine': '#7fffd4',\n      'azure': '#f0ffff',\n      'beige': '#f5f5dc',\n      'bisque': '#ffe4c4',\n      'black': '#000000',\n      'blanchedalmond': '#ffebcd',\n      'blue': '#0000ff',\n      'blueviolet': '#8a2be2',\n      'brown': '#a52a2a',\n      'burlywood': '#deb887',\n      'cadetblue': '#5f9ea0',\n      'chartreuse': '#7fff00',\n      'chocolate': '#d2691e',\n      'coral': '#ff7f50',\n      'cornflowerblue': '#6495ed',\n      'cornsilk': '#fff8dc',\n      'crimson': '#dc143c',\n      'cyan': '#00ffff',\n      'darkblue': '#00008b',\n      'darkcyan': '#008b8b',\n      'darkgoldenrod': '#b8860b',\n      'darkgray': '#a9a9a9',\n      'darkgreen': '#006400',\n      'darkkhaki': '#bdb76b',\n      'darkmagenta': '#8b008b',\n      'darkolivegreen': '#556b2f',\n      'darkorange': '#ff8c00',\n      'darkorchid': '#9932cc',\n      'darkred': '#8b0000',\n      'darksalmon': '#e9967a',\n      'darkseagreen': '#8fbc8f',\n      'darkslateblue': '#483d8b',\n      'darkslategray': '#2f4f4f',\n      'darkturquoise': '#00ced1',\n      'darkviolet': '#9400d3',\n      'deeppink': '#ff1493',\n      'deepskyblue': '#00bfff',\n      'dimgray': '#696969',\n      'dodgerblue': '#1e90ff',\n      'firebrick': '#b22222',\n      'floralwhite': '#fffaf0',\n      'forestgreen': '#228b22',\n      'fuchsia': '#ff00ff',\n      'gainsboro': '#dcdcdc',\n      'ghostwhite': '#f8f8ff',\n      'gold': '#ffd700',\n      'goldenrod': '#daa520',\n      'gray': '#808080',\n      'green': '#008000',\n      'greenyellow': '#adff2f',\n      'honeydew': '#f0fff0',\n      'hotpink': '#ff69b4',\n      'indianred ': '#cd5c5c',\n      'indigo': '#4b0082',\n      'ivory': '#fffff0',\n      'khaki': '#f0e68c',\n      'lavender': '#e6e6fa',\n      'lavenderblush': '#fff0f5',\n      'lawngreen': '#7cfc00',\n      'lemonchiffon': '#fffacd',\n      'lightblue': '#add8e6',\n      'lightcoral': '#f08080',\n      'lightcyan': '#e0ffff',\n      'lightgoldenrodyellow': '#fafad2',\n      'lightgrey': '#d3d3d3',\n      'lightgreen': '#90ee90',\n      'lightpink': '#ffb6c1',\n      'lightsalmon': '#ffa07a',\n      'lightseagreen': '#20b2aa',\n      'lightskyblue': '#87cefa',\n      'lightslategray': '#778899',\n      'lightsteelblue': '#b0c4de',\n      'lightyellow': '#ffffe0',\n      'lime': '#00ff00',\n      'limegreen': '#32cd32',\n      'linen': '#faf0e6',\n      'magenta': '#ff00ff',\n      'maroon': '#800000',\n      'mediumaquamarine': '#66cdaa',\n      'mediumblue': '#0000cd',\n      'mediumorchid': '#ba55d3',\n      'mediumpurple': '#9370d8',\n      'mediumseagreen': '#3cb371',\n      'mediumslateblue': '#7b68ee',\n      'mediumspringgreen': '#00fa9a',\n      'mediumturquoise': '#48d1cc',\n      'mediumvioletred': '#c71585',\n      'midnightblue': '#191970',\n      'mintcream': '#f5fffa',\n      'mistyrose': '#ffe4e1',\n      'moccasin': '#ffe4b5',\n      'navajowhite': '#ffdead',\n      'navy': '#000080',\n      'oldlace': '#fdf5e6',\n      'olive': '#808000',\n      'olivedrab': '#6b8e23',\n      'orange': '#ffa500',\n      'orangered': '#ff4500',\n      'orchid': '#da70d6',\n      'palegoldenrod': '#eee8aa',\n      'palegreen': '#98fb98',\n      'paleturquoise': '#afeeee',\n      'palevioletred': '#d87093',\n      'papayawhip': '#ffefd5',\n      'peachpuff': '#ffdab9',\n      'peru': '#cd853f',\n      'pink': '#ffc0cb',\n      'plum': '#dda0dd',\n      'powderblue': '#b0e0e6',\n      'purple': '#800080',\n      'rebeccapurple': '#663399',\n      'red': '#ff0000',\n      'rosybrown': '#bc8f8f',\n      'royalblue': '#4169e1',\n      'saddlebrown': '#8b4513',\n      'salmon': '#fa8072',\n      'sandybrown': '#f4a460',\n      'seagreen': '#2e8b57',\n      'seashell': '#fff5ee',\n      'sienna': '#a0522d',\n      'silver': '#c0c0c0',\n      'skyblue': '#87ceeb',\n      'slateblue': '#6a5acd',\n      'slategray': '#708090',\n      'snow': '#fffafa',\n      'springgreen': '#00ff7f',\n      'steelblue': '#4682b4',\n      'tan': '#d2b48c',\n      'teal': '#008080',\n      'thistle': '#d8bfd8',\n      'tomato': '#ff6347',\n      'turquoise': '#40e0d0',\n      'violet': '#ee82ee',\n      'wheat': '#f5deb3',\n      'white': '#ffffff',\n      'whitesmoke': '#f5f5f5',\n      'yellow': '#ffff00',\n      'yellowgreen': '#9acd32'\n    };\n\n    if (typeof colours[colour.toLowerCase()] !== 'undefined') {\n      return colours[colour.toLowerCase()];\n    } else if (colour.search('rgba') === 0) {\n      var value = colour.substr(5).split(')')[0].split(',');\n      var rgb = '';\n      var a = '';\n\n      for (var i = 0; i < value.length - 1; i++) {\n        value[i] = (+value[i]).toString(16);\n\n        if (value[i].length === 1) {\n          value[i] = '0' + value[i];\n        }\n\n        rgb = rgb + value[i];\n      }\n\n      a = Math.round(+value[3] * 255).toString(16);\n      return '#' + rgb + a;\n    } else if (colour.search('rgb') === 0) {\n      var value = colour.substr(4).split(')')[0].split(',');\n      var rgb = '';\n\n      for (var i = 0; i < value.length; i++) {\n        value[i] = (+value[i]).toString(16);\n\n        if (value[i].length === 1) {\n          value[i] = '0' + value[i];\n        }\n\n        rgb = rgb + value[i];\n      }\n\n      return '#' + rgb;\n    }\n\n    return '#d5d5d5';\n  };\n\n  ConditionalFormatting.prototype.removeDialog = function () {\n    if (this.dialog && !this.dialog.isDestroyed) {\n      this.destroyColorPickers();\n      this.dialog.destroy();\n    }\n\n    if (select('#' + this.parentID + 'conditionalformatting', document)) {\n      remove(select('#' + this.parentID + 'conditionalformatting', document));\n    }\n  };\n\n  ConditionalFormatting.prototype.destroyColorPickers = function () {\n    for (var i = 0; i < (this.newFormat ? this.newFormat.length : 0); i++) {\n      if (this.fontColor && this.fontColor[i] && !this.fontColor[i].isDestroyed) {\n        this.fontColor[i].destroy();\n      }\n\n      if (this.backgroundColor && this.backgroundColor[i] && !this.backgroundColor[i].isDestroyed) {\n        this.backgroundColor[i].destroy();\n      }\n    }\n  };\n  /**\n   * To create Conditional Formatting dialog.\n   * @returns {void}\n   */\n\n\n  ConditionalFormatting.prototype.showConditionalFormattingDialog = function () {\n    this.newFormat = [];\n\n    for (var i = 0; i < this.parent.dataSourceSettings.conditionalFormatSettings.length; i++) {\n      this.newFormat.push(extend({}, this.parent.dataSourceSettings.conditionalFormatSettings[i].properties,\n      /* eslint-disable-line */\n      null, true));\n    }\n\n    this.createDialog();\n    this.dialog.refresh();\n    this.addFormat();\n  };\n  /**\n   * To destroy the Conditional Formatting dialog\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ConditionalFormatting.prototype.destroy = function () {\n    if (this.dialog && !this.dialog.isDestroyed) {\n      this.dialog.close();\n    } else {\n      return;\n    }\n  };\n\n  return ConditionalFormatting;\n}();\n\nexport { ConditionalFormatting };","map":{"version":3,"sources":["/workspace/Commb-olap-poc/commb-olap-js/node_modules/@syncfusion/ej2-pivotview/src/common/conditionalformatting/conditional-formatting.js"],"names":["Dialog","isNullOrUndefined","isNaN","createElement","extend","remove","addClass","select","Button","ColorPicker","DropDownList","cls","events","ConditionalFormatting","parent","conditionalFormattingModule","parentID","element","id","dialog","fieldsDropDown","conditionsDropDown","fontNameDropDown","fontSizeDropDown","fontColor","backgroundColor","newFormat","prototype","getModuleName","createDialog","document","appendChild","buttonModel","click","addButtonClick","bind","cssClass","isAdaptive","FORMAT_ROUND_BUTTON","FORMAT_CONDITION_BUTTON","iconCss","ICON","ADD_ICON_CLASS","content","localeObj","getConstant","applyButtonClick","FLAT_CLASS","FORMAT_APPLY_BUTTON","cancelButtonClick","FORMAT_CANCEL_BUTTON","animationSettings","effect","isModal","width","height","showCloseIcon","closeOnEscape","enableRtl","locale","position","X","Y","allowDragging","buttons","beforeOpen","close","removeDialog","FORMAT_DIALOG","header","target","body","offsetTop","isStringTemplate","appendTo","args","querySelector","DIALOG_HEADER","setAttribute","_this","format","conditions","value1","applyGrandTotals","style","color","fontFamily","fontSize","conditionalFormating","trigger","conditionalFormatting","observedArgs","refreshConditionValues","destroyColorPickers","push","addFormat","setProperties","dataSourceSettings","conditionalFormatSettings","renderPivotGrid","i","length","value","focus","Number","value2","className","FORMAT_NEW","createDialogElements","outerDiv","EMPTY_FORMAT","innerHTML","renderDropDowns","renderColorPicker","FORMAT_OUTER","undefined","button","FORMAT_DELETE_BUTTON","attrs","type","innerDiv","FORMAT_INNER","table","FORMAT_TABLE","tRow","td","valuelabel","FORMAT_VALUE_LABEL","measureDropdown","measureInput","conditionDropdown","conditionInput","toString","styles","INPUT","FORMAT_VALUE1","valuespan","FORMAT_VALUE_SPAN","FORMAT_VALUE2","formatlabel","FORMAT_LABEL","fontNameDropdown","fontNameInput","fontSizeDropdown","fontSizeInput","colorPicker1","FORMAT_FONT_COLOR","colorPicker2","FORMAT_BACK_COLOR","valuePreview","FORMAT_VALUE_PREVIEW","fields","index","name","field","i_1","values","caption","measure","dataSource","text","popupHeight","popupWidth","change","measureChange","conditionChange","fontNames","fontNameChange","fontSizeChange","display","isHex","substr","colourNameToHex","FORMAT_COLOR_PICKER","FORMAT_FONT_COLOR_PICKER","mode","fontColorChange","nextElementSibling","SELECTED_COLOR","backColorChange","toggleBtn","FORMAT_DELETE_ICON","FLAT","onclick","toggleButtonClick","currentValue","hex","splice","h","a","parseInt","charAt","toLowerCase","hexToRgb","result","exec","r","g","b","colour","colours","search","split","rgb","Math","round","isDestroyed","destroy","showConditionalFormattingDialog","properties","refresh"],"mappings":"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","sourcesContent":["import { Dialog } from '@syncfusion/ej2-popups';\nimport { isNullOrUndefined as isNaN, createElement, extend, remove, addClass, select } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\n/**\n * Module to render Conditional Formatting Dialog\n */\n/** @hidden */\nvar ConditionalFormatting = /** @class */ (function () {\n    /** Constructor for conditionalformatting module\n     * @param {PivotView} parent - Instance of pivot table.\n     */\n    function ConditionalFormatting(parent) {\n        this.parent = parent;\n        this.parent.conditionalFormattingModule = this;\n        this.parentID = this.parent.element.id;\n        this.dialog = null;\n        this.fieldsDropDown = [];\n        this.conditionsDropDown = [];\n        this.fontNameDropDown = [];\n        this.fontSizeDropDown = [];\n        this.fontColor = [];\n        this.backgroundColor = [];\n        this.newFormat = [];\n    }\n    /**\n     * To get module name.\n     * @returns {string} - Module name.\n     */\n    ConditionalFormatting.prototype.getModuleName = function () {\n        return 'conditionalFormatting';\n    };\n    ConditionalFormatting.prototype.createDialog = function () {\n        if (select('#' + this.parentID + 'conditionalformatting', document) !== null) {\n            remove(select('#' + this.parentID + 'conditionalformatting', document));\n        }\n        this.parent.element.appendChild(createElement('div', {\n            id: this.parentID + 'conditionalformatting'\n        }));\n        var buttonModel = [\n            {\n                click: this.addButtonClick.bind(this),\n                buttonModel: {\n                    cssClass: this.parent.isAdaptive ? (cls.FORMAT_ROUND_BUTTON + ' ' + cls.FORMAT_CONDITION_BUTTON) :\n                        cls.FORMAT_CONDITION_BUTTON,\n                    iconCss: cls.ICON + ' ' + cls.ADD_ICON_CLASS,\n                    content: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant('condition')\n                }\n            },\n            {\n                click: this.applyButtonClick.bind(this),\n                buttonModel: {\n                    cssClass: cls.FLAT_CLASS + ' ' + cls.FORMAT_APPLY_BUTTON,\n                    content: this.parent.localeObj.getConstant('apply')\n                }\n            },\n            {\n                click: this.cancelButtonClick.bind(this),\n                buttonModel: {\n                    cssClass: cls.FLAT_CLASS + ' ' + cls.FORMAT_CANCEL_BUTTON,\n                    content: this.parent.localeObj.getConstant('cancel')\n                }\n            }\n        ];\n        if (this.parent.isAdaptive) {\n            this.dialog = new Dialog({\n                animationSettings: { effect: 'Zoom' }, isModal: true, width: '100%', height: '100%',\n                showCloseIcon: false, closeOnEscape: false, enableRtl: this.parent.enableRtl, locale: this.parent.locale,\n                position: { X: 'center', Y: 'center' }, allowDragging: true, buttons: buttonModel,\n                beforeOpen: this.beforeOpen.bind(this), close: this.removeDialog.bind(this),\n                cssClass: cls.FORMAT_DIALOG, header: this.parent.localeObj.getConstant('conditionalFormating'), target: document.body\n            });\n        }\n        else {\n            this.dialog = new Dialog({\n                allowDragging: true, position: { X: 'center', Y: this.parent.element.offsetTop }, buttons: buttonModel,\n                beforeOpen: this.beforeOpen.bind(this), close: this.removeDialog.bind(this),\n                cssClass: cls.FORMAT_DIALOG, isModal: false, closeOnEscape: true, enableRtl: this.parent.enableRtl, locale: this.parent.locale,\n                showCloseIcon: true, header: this.parent.localeObj.getConstant('conditionalFormating'), target: this.parent.element\n            });\n        }\n        this.dialog.isStringTemplate = true;\n        this.dialog.appendTo('#' + this.parentID + 'conditionalformatting');\n        // this.dialog.element.querySelector('.e-dlg-header').innerHTML = this.parent.localeObj.getConstant('conditionalFormating');\n    };\n    ConditionalFormatting.prototype.beforeOpen = function (args) {\n        this.dialog.element.querySelector('.' + cls.DIALOG_HEADER).\n            setAttribute('title', this.parent.localeObj.getConstant('conditionalFormating'));\n    };\n    ConditionalFormatting.prototype.addButtonClick = function () {\n        var _this = this;\n        var format = {\n            conditions: 'LessThan',\n            value1: 0,\n            applyGrandTotals: true,\n            style: {\n                backgroundColor: 'white',\n                color: 'black',\n                fontFamily: 'Arial',\n                fontSize: '12px'\n            }\n        };\n        var conditionalFormating = this; /* eslint-disable-line */\n        this.parent.trigger(events.conditionalFormatting, format, function (observedArgs) {\n            conditionalFormating.refreshConditionValues();\n            _this.destroyColorPickers();\n            conditionalFormating.newFormat.push(observedArgs);\n            conditionalFormating.addFormat();\n        });\n    };\n    ConditionalFormatting.prototype.applyButtonClick = function () {\n        if (this.refreshConditionValues()) {\n            this.parent.setProperties({ dataSourceSettings: { conditionalFormatSettings: this.newFormat } }, true);\n            this.parent.renderPivotGrid();\n            this.dialog.close();\n        }\n    };\n    ConditionalFormatting.prototype.cancelButtonClick = function () {\n        this.dialog.close();\n        this.newFormat = [];\n    };\n    ConditionalFormatting.prototype.refreshConditionValues = function () {\n        for (var i = 0; i < this.newFormat.length; i++) {\n            if (select('#' + this.parentID + 'conditionvalue1' + i, document).value === '' ||\n                select('#' + this.parentID + 'conditionvalue2' + i, document).value === '') {\n                select('#' + this.parentID + 'conditionvalue1' + i, document).value === '' ? /* eslint-disable-line */\n                    select('#' + this.parentID + 'conditionvalue1' + i, document).focus() :\n                    select('#' + this.parentID + 'conditionvalue2' + i, document).focus();\n                return false;\n            }\n            this.newFormat[i].value1 =\n                Number(select('#' + this.parentID + 'conditionvalue1' + i, document).value);\n            this.newFormat[i].value2 =\n                Number(select('#' + this.parentID + 'conditionvalue2' + i, document).value);\n        }\n        return true;\n    };\n    ConditionalFormatting.prototype.addFormat = function () {\n        var format = createElement('div', { id: this.parentID + 'formatDiv', className: cls.FORMAT_NEW });\n        for (var i = 0; i < this.newFormat.length; i++) {\n            format.appendChild(this.createDialogElements(i));\n        }\n        if (this.newFormat.length === 0) {\n            var outerDiv = this.createDialogElements();\n            var element = createElement('p', {\n                id: this.parentID + 'emptyFormat',\n                className: cls.EMPTY_FORMAT,\n                innerHTML: this.parent.localeObj.getConstant('emptyFormat')\n            });\n            outerDiv.appendChild(element);\n            format.appendChild(outerDiv);\n        }\n        this.dialog.setProperties({ 'content': format }, false);\n        for (var i = 0; i < this.newFormat.length; i++) {\n            this.renderDropDowns(i);\n            this.renderColorPicker(i);\n        }\n    };\n    ConditionalFormatting.prototype.createDialogElements = function (i) {\n        var outerDiv = createElement('div', {\n            id: this.parentID + 'outerDiv' + i, className: cls.FORMAT_OUTER\n        });\n        if (i !== undefined) {\n            var format = this.newFormat[i];\n            var button = createElement('button', {\n                id: this.parentID + 'removeButton' + i, className: cls.FORMAT_DELETE_BUTTON,\n                attrs: { type: 'button', 'title': this.parent.localeObj.getConstant('delete') }\n            });\n            outerDiv.appendChild(button);\n            var innerDiv = createElement('div', { id: this.parentID + 'innerDiv', className: cls.FORMAT_INNER });\n            var table = createElement('table', { id: this.parentID + 'cftable', className: cls.FORMAT_TABLE });\n            var tRow = createElement('tr');\n            var td = createElement('td');\n            var valuelabel = createElement('span', {\n                id: this.parentID + 'valuelabel' + i, className: cls.FORMAT_VALUE_LABEL,\n                innerHTML: this.parent.localeObj.getConstant('value')\n            });\n            td.appendChild(valuelabel);\n            tRow.appendChild(td);\n            table.appendChild(tRow);\n            tRow = createElement('tr');\n            td = createElement('td');\n            var measureDropdown = createElement('div', { id: this.parentID + 'measure' + i });\n            var measureInput = createElement('input', {\n                id: this.parentID + 'measureinput' + i,\n                attrs: { 'type': 'text', 'tabindex': '0' }\n            });\n            measureDropdown.appendChild(measureInput);\n            td.appendChild(measureDropdown);\n            tRow.appendChild(td);\n            td = createElement('td');\n            var conditionDropdown = createElement('div', { id: this.parentID + 'condition' });\n            var conditionInput = createElement('input', {\n                id: this.parentID + 'conditioninput' + i,\n                attrs: { 'type': 'text', 'tabindex': '0' }\n            });\n            conditionDropdown.appendChild(conditionInput);\n            td.appendChild(conditionDropdown);\n            tRow.appendChild(td);\n            td = createElement('td');\n            var style = !(format.conditions === 'Between' || format.conditions === 'NotBetween') ? 'display:none; width:10px' : '';\n            var value1 = createElement('input', {\n                id: this.parentID + 'conditionvalue1' + i,\n                attrs: {\n                    'type': 'text', 'tabindex': '0', 'value': !isNaN(format.value1) ? format.value1.toString() : '0',\n                    'placeholder': this.parent.localeObj.getConstant('emptyInput')\n                },\n                styles: this.parent.isAdaptive ? style === '' ? 'width: 35%' : 'width: 100%' : style === '' ? 'width: 45px' :\n                    'width: 120px',\n                className: cls.INPUT + ' ' + cls.FORMAT_VALUE1\n            });\n            td.appendChild(value1);\n            var valuespan = createElement('span', {\n                id: this.parentID + 'valuespan' + i, className: cls.FORMAT_VALUE_SPAN,\n                innerHTML: '&', styles: style\n            });\n            td.appendChild(valuespan);\n            var value2 = createElement('input', {\n                id: this.parentID + 'conditionvalue2' + i,\n                attrs: {\n                    'type': 'text', 'tabindex': '0', 'value': !isNaN(format.value2) ? format.value2.toString() : '0',\n                    'placeholder': this.parent.localeObj.getConstant('emptyInput')\n                },\n                styles: (this.parent.isAdaptive && style === '') ? 'width: 35%' : style === '' ? 'width: 45px' : style,\n                className: cls.INPUT + ' ' + cls.FORMAT_VALUE2\n            });\n            td.appendChild(value2);\n            tRow.appendChild(td);\n            table.appendChild(tRow);\n            if (this.parent.isAdaptive) {\n                innerDiv.appendChild(table);\n                table = createElement('table', { id: this.parentID + 'cftable', className: cls.FORMAT_TABLE });\n            }\n            tRow = createElement('tr');\n            td = createElement('td');\n            var formatlabel = createElement('span', {\n                id: this.parentID + 'formatlabel' + i, className: cls.FORMAT_LABEL,\n                innerHTML: this.parent.localeObj.getConstant('formatLabel')\n            });\n            td.appendChild(formatlabel);\n            tRow.appendChild(td);\n            table.appendChild(tRow);\n            tRow = createElement('tr');\n            td = createElement('td');\n            var fontNameDropdown = createElement('div', { id: this.parentID + 'fontname' });\n            var fontNameInput = createElement('input', {\n                id: this.parentID + 'fontnameinput' + i, attrs: { 'type': 'text', 'tabindex': '0' }\n            });\n            fontNameDropdown.appendChild(fontNameInput);\n            td.appendChild(fontNameDropdown);\n            tRow.appendChild(td);\n            td = createElement('td');\n            var fontSizeDropdown = createElement('div', { id: this.parentID + 'fontsize' });\n            var fontSizeInput = createElement('input', {\n                id: this.parentID + 'fontsizeinput' + i, attrs: { 'type': 'text', 'tabindex': '0' }\n            });\n            fontSizeDropdown.appendChild(fontSizeInput);\n            td.appendChild(fontSizeDropdown);\n            tRow.appendChild(td);\n            if (this.parent.isAdaptive) {\n                table.appendChild(tRow);\n                tRow = createElement('tr');\n                table.appendChild(tRow);\n                tRow = createElement('tr');\n            }\n            td = createElement('td');\n            var colorPicker1 = createElement('input', {\n                id: this.parentID + 'fontcolor' + i, attrs: { 'type': 'color', 'tabindex': '0' }, className: cls.FORMAT_FONT_COLOR\n            });\n            td.appendChild(colorPicker1);\n            var colorPicker2 = createElement('input', {\n                id: this.parentID + 'backgroundcolor' + i, attrs: { 'type': 'color', 'tabindex': '0' }, className: cls.FORMAT_BACK_COLOR\n            });\n            td.appendChild(colorPicker2);\n            tRow.appendChild(td);\n            td = createElement('td');\n            var valuePreview = createElement('div', {\n                id: this.parentID + 'valuepreview' + i, className: cls.INPUT + ' ' + cls.FORMAT_VALUE_PREVIEW,\n                innerHTML: '123.45'\n            });\n            td.appendChild(valuePreview);\n            tRow.appendChild(td);\n            table.appendChild(tRow);\n            innerDiv.appendChild(table);\n            outerDiv.appendChild(innerDiv);\n        }\n        return outerDiv;\n    };\n    ConditionalFormatting.prototype.renderDropDowns = function (i) {\n        var format = this.newFormat[i];\n        var fields = []; /* eslint-disable-line */\n        fields.push({\n            index: 0, name: this.parent.localeObj.getConstant('AllValues'),\n            field: this.parent.localeObj.getConstant('AllValues')\n        });\n        for (var i_1 = 0; i_1 < this.parent.dataSourceSettings.values.length; i_1++) {\n            fields.push({\n                index: i_1 + 1,\n                name: this.parent.dataSourceSettings.values[i_1].caption || this.parent.dataSourceSettings.values[i_1].name,\n                field: this.parent.dataSourceSettings.values[i_1].name\n            });\n        }\n        var value = isNaN(format.measure) ? this.parent.localeObj.getConstant('AllValues') : format.measure;\n        this.fieldsDropDown[i] = new DropDownList({\n            dataSource: fields, fields: { text: 'name', value: 'field' },\n            value: value, width: this.parent.isAdaptive ? '100%' : '120px',\n            popupHeight: '200px', popupWidth: 'auto', locale: this.parent.locale, enableRtl: this.parent.enableRtl,\n            change: this.measureChange.bind(this, i)\n        });\n        this.fieldsDropDown[i].isStringTemplate = true;\n        this.fieldsDropDown[i].appendTo('#' + this.parentID + 'measureinput' + i);\n        var conditions = [\n            { value: 'LessThan', name: this.parent.localeObj.getConstant('LessThan') },\n            { value: 'LessThanOrEqualTo', name: this.parent.localeObj.getConstant('LessThanOrEqualTo') },\n            { value: 'GreaterThan', name: this.parent.localeObj.getConstant('GreaterThan') },\n            { value: 'GreaterThanOrEqualTo', name: this.parent.localeObj.getConstant('GreaterThanOrEqualTo') },\n            { value: 'Equals', name: this.parent.localeObj.getConstant('Equals') },\n            { value: 'NotEquals', name: this.parent.localeObj.getConstant('NotEquals') },\n            { value: 'Between', name: this.parent.localeObj.getConstant('Between') },\n            { value: 'NotBetween', name: this.parent.localeObj.getConstant('NotBetween') }\n        ];\n        value = isNaN(format.conditions) ? 'LessThan' : format.conditions;\n        this.conditionsDropDown[i] = new DropDownList({\n            dataSource: conditions, fields: { value: 'value', text: 'name' },\n            value: value, width: this.parent.isAdaptive ? '100%' : '120px',\n            popupHeight: '200px', popupWidth: 'auto', locale: this.parent.locale, enableRtl: this.parent.enableRtl,\n            change: this.conditionChange.bind(this, i)\n        });\n        this.conditionsDropDown[i].isStringTemplate = true;\n        this.conditionsDropDown[i].appendTo('#' + this.parentID + 'conditioninput' + i);\n        var fontNames = [\n            { index: 0, name: 'Arial' }, { index: 1, name: 'San Serif' }, { index: 2, name: 'Impact' },\n            { index: 3, name: 'Trebuchet MS' }, { index: 4, name: 'Serif' }, { index: 5, name: 'Verdana' },\n            { index: 6, name: 'Courier New' }, { index: 7, name: 'Times New Roman' }, { index: 8, name: 'Tahoma' },\n            { index: 9, name: 'Gerogia' }\n        ];\n        value = isNaN(format.style.fontFamily) ? 'Arial' : format.style.fontFamily;\n        this.fontNameDropDown[i] = new DropDownList({\n            dataSource: fontNames, fields: { text: 'name' },\n            value: value, width: this.parent.isAdaptive ? '100%' : '120px',\n            popupWidth: '150px', popupHeight: '200px', locale: this.parent.locale, enableRtl: this.parent.enableRtl,\n            change: this.fontNameChange.bind(this, i)\n        });\n        this.fontNameDropDown[i].isStringTemplate = true;\n        this.fontNameDropDown[i].appendTo('#' + this.parentID + 'fontnameinput' + i);\n        var fontSize = [\n            { index: 0, name: '9px' }, { index: 1, name: '10px' }, { index: 2, name: '11px' }, { index: 3, name: '12px' },\n            { index: 4, name: '13px' }, { index: 5, name: '14px' }, { index: 6, name: '15px' }, { index: 6, name: '16px' }\n        ];\n        value = isNaN(format.style.fontSize) ? '12px' : format.style.fontSize;\n        this.fontSizeDropDown[i] = new DropDownList({\n            dataSource: fontSize, fields: { text: 'name' }, popupHeight: '200px',\n            value: value, width: this.parent.isAdaptive ? '100%' : '120px',\n            change: this.fontSizeChange.bind(this, i),\n            locale: this.parent.locale, enableRtl: this.parent.enableRtl\n        });\n        this.fontSizeDropDown[i].isStringTemplate = true;\n        this.fontSizeDropDown[i].appendTo('#' + this.parentID + 'fontsizeinput' + i);\n    };\n    ConditionalFormatting.prototype.conditionChange = function (i, args) {\n        this.newFormat[i].conditions = args.value;\n        if (args.value === 'Between' || args.value === 'NotBetween') {\n            select('#' + this.parentID + 'valuespan' + i, document).style.display = 'inline-block';\n            select('#' + this.parentID + 'valuespan' + i, document).style.width =\n                this.parent.isAdaptive ? '10%' : '10px';\n            select('#' + this.parentID + 'conditionvalue2' + i, document).style.display = 'inline-block';\n            select('#' + this.parentID + 'conditionvalue2' + i, document).style.width =\n                this.parent.isAdaptive ? '35%' : '45px';\n            select('#' + this.parentID + 'conditionvalue1' + i, document).style.width =\n                this.parent.isAdaptive ? '35%' : '45px';\n        }\n        else {\n            select('#' + this.parentID + 'valuespan' + i, document).style.display = 'none';\n            select('#' + this.parentID + 'conditionvalue2' + i, document).style.display = 'none';\n            select('#' + this.parentID + 'conditionvalue1' + i, document).style.width =\n                this.parent.isAdaptive ? '100%' : '120px';\n        }\n    };\n    ConditionalFormatting.prototype.fontNameChange = function (i, args) {\n        this.newFormat[i].style.fontFamily = args.value.toString();\n        select('#' + this.parentID + 'valuepreview' + i, document).style.fontFamily = args.value;\n    };\n    ConditionalFormatting.prototype.fontSizeChange = function (i, args) {\n        this.newFormat[i].style.fontSize = args.value.toString();\n        select('#' + this.parentID + 'valuepreview' + i, document).style.fontSize = args.value;\n    };\n    ConditionalFormatting.prototype.measureChange = function (i, args) {\n        this.newFormat[i].measure = args.value.toString() === this.parent.localeObj.getConstant('AllValues') ?\n            undefined : args.value.toString();\n    };\n    ConditionalFormatting.prototype.renderColorPicker = function (i) {\n        var format = this.newFormat[i];\n        var value = isNaN(format.style.color) ? 'black' : format.style.color;\n        var color = this.isHex(value.substr(1)) ? value : this.colourNameToHex(value);\n        select('#' + this.parentID + 'valuepreview' + i, document).style.color = color;\n        this.fontColor[i] = new ColorPicker({\n            cssClass: cls.FORMAT_COLOR_PICKER + ' ' + cls.FORMAT_FONT_COLOR_PICKER,\n            value: color, mode: 'Palette',\n            change: this.fontColorChange.bind(this, i),\n            locale: this.parent.locale, enableRtl: this.parent.enableRtl\n        });\n        this.fontColor[i].isStringTemplate = true;\n        this.fontColor[i].appendTo('#' + this.parentID + 'fontcolor' + i);\n        addClass([this.fontColor[i].element.nextElementSibling.querySelector('.' + cls.SELECTED_COLOR)], cls.ICON);\n        value = isNaN(format.style.backgroundColor) ? 'white' : format.style.backgroundColor;\n        color = this.isHex(value.substr(1)) ? value : this.colourNameToHex(value);\n        select('#' + this.parentID + 'valuepreview' + i, document).style.backgroundColor = color;\n        select('#' + this.parentID + 'valuepreview' + i, document).style.fontFamily = format.style.fontFamily;\n        select('#' + this.parentID + 'valuepreview' + i, document).style.fontSize = format.style.fontSize;\n        this.backgroundColor[i] = new ColorPicker({\n            cssClass: cls.FORMAT_COLOR_PICKER, value: color, mode: 'Palette',\n            change: this.backColorChange.bind(this, i),\n            locale: this.parent.locale, enableRtl: this.parent.enableRtl\n        });\n        this.backgroundColor[i].isStringTemplate = true;\n        this.backgroundColor[i].appendTo('#' + this.parentID + 'backgroundcolor' + i);\n        addClass([this.backgroundColor[i].element.nextElementSibling.querySelector('.e-selected-color')], cls.ICON);\n        var toggleBtn = new Button({\n            iconCss: cls.ICON + ' ' + cls.FORMAT_DELETE_ICON,\n            cssClass: cls.FLAT, locale: this.parent.locale, enableRtl: this.parent.enableRtl\n        });\n        toggleBtn.isStringTemplate = true;\n        toggleBtn.appendTo('#' + this.parentID + 'removeButton' + i);\n        toggleBtn.element.onclick = this.toggleButtonClick.bind(this, i);\n    };\n    ConditionalFormatting.prototype.backColorChange = function (i, args) {\n        this.newFormat[i].style.backgroundColor = args.currentValue.hex;\n        select('#' + this.parentID + 'valuepreview' + i, document).style.backgroundColor =\n            args.currentValue.hex;\n    };\n    ConditionalFormatting.prototype.fontColorChange = function (i, args) {\n        this.newFormat[i].style.color = args.currentValue.hex;\n        select('#' + this.parentID + 'valuepreview' + i, document).style.color =\n            args.currentValue.hex;\n    };\n    ConditionalFormatting.prototype.toggleButtonClick = function (i) {\n        this.destroyColorPickers();\n        this.newFormat.splice(i, 1);\n        this.addFormat();\n    };\n    /**\n     * To check is Hex or not.\n     * @param {string} h - hex value.\n     * @returns {boolean} - boolean.\n     * @hidden\n     */\n    ConditionalFormatting.prototype.isHex = function (h) {\n        var a = parseInt(h, 16);\n        while (h.charAt(0) === '0') {\n            h = h.substr(1);\n        }\n        return (a.toString(16) === h.toLowerCase() || (a === 0 && h === ''));\n    };\n    /* eslint-disable-next-line */\n    /**\n     * To convert hex to RGB.\n     * @param {string} hex - hex value.\n     * @returns { r: number, g: number, b: number } | null - Hex value.\n     * @hidden\n     */\n    ConditionalFormatting.prototype.hexToRgb = function (hex) {\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return result ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        } : null;\n    };\n    /**\n     * To convert color to hex.\n     * @param {string} colour - color value.\n     * @returns {string} - color value.\n     * @hidden\n     */\n    ConditionalFormatting.prototype.colourNameToHex = function (colour) {\n        var colours = {\n            'aliceblue': '#f0f8ff', 'antiquewhite': '#faebd7', 'aqua': '#00ffff', 'aquamarine': '#7fffd4',\n            'azure': '#f0ffff', 'beige': '#f5f5dc', 'bisque': '#ffe4c4', 'black': '#000000',\n            'blanchedalmond': '#ffebcd', 'blue': '#0000ff',\n            'blueviolet': '#8a2be2', 'brown': '#a52a2a', 'burlywood': '#deb887', 'cadetblue': '#5f9ea0',\n            'chartreuse': '#7fff00', 'chocolate': '#d2691e',\n            'coral': '#ff7f50', 'cornflowerblue': '#6495ed', 'cornsilk': '#fff8dc', 'crimson': '#dc143c', 'cyan': '#00ffff',\n            'darkblue': '#00008b', 'darkcyan': '#008b8b', 'darkgoldenrod': '#b8860b', 'darkgray': '#a9a9a9', 'darkgreen': '#006400',\n            'darkkhaki': '#bdb76b', 'darkmagenta': '#8b008b', 'darkolivegreen': '#556b2f',\n            'darkorange': '#ff8c00', 'darkorchid': '#9932cc', 'darkred': '#8b0000', 'darksalmon': '#e9967a', 'darkseagreen': '#8fbc8f',\n            'darkslateblue': '#483d8b', 'darkslategray': '#2f4f4f', 'darkturquoise': '#00ced1',\n            'darkviolet': '#9400d3', 'deeppink': '#ff1493', 'deepskyblue': '#00bfff', 'dimgray': '#696969', 'dodgerblue': '#1e90ff',\n            'firebrick': '#b22222', 'floralwhite': '#fffaf0', 'forestgreen': '#228b22', 'fuchsia': '#ff00ff',\n            'gainsboro': '#dcdcdc', 'ghostwhite': '#f8f8ff', 'gold': '#ffd700', 'goldenrod': '#daa520',\n            'gray': '#808080', 'green': '#008000',\n            'greenyellow': '#adff2f', 'honeydew': '#f0fff0', 'hotpink': '#ff69b4', 'indianred ': '#cd5c5c',\n            'indigo': '#4b0082', 'ivory': '#fffff0',\n            'khaki': '#f0e68c', 'lavender': '#e6e6fa', 'lavenderblush': '#fff0f5', 'lawngreen': '#7cfc00', 'lemonchiffon': '#fffacd',\n            'lightblue': '#add8e6', 'lightcoral': '#f08080', 'lightcyan': '#e0ffff', 'lightgoldenrodyellow': '#fafad2',\n            'lightgrey': '#d3d3d3', 'lightgreen': '#90ee90', 'lightpink': '#ffb6c1', 'lightsalmon': '#ffa07a', 'lightseagreen': '#20b2aa',\n            'lightskyblue': '#87cefa', 'lightslategray': '#778899', 'lightsteelblue': '#b0c4de',\n            'lightyellow': '#ffffe0', 'lime': '#00ff00', 'limegreen': '#32cd32', 'linen': '#faf0e6',\n            'magenta': '#ff00ff', 'maroon': '#800000', 'mediumaquamarine': '#66cdaa', 'mediumblue': '#0000cd', 'mediumorchid': '#ba55d3',\n            'mediumpurple': '#9370d8', 'mediumseagreen': '#3cb371', 'mediumslateblue': '#7b68ee',\n            'mediumspringgreen': '#00fa9a', 'mediumturquoise': '#48d1cc', 'mediumvioletred': '#c71585', 'midnightblue': '#191970',\n            'mintcream': '#f5fffa', 'mistyrose': '#ffe4e1', 'moccasin': '#ffe4b5', 'navajowhite': '#ffdead', 'navy': '#000080',\n            'oldlace': '#fdf5e6', 'olive': '#808000', 'olivedrab': '#6b8e23', 'orange': '#ffa500', 'orangered': '#ff4500',\n            'orchid': '#da70d6',\n            'palegoldenrod': '#eee8aa', 'palegreen': '#98fb98', 'paleturquoise': '#afeeee', 'palevioletred': '#d87093',\n            'papayawhip': '#ffefd5',\n            'peachpuff': '#ffdab9', 'peru': '#cd853f', 'pink': '#ffc0cb', 'plum': '#dda0dd', 'powderblue': '#b0e0e6', 'purple': '#800080',\n            'rebeccapurple': '#663399', 'red': '#ff0000', 'rosybrown': '#bc8f8f', 'royalblue': '#4169e1',\n            'saddlebrown': '#8b4513', 'salmon': '#fa8072', 'sandybrown': '#f4a460', 'seagreen': '#2e8b57',\n            'seashell': '#fff5ee', 'sienna': '#a0522d',\n            'silver': '#c0c0c0', 'skyblue': '#87ceeb', 'slateblue': '#6a5acd', 'slategray': '#708090', 'snow': '#fffafa',\n            'springgreen': '#00ff7f',\n            'steelblue': '#4682b4', 'tan': '#d2b48c', 'teal': '#008080', 'thistle': '#d8bfd8', 'tomato': '#ff6347', 'turquoise': '#40e0d0',\n            'violet': '#ee82ee', 'wheat': '#f5deb3', 'white': '#ffffff', 'whitesmoke': '#f5f5f5', 'yellow': '#ffff00',\n            'yellowgreen': '#9acd32'\n        };\n        if (typeof colours[colour.toLowerCase()] !== 'undefined') {\n            return colours[colour.toLowerCase()];\n        }\n        else if (colour.search('rgba') === 0) {\n            var value = colour.substr(5).split(')')[0].split(',');\n            var rgb = '';\n            var a = '';\n            for (var i = 0; i < value.length - 1; i++) {\n                value[i] = (+value[i]).toString(16);\n                if (value[i].length === 1) {\n                    value[i] = '0' + value[i];\n                }\n                rgb = rgb + value[i];\n            }\n            a = (Math.round(+value[3] * 255)).toString(16);\n            return '#' + rgb + a;\n        }\n        else if (colour.search('rgb') === 0) {\n            var value = colour.substr(4).split(')')[0].split(',');\n            var rgb = '';\n            for (var i = 0; i < value.length; i++) {\n                value[i] = (+value[i]).toString(16);\n                if (value[i].length === 1) {\n                    value[i] = '0' + value[i];\n                }\n                rgb = rgb + value[i];\n            }\n            return '#' + rgb;\n        }\n        return '#d5d5d5';\n    };\n    ConditionalFormatting.prototype.removeDialog = function () {\n        if (this.dialog && !this.dialog.isDestroyed) {\n            this.destroyColorPickers();\n            this.dialog.destroy();\n        }\n        if (select('#' + this.parentID + 'conditionalformatting', document)) {\n            remove(select('#' + this.parentID + 'conditionalformatting', document));\n        }\n    };\n    ConditionalFormatting.prototype.destroyColorPickers = function () {\n        for (var i = 0; i < (this.newFormat ? this.newFormat.length : 0); i++) {\n            if (this.fontColor && this.fontColor[i] && !this.fontColor[i].isDestroyed) {\n                this.fontColor[i].destroy();\n            }\n            if (this.backgroundColor && this.backgroundColor[i] && !this.backgroundColor[i].isDestroyed) {\n                this.backgroundColor[i].destroy();\n            }\n        }\n    };\n    /**\n     * To create Conditional Formatting dialog.\n     * @returns {void}\n     */\n    ConditionalFormatting.prototype.showConditionalFormattingDialog = function () {\n        this.newFormat = [];\n        for (var i = 0; i < this.parent.dataSourceSettings.conditionalFormatSettings.length; i++) {\n            this.newFormat.push(extend({}, this.parent.dataSourceSettings.conditionalFormatSettings[i].properties, /* eslint-disable-line */ null, true));\n        }\n        this.createDialog();\n        this.dialog.refresh();\n        this.addFormat();\n    };\n    /**\n     * To destroy the Conditional Formatting dialog\n     * @returns {void}\n     * @hidden\n     */\n    ConditionalFormatting.prototype.destroy = function () {\n        if (this.dialog && !this.dialog.isDestroyed) {\n            this.dialog.close();\n        }\n        else {\n            return;\n        }\n    };\n    return ConditionalFormatting;\n}());\nexport { ConditionalFormatting };\n"]},"metadata":{},"sourceType":"module"}