{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n/**\n * This is a file to perform common utility for OLAP and Relational datasource\n * @hidden\n */\n\nvar PivotUtil = function () {\n  function PivotUtil() {}\n\n  PivotUtil.getType = function (value) {\n    var val;\n    var dateValue = new Date(value);\n\n    if (typeof value === 'boolean') {\n      val = 'boolean';\n    } else if (!isNaN(Number(value))) {\n      val = 'number';\n    } else if (dateValue instanceof Date && !isNaN(dateValue.valueOf())) {\n      val = dateValue && dateValue.getDay() && (dateValue.getHours() > 0 || dateValue.getMinutes() > 0 || dateValue.getSeconds() > 0 || dateValue.getMilliseconds() > 0) ? 'datetime' : 'date';\n    } else {\n      val = typeof value;\n      ;\n    }\n\n    return val;\n  };\n\n  PivotUtil.resetTime = function (date) {\n    date.setHours(0, 0, 0, 0);\n    return date;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.getClonedData = function (data) {\n    var clonedData = [];\n\n    if (data) {\n      for (var _i = 0, _a = data; _i < _a.length; _i++) {\n        var item = _a[_i];\n        var fields = Object.keys(item);\n        /* eslint-enable */\n\n        var keyPos = 0;\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        var framedSet = {};\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n\n        while (keyPos < fields.length) {\n          framedSet[fields[keyPos]] = item[fields[keyPos]];\n          keyPos++;\n        }\n\n        clonedData.push(framedSet);\n      }\n    }\n\n    return clonedData;\n  };\n\n  PivotUtil.getClonedPivotValues = function (pivotValues) {\n    var clonedSets = [];\n\n    for (var i = 0; i < pivotValues.length; i++) {\n      if (pivotValues[i]) {\n        clonedSets[i] = [];\n\n        for (var j = 0; j < pivotValues[i].length; j++) {\n          if (pivotValues[i][j]) {\n            /* eslint-disable */\n            clonedSets[i][j] = this.getClonedPivotValueObj(pivotValues[i][j]);\n            /* eslint-enable */\n          }\n        }\n      }\n    }\n\n    return clonedSets;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.getClonedPivotValueObj = function (data) {\n    /* eslint-enable */\n    var keyPos = 0;\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n\n    var framedSet = {};\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n\n    if (!(data === null || data === undefined)) {\n      var fields = Object.keys(data);\n\n      while (keyPos < fields.length) {\n        framedSet[fields[keyPos]] = data[fields[keyPos]];\n        keyPos++;\n      }\n    } else {\n      framedSet = data;\n    }\n\n    return framedSet;\n  };\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n\n\n  PivotUtil.getDefinedObj = function (data) {\n    var keyPos = 0;\n    var framedSet = {};\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n\n    if (!(data === null || data === undefined)) {\n      var fields = Object.keys(data);\n\n      while (keyPos < fields.length) {\n        if (!(data[fields[keyPos]] === null || data[fields[keyPos]] === undefined)) {\n          framedSet[fields[keyPos]] = data[fields[keyPos]];\n        }\n\n        keyPos++;\n      }\n    } else {\n      framedSet = data;\n    }\n\n    return framedSet;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.inArray = function (value, collection) {\n    /* eslint-enable */\n    if (collection) {\n      for (var i = 0, cnt = collection.length; i < cnt; i++) {\n        if (collection[i] === value) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.isContainCommonElements = function (collection1, collection2) {\n    /* eslint-enable */\n    for (var i = 0, cnt = collection1.length; i < cnt; i++) {\n      for (var j = 0, lnt = collection2.length; j < lnt; j++) {\n        if (collection2[j] === collection1[i]) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.setPivotProperties = function (control, properties) {\n    /* eslint-enable */\n    control.allowServerDataBinding = false;\n\n    if (control.pivotGridModule) {\n      control.pivotGridModule.allowServerDataBinding = false;\n    }\n\n    control.setProperties(properties, true);\n    control.allowServerDataBinding = true;\n\n    if (control.pivotGridModule) {\n      control.pivotGridModule.allowServerDataBinding = true;\n    }\n  };\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n\n  PivotUtil.getClonedDataSourceSettings = function (dataSourceSettings) {\n    var clonesDataSource = this.getDefinedObj({\n      type: dataSourceSettings.type,\n      catalog: dataSourceSettings.catalog,\n      cube: dataSourceSettings.cube,\n      providerType: dataSourceSettings.providerType,\n      url: dataSourceSettings.url,\n      localeIdentifier: dataSourceSettings.localeIdentifier,\n      excludeFields: isNullOrUndefined(dataSourceSettings.excludeFields) ? [] : dataSourceSettings.excludeFields.slice(),\n      expandAll: dataSourceSettings.expandAll,\n      allowLabelFilter: dataSourceSettings.allowLabelFilter,\n      allowValueFilter: dataSourceSettings.allowValueFilter,\n      allowMemberFilter: dataSourceSettings.allowMemberFilter,\n      enableSorting: dataSourceSettings.enableSorting ? true : false,\n      rows: this.cloneFieldSettings(dataSourceSettings.rows),\n      columns: this.cloneFieldSettings(dataSourceSettings.columns),\n      filters: this.cloneFieldSettings(dataSourceSettings.filters),\n      values: this.cloneFieldSettings(dataSourceSettings.values),\n      filterSettings: this.cloneFilterSettings(dataSourceSettings.filterSettings),\n      sortSettings: this.cloneSortSettings(dataSourceSettings.sortSettings),\n      drilledMembers: this.cloneDrillMemberSettings(dataSourceSettings.drilledMembers),\n      valueSortSettings: this.CloneValueSortObject(dataSourceSettings.valueSortSettings),\n      valueAxis: dataSourceSettings.valueAxis,\n      formatSettings: this.cloneFormatSettings(dataSourceSettings.formatSettings),\n      calculatedFieldSettings: this.cloneCalculatedFieldSettings(dataSourceSettings.calculatedFieldSettings),\n      fieldMapping: this.cloneFieldSettings(dataSourceSettings.fieldMapping),\n      showSubTotals: dataSourceSettings.showSubTotals,\n      showRowSubTotals: dataSourceSettings.showRowSubTotals,\n      showColumnSubTotals: dataSourceSettings.showColumnSubTotals,\n      showGrandTotals: dataSourceSettings.showGrandTotals,\n      showRowGrandTotals: dataSourceSettings.showRowGrandTotals,\n      showColumnGrandTotals: dataSourceSettings.showColumnGrandTotals,\n      showHeaderWhenEmpty: dataSourceSettings.showHeaderWhenEmpty,\n      alwaysShowValueHeader: dataSourceSettings.alwaysShowValueHeader,\n      conditionalFormatSettings: this.cloneConditionalFormattingSettings(dataSourceSettings.conditionalFormatSettings),\n      emptyCellsTextContent: dataSourceSettings.emptyCellsTextContent,\n      groupSettings: this.cloneGroupSettings(dataSourceSettings.groupSettings),\n      showAggregationOnValueField: dataSourceSettings.showAggregationOnValueField,\n      authentication: this.CloneAuthenticationObject(dataSourceSettings.authentication)\n      /* eslint-disable @typescript-eslint/no-explicit-any */\n\n    });\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n\n    return clonesDataSource;\n  };\n\n  PivotUtil.updateDataSourceSettings = function (control, dataSourceSettings) {\n    if (control) {\n      this.setPivotProperties(control, {\n        dataSourceSettings: this.getDefinedObj({\n          type: dataSourceSettings.type,\n          catalog: dataSourceSettings.catalog,\n          cube: dataSourceSettings.cube,\n          providerType: dataSourceSettings.providerType,\n          url: dataSourceSettings.url,\n          localeIdentifier: dataSourceSettings.localeIdentifier,\n          excludeFields: isNullOrUndefined(dataSourceSettings.excludeFields) ? [] : dataSourceSettings.excludeFields,\n          expandAll: dataSourceSettings.expandAll,\n          allowLabelFilter: dataSourceSettings.allowLabelFilter,\n          allowValueFilter: dataSourceSettings.allowValueFilter,\n          allowMemberFilter: dataSourceSettings.allowMemberFilter,\n          enableSorting: dataSourceSettings.enableSorting ? true : false,\n          rows: dataSourceSettings.rows,\n          columns: dataSourceSettings.columns,\n          filters: dataSourceSettings.filters,\n          values: dataSourceSettings.values,\n          filterSettings: dataSourceSettings.filterSettings,\n          sortSettings: dataSourceSettings.sortSettings,\n          drilledMembers: dataSourceSettings.drilledMembers,\n          valueSortSettings: dataSourceSettings.valueSortSettings,\n          valueAxis: dataSourceSettings.valueAxis,\n          formatSettings: dataSourceSettings.formatSettings,\n          calculatedFieldSettings: dataSourceSettings.calculatedFieldSettings,\n          fieldMapping: dataSourceSettings.fieldMapping,\n          showSubTotals: dataSourceSettings.showSubTotals,\n          showRowSubTotals: dataSourceSettings.showRowSubTotals,\n          showColumnSubTotals: dataSourceSettings.showColumnSubTotals,\n          showGrandTotals: dataSourceSettings.showGrandTotals,\n          showRowGrandTotals: dataSourceSettings.showRowGrandTotals,\n          showColumnGrandTotals: dataSourceSettings.showColumnGrandTotals,\n          showHeaderWhenEmpty: dataSourceSettings.showHeaderWhenEmpty,\n          alwaysShowValueHeader: dataSourceSettings.alwaysShowValueHeader,\n          conditionalFormatSettings: dataSourceSettings.conditionalFormatSettings,\n          emptyCellsTextContent: dataSourceSettings.emptyCellsTextContent,\n          groupSettings: dataSourceSettings.groupSettings,\n          showAggregationOnValueField: dataSourceSettings.showAggregationOnValueField,\n          authentication: this.CloneAuthenticationObject(dataSourceSettings.authentication)\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        })\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n\n      });\n    }\n  };\n\n  PivotUtil.cloneFieldSettings = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\n        var set = collection_1[_i];\n        clonedCollection.push(this.getDefinedObj({\n          name: set.name,\n          caption: set.caption,\n          axis: set.axis,\n          baseField: set.baseField,\n          baseItem: set.baseItem,\n          isCalculatedField: set.isCalculatedField,\n          isNamedSet: set.isNamedSet,\n          showNoDataItems: set.showNoDataItems,\n          showSubTotals: set.showSubTotals,\n          type: set.type,\n          dataType: set.dataType,\n          showFilterIcon: set.showFilterIcon,\n          showSortIcon: set.showSortIcon,\n          showRemoveIcon: set.showRemoveIcon,\n          showValueTypeIcon: set.showValueTypeIcon,\n          showEditIcon: set.showEditIcon,\n          allowDragAndDrop: set.allowDragAndDrop\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.cloneFilterSettings = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_2 = collection; _i < collection_2.length; _i++) {\n        var set = collection_2[_i];\n        clonedCollection.push(this.getDefinedObj({\n          name: set.name,\n          type: set.type,\n          condition: set.condition,\n          items: set.items ? set.items.slice() : set.items,\n          levelCount: set.levelCount,\n          measure: set.measure,\n          selectedField: set.selectedField,\n          showDateFilter: set.showDateFilter,\n          showLabelFilter: set.showLabelFilter,\n          showNumberFilter: set.showNumberFilter,\n          value1: set.value1,\n          value2: set.value2\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.cloneSortSettings = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_3 = collection; _i < collection_3.length; _i++) {\n        var set = collection_3[_i];\n        clonedCollection.push(this.getDefinedObj({\n          name: set.name,\n          order: set.order\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.cloneDrillMemberSettings = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_4 = collection; _i < collection_4.length; _i++) {\n        var set = collection_4[_i];\n        clonedCollection.push(this.getDefinedObj({\n          name: set.name,\n          delimiter: set.delimiter,\n          items: set.items ? set.items.slice() : set.items\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.cloneFormatSettings = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_5 = collection; _i < collection_5.length; _i++) {\n        var set = collection_5[_i];\n        clonedCollection.push(this.getDefinedObj({\n          name: set.name,\n          calendar: set.calendar,\n          currency: set.currency,\n          format: set.format,\n          maximumFractionDigits: set.maximumFractionDigits,\n          maximumSignificantDigits: set.maximumSignificantDigits,\n          minimumFractionDigits: set.minimumFractionDigits,\n          minimumIntegerDigits: set.minimumIntegerDigits,\n          minimumSignificantDigits: set.minimumSignificantDigits,\n          skeleton: set.skeleton,\n          type: set.type,\n          useGrouping: set.useGrouping\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.CloneValueSortObject = function (collection) {\n    /* eslint-enable */\n    if (collection) {\n      var clonedCollection = {\n        columnIndex: collection.columnIndex,\n        headerDelimiter: collection.headerDelimiter,\n        headerText: collection.headerText,\n        measure: collection.measure,\n        sortOrder: collection.sortOrder\n      };\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.CloneAuthenticationObject = function (collection) {\n    /* eslint-enable */\n    if (collection) {\n      var clonedCollection = {\n        userName: collection.userName,\n        password: collection.password\n      };\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.cloneCalculatedFieldSettings = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_6 = collection; _i < collection_6.length; _i++) {\n        var set = collection_6[_i];\n        clonedCollection.push(this.getDefinedObj({\n          name: set.name,\n          formatString: set.formatString,\n          formula: set.formula,\n          hierarchyUniqueName: set.hierarchyUniqueName\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.cloneConditionalFormattingSettings = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_7 = collection; _i < collection_7.length; _i++) {\n        var set = collection_7[_i];\n        clonedCollection.push(this.getDefinedObj({\n          applyGrandTotals: set.applyGrandTotals,\n          conditions: set.conditions,\n          label: set.label,\n          measure: set.measure,\n          style: set.style ? {\n            backgroundColor: set.style.backgroundColor,\n            color: set.style.color,\n            fontFamily: set.style.fontFamily,\n            fontSize: set.style.fontSize\n          } : set.style,\n          value1: set.value1,\n          value2: set.value2\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.cloneGroupSettings = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_8 = collection; _i < collection_8.length; _i++) {\n        var set = collection_8[_i];\n        clonedCollection.push(this.getDefinedObj({\n          name: set.name,\n          caption: set.caption,\n          customGroups: this.cloneCustomGroups(set.customGroups),\n          endingAt: set.endingAt,\n          startingAt: set.startingAt,\n          groupInterval: set.groupInterval,\n          rangeInterval: set.rangeInterval,\n          type: set.type\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.cloneCustomGroups = function (collection) {\n    if (collection) {\n      var clonedCollection = [];\n\n      for (var _i = 0, collection_9 = collection; _i < collection_9.length; _i++) {\n        var set = collection_9[_i];\n        clonedCollection.push(this.getDefinedObj({\n          groupName: set.groupName,\n          items: set.items ? set.items.slice() : set.items\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n        }));\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n      }\n\n      return clonedCollection;\n    } else {\n      return collection;\n    }\n  };\n\n  PivotUtil.getFilterItemByName = function (fieldName, fields) {\n    var filterItems = new DataManager({\n      json: fields\n    }).executeLocal(new Query().where('name', 'equal', fieldName));\n\n    if (filterItems && filterItems.length > 0) {\n      return filterItems[filterItems.length - 1];\n    }\n\n    return undefined;\n  };\n\n  PivotUtil.getFieldByName = function (fieldName, fields) {\n    return new DataManager({\n      json: fields\n    }).executeLocal(new Query().where('name', 'equal', fieldName))[0];\n  };\n\n  PivotUtil.getFieldInfo = function (fieldName, control, hasAllField) {\n    if (!hasAllField) {\n      var rows = this.cloneFieldSettings(control.dataSourceSettings.rows);\n      var columns = this.cloneFieldSettings(control.dataSourceSettings.columns);\n      var values = this.cloneFieldSettings(control.dataSourceSettings.values);\n      var filters = this.cloneFieldSettings(control.dataSourceSettings.filters);\n      var fields = [rows, columns, values, filters];\n\n      for (var i = 0, len = fields.length; i < len; i++) {\n        for (var j = 0, cnt = fields[i] ? fields[i].length : 0; j < cnt; j++) {\n          if (fields[i][j] && fields[i][j].name === fieldName) {\n            return {\n              fieldName: fieldName,\n              fieldItem: fields[i][j],\n              axis: i === 0 ? 'rows' : i === 1 ? 'columns' : i === 2 ? 'values' : 'filters',\n              position: j\n            };\n          }\n        }\n      }\n    }\n\n    var fieldList = control.dataType === 'olap' ? control.olapEngineModule.fieldList[fieldName] : control.engineModule.fieldList[fieldName];\n    var fieldItem = fieldList ? {\n      name: fieldName,\n      caption: fieldList.caption,\n      baseField: fieldList.baseField,\n      baseItem: fieldList.baseItem,\n      isCalculatedField: fieldList.isCalculatedField,\n      isNamedSet: fieldList.isNamedSets,\n      showNoDataItems: fieldList.showNoDataItems,\n      showSubTotals: fieldList.showSubTotals,\n      type: fieldList.aggregateType,\n      showFilterIcon: fieldList.showFilterIcon,\n      showSortIcon: fieldList.showSortIcon,\n      showRemoveIcon: fieldList.showRemoveIcon,\n      showValueTypeIcon: fieldList.showValueTypeIcon,\n      showEditIcon: fieldList.showEditIcon,\n      allowDragAndDrop: fieldList.allowDragAndDrop\n    } : undefined;\n    return {\n      fieldName: fieldName,\n      fieldItem: fieldItem,\n      axis: 'fieldlist',\n      position: -1\n    };\n  };\n\n  PivotUtil.isButtonIconRefesh = function (prop, oldProp, newProp) {\n    var isButtonRefresh = false;\n\n    try {\n      if (prop === 'dataSourceSettings' && oldProp.dataSourceSettings && newProp.dataSourceSettings) {\n        var propValidation = ['notAvail', 'notAvail', 'notAvail', 'notAvail'];\n        var oldAxesProp = Object.keys(oldProp.dataSourceSettings);\n        var newAxesProp = Object.keys(newProp.dataSourceSettings);\n\n        if (oldAxesProp && newAxesProp && newAxesProp.length > 0 && oldAxesProp.length === newAxesProp.length) {\n          var axes = ['rows', 'columns', 'values', 'filters'];\n          /* eslint-disable @typescript-eslint/no-explicit-any */\n\n          for (var i = 0; i < newAxesProp.length; i++) {\n            var oldAxis = newAxesProp[i] in oldProp.dataSourceSettings && !isNullOrUndefined(oldProp.dataSourceSettings[newAxesProp[i]]) ? Object.keys(oldProp.dataSourceSettings[newAxesProp[i]]) : [];\n            /* eslint-disable-line */\n\n            var newAxis = newAxesProp[i] in newProp.dataSourceSettings && !isNullOrUndefined(newProp.dataSourceSettings[newAxesProp[i]]) ?\n            /* eslint-disable-line */\n            Object.keys(newProp.dataSourceSettings[newAxesProp[i]]) : [];\n\n            if (axes.indexOf(newAxesProp[i]) !== -1 && axes.indexOf(oldAxesProp[i]) !== -1 && oldAxis && newAxis && newAxis.length > 0 && oldAxis.length === newAxis.length) {\n              var options = ['showFilterIcon', 'showSortIcon', 'showRemoveIcon', 'showValueTypeIcon', 'showEditIcon', 'allowDragAndDrop'];\n\n              for (var j = 0; j < newAxis.length; j++) {\n                var oldAxisProp = Object.keys(oldProp.dataSourceSettings[newAxesProp[i]][newAxis[j]]);\n                var newAxisProp = Object.keys(newProp.dataSourceSettings[newAxesProp[i]][newAxis[j]]);\n\n                for (var k = 0; k < newAxisProp.length; k++) {\n                  if (options.indexOf(newAxisProp[k]) !== -1 && options.indexOf(oldAxisProp[k]) !== -1) {\n                    propValidation[i] = 'update';\n                  } else {\n                    propValidation[i] = 'break';\n                    break;\n                  }\n                }\n\n                if (propValidation[i] === 'break') {\n                  break;\n                }\n              }\n            } else {\n              propValidation[i] = 'break';\n            }\n\n            if (propValidation[i] === 'break') {\n              break;\n            }\n          }\n          /* eslint-enable @typescript-eslint/no-explicit-any */\n\n        }\n\n        var a = 0;\n        var b = 0;\n        var c = 0;\n\n        for (var _i = 0, propValidation_1 = propValidation; _i < propValidation_1.length; _i++) {\n          var validation = propValidation_1[_i];\n\n          if (validation === 'break') {\n            a++;\n          }\n\n          if (validation === 'notAvail') {\n            b++;\n          }\n\n          if (validation === 'update') {\n            c++;\n          }\n        }\n\n        isButtonRefresh = a > 0 || b === 4 ? false : a === 0 && b < 4 && c > 0;\n      }\n    } catch (exception) {\n      isButtonRefresh = false;\n    }\n\n    return isButtonRefresh;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.formatPivotValues = function (pivotValues) {\n    var values = [];\n    /* eslint-enable */\n\n    for (var i = 0; i < pivotValues.length; i++) {\n      if (pivotValues[i]) {\n        values[i] = [];\n\n        for (var j = 0; j < pivotValues[i].length; j++) {\n          if (pivotValues[i][j]) {\n            values[i][j] = {\n              axis: pivotValues[i][j].Axis,\n              actualText: pivotValues[i][j].ActualText,\n              indexObject: pivotValues[i][j].IndexObject,\n              index: pivotValues[i][j].Index,\n              rowHeaders: pivotValues[i][j].RowHeaders,\n              columnHeaders: pivotValues[i][j].ColumnHeaders,\n              formattedText: pivotValues[i][j].FormattedText,\n              actualValue: pivotValues[i][j].ActualValue,\n              rowIndex: pivotValues[i][j].RowIndex,\n              colIndex: pivotValues[i][j].ColIndex,\n              colSpan: pivotValues[i][j].ColSpan,\n              level: pivotValues[i][j].Level,\n              rowSpan: pivotValues[i][j].RowSpan,\n              isSum: pivotValues[i][j].IsSum,\n              isGrandSum: pivotValues[i][j].IsGrandSum,\n              valueSort: pivotValues[i][j].ValueSort,\n              ordinal: pivotValues[i][j].Ordinal,\n              hasChild: pivotValues[i][j].HasChild,\n              isDrilled: pivotValues[i][j].IsDrilled,\n              value: pivotValues[i][j].Value,\n              type: pivotValues[i][j].Type,\n              members: pivotValues[i][j].Members\n            };\n          }\n        }\n      }\n    }\n\n    return values;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.formatPdfHeaderFooter = function (pdf) {\n    var contents = [];\n\n    if (!isNullOrUndefined(pdf)) {\n      for (var i = 0; i < pdf.length; i++) {\n        var a = pdf[i];\n        var content = {\n          /* eslint-enable */\n          type: a.Type,\n          pageNumberType: a.PageNumberType,\n          style: a.Style ? {\n            penColor: a.Style.PenColor,\n            penSize: a.Style.PenSize,\n            dashStyle: a.Style.DashStyle,\n            textBrushColor: a.Style.TextBrushColor,\n            textPenColor: a.Style.TextPenColor,\n            fontSize: a.Style.FontSize,\n            hAlign: a.Style.HAlign,\n            vAlign: a.Style.VAlign\n          } : a.Style,\n          points: a.Points !== null ? {\n            x1: a.Points.X1,\n            y1: a.Points.Y1,\n            x2: a.Points.X2,\n            y2: a.Points.Y2\n          } : null,\n          format: a.Format,\n          position: a.Position !== null ? {\n            x: a.Position.X,\n            y: a.Position.Y\n          } : null,\n          size: a.Size !== null ? {\n            height: a.Size.Height,\n            width: a.Size.Width\n          } : null,\n          src: a.Src,\n          value: a.Value,\n          font: a.Font\n        };\n        contents.push(content);\n      }\n    }\n\n    return contents;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.formatPdfExportProperties = function (pdf) {\n    var values;\n    /* eslint-enable */\n\n    values = this.getDefinedObj({\n      pageOrientation: typeof pdf.PageOrientation === 'string' ? pdf.PageOrientation : null,\n      pageSize: typeof pdf.PageSize === 'string' ? pdf.PageSize : null,\n      header: !isNullOrUndefined(pdf.Header) ? {\n        fromTop: pdf.Header.FromTop,\n        height: pdf.Header.Height,\n        contents: this.formatPdfHeaderFooter(pdf.Header.Contents)\n      } : null,\n      columns: pdf.Columns,\n      footer: !isNullOrUndefined(pdf.Footer) ? {\n        fromTop: pdf.Footer.FromBottom,\n        height: pdf.Footer.Height,\n        contents: this.formatPdfHeaderFooter(pdf.Footer.Contents)\n      } : null,\n      includeHiddenColumn: pdf.IncludeHiddenColumn,\n      dataSource: pdf.DataSource,\n      exportType: typeof pdf.ExportType === 'string' ? pdf.ExportType : null,\n      theme: !isNullOrUndefined(pdf.Theme) ? {\n        header: pdf.Theme.Header,\n        record: pdf.Theme.Record,\n        caption: pdf.Theme.Caption\n      } : null,\n      fileName: pdf.FileName,\n      hierarchyExportMode: typeof pdf.HierarchyExportMode === 'string' ? pdf.HierarchyExportMode : null,\n      allowHorizontalOverflow: pdf.AllowHorizontalOverflow\n    });\n    return values;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.formatExcelStyle = function (style) {\n    var prop;\n    /* eslint-enable */\n\n    if (!isNullOrUndefined(style)) {\n      prop = this.getDefinedObj({\n        fontColor: style.FontColor,\n        fontName: style.FontName,\n        fontSize: style.FontSize,\n        hAlign: style.HAlign === String ? style.HAlign : null,\n        vAlign: style.VAlign === String ? style.VAlign : null,\n        bold: style.Bold,\n        indent: style.Indent,\n        italic: style.Italic,\n        underline: style.Underline,\n        backColor: style.BackColor,\n        wrapText: style.WrapText,\n        borders: style.Borders,\n        numberFormat: style.NumberFormat,\n        type: style.Type\n      });\n    }\n\n    return prop;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.formatExcelCell = function (cell) {\n    var cells = [];\n\n    if (!isNullOrUndefined(cell)) {\n      for (var i = 0; i < cell.length; i++) {\n        this.getDefinedObj({\n          index: !isNullOrUndefined(cell[i].Index) ? cell[i].Index : null,\n          colSpan: !isNullOrUndefined(cell[i].ColSpan) ? cell[i].ColSpan : null,\n          value: !isNullOrUndefined(cell[i].Value) ? cell[i].Value : null,\n          hyperlink: {\n            target: !isNullOrUndefined(cell[i].Hyperlink) ? cell[i].Hyperlink.Target : null,\n            displayText: !isNullOrUndefined(cell[i].Hyperlink) ? cell[i].Hyperlink.DisplayText : null\n          },\n          styles: this.formatExcelStyle(cell[i].Style),\n          rowSpan: !isNullOrUndefined(cell[i].RowSpan) ? cell[i].RowSpan : null\n        });\n        /* eslint-enable */\n      }\n    }\n\n    return cells;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.formatExcelHeaderFooter = function (excel) {\n    var rows = [];\n\n    if (!isNullOrUndefined(excel)) {\n      for (var i = 0; i < excel.Rows.length; i++) {\n        var row = excel.Rows[i];\n        var prop = this.getDefinedObj({\n          index: !isNullOrUndefined(row.Index) ? row.Index : null,\n          cells: this.formatExcelCell(row.Cells),\n          grouping: !isNullOrUndefined(row.Grouping) ? row.Grouping : null\n        });\n        rows.push(prop);\n      }\n    }\n\n    return rows;\n  };\n\n  PivotUtil.formatExcelExportProperties = function (excel) {\n    /* eslint-enable */\n    var prop;\n    prop = this.getDefinedObj({\n      dataSource: excel.DataSource,\n      query: excel.Query,\n      multipleExport: this.getDefinedObj({\n        type: !isNullOrUndefined(excel.MultipleExport) ? excel.MultipleExport.Type : null,\n        blankRows: !isNullOrUndefined(excel.MultipleExport) ? excel.MultipleExport.BlankRows : null\n      }),\n      header: this.getDefinedObj({\n        headerRows: !isNullOrUndefined(excel.Header) ? excel.Header.HeaderRows : null,\n        rows: this.formatExcelHeaderFooter(excel.Header)\n      }),\n      footer: this.getDefinedObj({\n        footerRows: !isNullOrUndefined(excel.Footer) ? excel.Footer.FooterRows : null,\n        rows: this.formatExcelHeaderFooter(excel.Footer)\n      }),\n      columns: excel.Columns,\n      exportType: typeof excel.ExportType === 'string' ? excel.ExportType : undefined,\n      includeHiddenColumn: excel.IncludeHiddenColumn,\n      theme: !isNullOrUndefined(excel.Theme) ? {\n        header: this.formatExcelStyle(excel.Theme.Header),\n        record: this.formatExcelStyle(excel.Theme.Record),\n        caption: this.formatExcelStyle(excel.Theme.Caption)\n      } : undefined,\n      fileName: excel.FileName,\n      hierarchyExportMode: typeof excel.HierarchyExportMode === 'string' ? excel.HierarchyExportMode : undefined\n    });\n    return prop;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.formatFieldList = function (fieldList) {\n    var keys = Object.keys(fieldList);\n    var fList = {};\n\n    for (var i = 0; i < keys.length; i++) {\n      /* eslint-enable */\n      if (fieldList[keys[i]]) {\n        fList[keys[i]] = {\n          id: fieldList[keys[i]].Id,\n          caption: fieldList[keys[i]].Caption,\n          type: fieldList[keys[i]].Type,\n          formatString: fieldList[keys[i]].FormatString,\n          index: fieldList[keys[i]].Index,\n          members: fieldList[keys[i]].Members,\n          formattedMembers: fieldList[keys[i]].FormattedMembers,\n          dateMember: fieldList[keys[i]].DateMember,\n          filter: fieldList[keys[i]].Filter,\n          sort: fieldList[keys[i]].Sort,\n          aggregateType: fieldList[keys[i]].AggregateType,\n          baseField: fieldList[keys[i]].BaseField,\n          baseItem: fieldList[keys[i]].BaseItem,\n          filterType: fieldList[keys[i]].FilterType,\n          format: fieldList[keys[i]].Format,\n          formula: fieldList[keys[i]].Formula,\n          isSelected: fieldList[keys[i]].IsSelected,\n          isExcelFilter: fieldList[keys[i]].IsExcelFilter,\n          showNoDataItems: fieldList[keys[i]].ShowNoDataItems,\n          isCustomField: fieldList[keys[i]].IsCustomField,\n          showFilterIcon: fieldList[keys[i]].ShowFilterIcon,\n          showSortIcon: fieldList[keys[i]].ShowSortIcon,\n          showRemoveIcon: fieldList[keys[i]].ShowRemoveIcon,\n          showEditIcon: fieldList[keys[i]].ShowEditIcon,\n          showValueTypeIcon: fieldList[keys[i]].ShowValueTypeIcon,\n          allowDragAndDrop: fieldList[keys[i]].AllowDragAndDrop,\n          isCalculatedField: fieldList[keys[i]].IsCalculatedField,\n          showSubTotals: fieldList[keys[i]].ShowSubTotals\n        };\n      }\n    }\n\n    return fList;\n  };\n  /* eslint-disable */\n\n\n  PivotUtil.frameContent = function (pivotValues, type, rowPosition, control) {\n    var dataContent = [];\n    var pivot = control;\n\n    if (pivot.dataSourceSettings.values.length > 0 && !pivot.engineModule.isEmptyData) {\n      if (pivot.enableValueSorting || !pivot.engineModule.isEngineUpdated) {\n        var rowCnt = 0;\n        var start = type === 'value' ? rowPosition : 0;\n        var end = type === 'value' ? pivotValues.length : rowPosition;\n\n        for (var rCnt = start; rCnt < end; rCnt++) {\n          if (pivotValues[rCnt]) {\n            rowCnt = type === 'header' ? rCnt : rowCnt;\n            dataContent[rowCnt] = {};\n\n            for (var cCnt = 0; cCnt < pivotValues[rCnt].length; cCnt++) {\n              if (pivotValues[rCnt][cCnt]) {\n                dataContent[rowCnt][cCnt] = pivotValues[rCnt][cCnt];\n              }\n            }\n\n            rowCnt++;\n          }\n        }\n      }\n    }\n\n    return dataContent;\n  };\n\n  PivotUtil.getLocalizedObject = function (control) {\n    var locale = new Object();\n    locale[\"Null\"] = control.localeObj.getConstant('null');\n    locale[\"Years\"] = control.localeObj.getConstant('Years');\n    locale[\"Quarters\"] = control.localeObj.getConstant('Quarters');\n    locale[\"Months\"] = control.localeObj.getConstant('Months');\n    locale[\"Days\"] = control.localeObj.getConstant('Days');\n    locale[\"Hours\"] = control.localeObj.getConstant('Hours');\n    locale[\"Minutes\"] = control.localeObj.getConstant('Minutes');\n    locale[\"Seconds\"] = control.localeObj.getConstant('Seconds');\n    locale[\"QuarterYear\"] = control.localeObj.getConstant('QuarterYear');\n    locale[\"Of\"] = control.localeObj.getConstant('of');\n    locale[\"Qtr\"] = control.localeObj.getConstant('qtr');\n    locale[\"Undefined\"] = control.localeObj.getConstant('undefined');\n    locale[\"GroupOutOfRange\"] = control.localeObj.getConstant('groupOutOfRange');\n    locale[\"Group\"] = control.localeObj.getConstant('group');\n    return locale;\n  };\n\n  PivotUtil.updateReport = function (control, report) {\n    /* eslint-enable */\n    control.setProperties({\n      dataSourceSettings: {\n        rows: []\n      }\n    }, true);\n    control.setProperties({\n      dataSourceSettings: {\n        columns: []\n      }\n    }, true);\n    control.setProperties({\n      dataSourceSettings: {\n        formatSettings: []\n      }\n    }, true);\n\n    for (var i = 0; i < report.Rows.length; i++) {\n      control.dataSourceSettings.rows.push({\n        name: report.Rows[i].Name,\n        caption: report.Rows[i].Caption,\n        showNoDataItems: report.Rows[i].ShowNoDataItems,\n        baseField: report.Rows[i].BaseField,\n        baseItem: report.Rows[i].BaseItem,\n        showFilterIcon: report.Rows[i].ShowFilterIcon,\n        showSortIcon: report.Rows[i].ShowSortIcon,\n        showEditIcon: report.Rows[i].ShowEditIcon,\n        showRemoveIcon: report.Rows[i].ShowRemoveIcon,\n        showSubTotals: report.Rows[i].ShowValueTypeIcon,\n        allowDragAndDrop: report.Rows[i].AllowDragAndDrop,\n        axis: report.Rows[i].Axis,\n        dataType: report.Rows[i].DataType,\n        isCalculatedField: report.Rows[i].IsCalculatedField,\n        showValueTypeIcon: report.Rows[i].ShowValueTypeIcon,\n        type: report.Rows[i].Type\n      });\n    }\n\n    for (var i = 0; i < report.Columns.length; i++) {\n      control.dataSourceSettings.columns.push({\n        name: report.Columns[i].Name,\n        caption: report.Columns[i].Caption,\n        showNoDataItems: report.Columns[i].ShowNoDataItems,\n        baseField: report.Columns[i].BaseField,\n        baseItem: report.Columns[i].BaseItem,\n        showFilterIcon: report.Columns[i].ShowFilterIcon,\n        showSortIcon: report.Columns[i].ShowSortIcon,\n        showEditIcon: report.Columns[i].ShowEditIcon,\n        showRemoveIcon: report.Columns[i].ShowRemoveIcon,\n        showSubTotals: report.Columns[i].ShowValueTypeIcon,\n        allowDragAndDrop: report.Columns[i].AllowDragAndDrop,\n        axis: report.Columns[i].Axis,\n        dataType: report.Columns[i].DataType,\n        isCalculatedField: report.Columns[i].IsCalculatedField,\n        showValueTypeIcon: report.Columns[i].ShowValueTypeIcon,\n        type: report.Columns[i].Type\n      });\n    }\n\n    for (var i = 0; i < report.FormatSettings.length; i++) {\n      control.dataSourceSettings.formatSettings.push({\n        name: report.FormatSettings[i].Name,\n        format: report.FormatSettings[i].Format,\n        type: report.FormatSettings[i].Type,\n        currency: report.FormatSettings[i].Currency,\n        maximumFractionDigits: report.FormatSettings[i].MaximumFractionDigits,\n        maximumSignificantDigits: report.FormatSettings[i].MaximumSignificantDigits,\n        minimumFractionDigits: report.FormatSettings[i].MinimumFractionDigits,\n        minimumIntegerDigits: report.FormatSettings[i].MinimumIntegerDigits,\n        minimumSignificantDigits: report.FormatSettings[i].MinimumSignificantDigits,\n        skeleton: report.FormatSettings[i].Skeleton,\n        useGrouping: report.FormatSettings[i].UseGrouping\n      });\n    }\n  };\n\n  PivotUtil.generateUUID = function () {\n    /* eslint-disable */\n    var d = new Date().getTime();\n    var d2 = performance && performance.now && performance.now() * 1000 || 0;\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n\n      if (d > 0) {\n        r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n\n      return (c === 'x' ? r : r & 0x3 | 0x8).toString(16);\n    });\n    /* eslint-enable */\n  };\n\n  return PivotUtil;\n}();\n\nexport { PivotUtil };","map":{"version":3,"sources":["/workspace/Commb-olap-poc/commb-olap-js/node_modules/@syncfusion/ej2-pivotview/src/base/util.js"],"names":["isNullOrUndefined","DataManager","Query","PivotUtil","getType","value","val","dateValue","Date","isNaN","Number","valueOf","getDay","getHours","getMinutes","getSeconds","getMilliseconds","resetTime","date","setHours","getClonedData","data","clonedData","_i","_a","length","item","fields","Object","keys","keyPos","framedSet","push","getClonedPivotValues","pivotValues","clonedSets","i","j","getClonedPivotValueObj","undefined","getDefinedObj","inArray","collection","cnt","isContainCommonElements","collection1","collection2","lnt","setPivotProperties","control","properties","allowServerDataBinding","pivotGridModule","setProperties","getClonedDataSourceSettings","dataSourceSettings","clonesDataSource","type","catalog","cube","providerType","url","localeIdentifier","excludeFields","slice","expandAll","allowLabelFilter","allowValueFilter","allowMemberFilter","enableSorting","rows","cloneFieldSettings","columns","filters","values","filterSettings","cloneFilterSettings","sortSettings","cloneSortSettings","drilledMembers","cloneDrillMemberSettings","valueSortSettings","CloneValueSortObject","valueAxis","formatSettings","cloneFormatSettings","calculatedFieldSettings","cloneCalculatedFieldSettings","fieldMapping","showSubTotals","showRowSubTotals","showColumnSubTotals","showGrandTotals","showRowGrandTotals","showColumnGrandTotals","showHeaderWhenEmpty","alwaysShowValueHeader","conditionalFormatSettings","cloneConditionalFormattingSettings","emptyCellsTextContent","groupSettings","cloneGroupSettings","showAggregationOnValueField","authentication","CloneAuthenticationObject","updateDataSourceSettings","clonedCollection","collection_1","set","name","caption","axis","baseField","baseItem","isCalculatedField","isNamedSet","showNoDataItems","dataType","showFilterIcon","showSortIcon","showRemoveIcon","showValueTypeIcon","showEditIcon","allowDragAndDrop","collection_2","condition","items","levelCount","measure","selectedField","showDateFilter","showLabelFilter","showNumberFilter","value1","value2","collection_3","order","collection_4","delimiter","collection_5","calendar","currency","format","maximumFractionDigits","maximumSignificantDigits","minimumFractionDigits","minimumIntegerDigits","minimumSignificantDigits","skeleton","useGrouping","columnIndex","headerDelimiter","headerText","sortOrder","userName","password","collection_6","formatString","formula","hierarchyUniqueName","collection_7","applyGrandTotals","conditions","label","style","backgroundColor","color","fontFamily","fontSize","collection_8","customGroups","cloneCustomGroups","endingAt","startingAt","groupInterval","rangeInterval","collection_9","groupName","getFilterItemByName","fieldName","filterItems","json","executeLocal","where","getFieldByName","getFieldInfo","hasAllField","len","fieldItem","position","fieldList","olapEngineModule","engineModule","isNamedSets","aggregateType","isButtonIconRefesh","prop","oldProp","newProp","isButtonRefresh","propValidation","oldAxesProp","newAxesProp","axes","oldAxis","newAxis","indexOf","options","oldAxisProp","newAxisProp","k","a","b","c","propValidation_1","validation","exception","formatPivotValues","Axis","actualText","ActualText","indexObject","IndexObject","index","Index","rowHeaders","RowHeaders","columnHeaders","ColumnHeaders","formattedText","FormattedText","actualValue","ActualValue","rowIndex","RowIndex","colIndex","ColIndex","colSpan","ColSpan","level","Level","rowSpan","RowSpan","isSum","IsSum","isGrandSum","IsGrandSum","valueSort","ValueSort","ordinal","Ordinal","hasChild","HasChild","isDrilled","IsDrilled","Value","Type","members","Members","formatPdfHeaderFooter","pdf","contents","content","pageNumberType","PageNumberType","Style","penColor","PenColor","penSize","PenSize","dashStyle","DashStyle","textBrushColor","TextBrushColor","textPenColor","TextPenColor","FontSize","hAlign","HAlign","vAlign","VAlign","points","Points","x1","X1","y1","Y1","x2","X2","y2","Y2","Format","Position","x","X","y","Y","size","Size","height","Height","width","Width","src","Src","font","Font","formatPdfExportProperties","pageOrientation","PageOrientation","pageSize","PageSize","header","Header","fromTop","FromTop","Contents","Columns","footer","Footer","FromBottom","includeHiddenColumn","IncludeHiddenColumn","dataSource","DataSource","exportType","ExportType","theme","Theme","record","Record","Caption","fileName","FileName","hierarchyExportMode","HierarchyExportMode","allowHorizontalOverflow","AllowHorizontalOverflow","formatExcelStyle","fontColor","FontColor","fontName","FontName","String","bold","Bold","indent","Indent","italic","Italic","underline","Underline","backColor","BackColor","wrapText","WrapText","borders","Borders","numberFormat","NumberFormat","formatExcelCell","cell","cells","hyperlink","target","Hyperlink","Target","displayText","DisplayText","styles","formatExcelHeaderFooter","excel","Rows","row","Cells","grouping","Grouping","formatExcelExportProperties","query","multipleExport","MultipleExport","blankRows","BlankRows","headerRows","HeaderRows","footerRows","FooterRows","formatFieldList","fList","id","Id","FormatString","formattedMembers","FormattedMembers","dateMember","DateMember","filter","Filter","sort","Sort","AggregateType","BaseField","BaseItem","filterType","FilterType","Formula","isSelected","IsSelected","isExcelFilter","IsExcelFilter","ShowNoDataItems","isCustomField","IsCustomField","ShowFilterIcon","ShowSortIcon","ShowRemoveIcon","ShowEditIcon","ShowValueTypeIcon","AllowDragAndDrop","IsCalculatedField","ShowSubTotals","frameContent","rowPosition","dataContent","pivot","isEmptyData","enableValueSorting","isEngineUpdated","rowCnt","start","end","rCnt","cCnt","getLocalizedObject","locale","localeObj","getConstant","updateReport","report","Name","DataType","FormatSettings","Currency","MaximumFractionDigits","MaximumSignificantDigits","MinimumFractionDigits","MinimumIntegerDigits","MinimumSignificantDigits","Skeleton","UseGrouping","generateUUID","d","getTime","d2","performance","now","replace","r","Math","random","floor","toString"],"mappings":"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","sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n/**\n * This is a file to perform common utility for OLAP and Relational datasource\n * @hidden\n */\nvar PivotUtil = /** @class */ (function () {\n    function PivotUtil() {\n    }\n    PivotUtil.getType = function (value) {\n        var val;\n        var dateValue = new Date(value);\n        if (typeof value === 'boolean') {\n            val = 'boolean';\n        }\n        else if (!isNaN(Number(value))) {\n            val = 'number';\n        }\n        else if (dateValue instanceof Date && !isNaN(dateValue.valueOf())) {\n            val = (dateValue && dateValue.getDay() && (dateValue.getHours() > 0 || dateValue.getMinutes() > 0 ||\n                dateValue.getSeconds() > 0 || dateValue.getMilliseconds() > 0) ? 'datetime' : 'date');\n        }\n        else {\n            val = typeof (value);\n            ;\n        }\n        return val;\n    };\n    PivotUtil.resetTime = function (date) {\n        date.setHours(0, 0, 0, 0);\n        return date;\n    };\n    /* eslint-disable */\n    PivotUtil.getClonedData = function (data) {\n        var clonedData = [];\n        if (data) {\n            for (var _i = 0, _a = data; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var fields = Object.keys(item);\n                /* eslint-enable */\n                var keyPos = 0;\n                /* eslint-disable @typescript-eslint/no-explicit-any */\n                var framedSet = {};\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n                while (keyPos < fields.length) {\n                    framedSet[fields[keyPos]] = item[fields[keyPos]];\n                    keyPos++;\n                }\n                clonedData.push(framedSet);\n            }\n        }\n        return clonedData;\n    };\n    PivotUtil.getClonedPivotValues = function (pivotValues) {\n        var clonedSets = [];\n        for (var i = 0; i < pivotValues.length; i++) {\n            if (pivotValues[i]) {\n                clonedSets[i] = [];\n                for (var j = 0; j < pivotValues[i].length; j++) {\n                    if (pivotValues[i][j]) {\n                        /* eslint-disable */\n                        clonedSets[i][j] = this.getClonedPivotValueObj(pivotValues[i][j]);\n                        /* eslint-enable */\n                    }\n                }\n            }\n        }\n        return clonedSets;\n    };\n    /* eslint-disable */\n    PivotUtil.getClonedPivotValueObj = function (data) {\n        /* eslint-enable */\n        var keyPos = 0;\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        var framedSet = {};\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n        if (!(data === null || data === undefined)) {\n            var fields = Object.keys(data);\n            while (keyPos < fields.length) {\n                framedSet[fields[keyPos]] = data[fields[keyPos]];\n                keyPos++;\n            }\n        }\n        else {\n            framedSet = data;\n        }\n        return framedSet;\n    };\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    PivotUtil.getDefinedObj = function (data) {\n        var keyPos = 0;\n        var framedSet = {};\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n        if (!(data === null || data === undefined)) {\n            var fields = Object.keys(data);\n            while (keyPos < fields.length) {\n                if (!(data[fields[keyPos]] === null || data[fields[keyPos]] === undefined)) {\n                    framedSet[fields[keyPos]] = data[fields[keyPos]];\n                }\n                keyPos++;\n            }\n        }\n        else {\n            framedSet = data;\n        }\n        return framedSet;\n    };\n    /* eslint-disable */\n    PivotUtil.inArray = function (value, collection) {\n        /* eslint-enable */\n        if (collection) {\n            for (var i = 0, cnt = collection.length; i < cnt; i++) {\n                if (collection[i] === value) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    };\n    /* eslint-disable */\n    PivotUtil.isContainCommonElements = function (collection1, collection2) {\n        /* eslint-enable */\n        for (var i = 0, cnt = collection1.length; i < cnt; i++) {\n            for (var j = 0, lnt = collection2.length; j < lnt; j++) {\n                if (collection2[j] === collection1[i]) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /* eslint-disable */\n    PivotUtil.setPivotProperties = function (control, properties) {\n        /* eslint-enable */\n        control.allowServerDataBinding = false;\n        if (control.pivotGridModule) {\n            control.pivotGridModule.allowServerDataBinding = false;\n        }\n        control.setProperties(properties, true);\n        control.allowServerDataBinding = true;\n        if (control.pivotGridModule) {\n            control.pivotGridModule.allowServerDataBinding = true;\n        }\n    };\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n    PivotUtil.getClonedDataSourceSettings = function (dataSourceSettings) {\n        var clonesDataSource = this.getDefinedObj({\n            type: dataSourceSettings.type,\n            catalog: dataSourceSettings.catalog,\n            cube: dataSourceSettings.cube,\n            providerType: dataSourceSettings.providerType,\n            url: dataSourceSettings.url,\n            localeIdentifier: dataSourceSettings.localeIdentifier,\n            excludeFields: isNullOrUndefined(dataSourceSettings.excludeFields) ? [] : dataSourceSettings.excludeFields.slice(),\n            expandAll: dataSourceSettings.expandAll,\n            allowLabelFilter: dataSourceSettings.allowLabelFilter,\n            allowValueFilter: dataSourceSettings.allowValueFilter,\n            allowMemberFilter: dataSourceSettings.allowMemberFilter,\n            enableSorting: dataSourceSettings.enableSorting ? true : false,\n            rows: this.cloneFieldSettings(dataSourceSettings.rows),\n            columns: this.cloneFieldSettings(dataSourceSettings.columns),\n            filters: this.cloneFieldSettings(dataSourceSettings.filters),\n            values: this.cloneFieldSettings(dataSourceSettings.values),\n            filterSettings: this.cloneFilterSettings(dataSourceSettings.filterSettings),\n            sortSettings: this.cloneSortSettings(dataSourceSettings.sortSettings),\n            drilledMembers: this.cloneDrillMemberSettings(dataSourceSettings.drilledMembers),\n            valueSortSettings: this.CloneValueSortObject(dataSourceSettings.valueSortSettings),\n            valueAxis: dataSourceSettings.valueAxis,\n            formatSettings: this.cloneFormatSettings(dataSourceSettings.formatSettings),\n            calculatedFieldSettings: this.cloneCalculatedFieldSettings(dataSourceSettings.calculatedFieldSettings),\n            fieldMapping: this.cloneFieldSettings(dataSourceSettings.fieldMapping),\n            showSubTotals: dataSourceSettings.showSubTotals,\n            showRowSubTotals: dataSourceSettings.showRowSubTotals,\n            showColumnSubTotals: dataSourceSettings.showColumnSubTotals,\n            showGrandTotals: dataSourceSettings.showGrandTotals,\n            showRowGrandTotals: dataSourceSettings.showRowGrandTotals,\n            showColumnGrandTotals: dataSourceSettings.showColumnGrandTotals,\n            showHeaderWhenEmpty: dataSourceSettings.showHeaderWhenEmpty,\n            alwaysShowValueHeader: dataSourceSettings.alwaysShowValueHeader,\n            conditionalFormatSettings: this.cloneConditionalFormattingSettings(dataSourceSettings.conditionalFormatSettings),\n            emptyCellsTextContent: dataSourceSettings.emptyCellsTextContent,\n            groupSettings: this.cloneGroupSettings(dataSourceSettings.groupSettings),\n            showAggregationOnValueField: dataSourceSettings.showAggregationOnValueField,\n            authentication: this.CloneAuthenticationObject(dataSourceSettings.authentication)\n            /* eslint-disable @typescript-eslint/no-explicit-any */\n        });\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n        return clonesDataSource;\n    };\n    PivotUtil.updateDataSourceSettings = function (control, dataSourceSettings) {\n        if (control) {\n            this.setPivotProperties(control, {\n                dataSourceSettings: this.getDefinedObj({\n                    type: dataSourceSettings.type,\n                    catalog: dataSourceSettings.catalog,\n                    cube: dataSourceSettings.cube,\n                    providerType: dataSourceSettings.providerType,\n                    url: dataSourceSettings.url,\n                    localeIdentifier: dataSourceSettings.localeIdentifier,\n                    excludeFields: isNullOrUndefined(dataSourceSettings.excludeFields) ? [] : dataSourceSettings.excludeFields,\n                    expandAll: dataSourceSettings.expandAll,\n                    allowLabelFilter: dataSourceSettings.allowLabelFilter,\n                    allowValueFilter: dataSourceSettings.allowValueFilter,\n                    allowMemberFilter: dataSourceSettings.allowMemberFilter,\n                    enableSorting: dataSourceSettings.enableSorting ? true : false,\n                    rows: dataSourceSettings.rows,\n                    columns: dataSourceSettings.columns,\n                    filters: dataSourceSettings.filters,\n                    values: dataSourceSettings.values,\n                    filterSettings: dataSourceSettings.filterSettings,\n                    sortSettings: dataSourceSettings.sortSettings,\n                    drilledMembers: dataSourceSettings.drilledMembers,\n                    valueSortSettings: dataSourceSettings.valueSortSettings,\n                    valueAxis: dataSourceSettings.valueAxis,\n                    formatSettings: dataSourceSettings.formatSettings,\n                    calculatedFieldSettings: dataSourceSettings.calculatedFieldSettings,\n                    fieldMapping: dataSourceSettings.fieldMapping,\n                    showSubTotals: dataSourceSettings.showSubTotals,\n                    showRowSubTotals: dataSourceSettings.showRowSubTotals,\n                    showColumnSubTotals: dataSourceSettings.showColumnSubTotals,\n                    showGrandTotals: dataSourceSettings.showGrandTotals,\n                    showRowGrandTotals: dataSourceSettings.showRowGrandTotals,\n                    showColumnGrandTotals: dataSourceSettings.showColumnGrandTotals,\n                    showHeaderWhenEmpty: dataSourceSettings.showHeaderWhenEmpty,\n                    alwaysShowValueHeader: dataSourceSettings.alwaysShowValueHeader,\n                    conditionalFormatSettings: dataSourceSettings.conditionalFormatSettings,\n                    emptyCellsTextContent: dataSourceSettings.emptyCellsTextContent,\n                    groupSettings: dataSourceSettings.groupSettings,\n                    showAggregationOnValueField: dataSourceSettings.showAggregationOnValueField,\n                    authentication: this.CloneAuthenticationObject(dataSourceSettings.authentication)\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                })\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            });\n        }\n    };\n    PivotUtil.cloneFieldSettings = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\n                var set = collection_1[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    name: set.name,\n                    caption: set.caption,\n                    axis: set.axis,\n                    baseField: set.baseField,\n                    baseItem: set.baseItem,\n                    isCalculatedField: set.isCalculatedField,\n                    isNamedSet: set.isNamedSet,\n                    showNoDataItems: set.showNoDataItems,\n                    showSubTotals: set.showSubTotals,\n                    type: set.type,\n                    dataType: set.dataType,\n                    showFilterIcon: set.showFilterIcon,\n                    showSortIcon: set.showSortIcon,\n                    showRemoveIcon: set.showRemoveIcon,\n                    showValueTypeIcon: set.showValueTypeIcon,\n                    showEditIcon: set.showEditIcon,\n                    allowDragAndDrop: set.allowDragAndDrop\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.cloneFilterSettings = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_2 = collection; _i < collection_2.length; _i++) {\n                var set = collection_2[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    name: set.name,\n                    type: set.type,\n                    condition: set.condition,\n                    items: set.items ? set.items.slice() : set.items,\n                    levelCount: set.levelCount,\n                    measure: set.measure,\n                    selectedField: set.selectedField,\n                    showDateFilter: set.showDateFilter,\n                    showLabelFilter: set.showLabelFilter,\n                    showNumberFilter: set.showNumberFilter,\n                    value1: set.value1,\n                    value2: set.value2\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.cloneSortSettings = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_3 = collection; _i < collection_3.length; _i++) {\n                var set = collection_3[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    name: set.name,\n                    order: set.order\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.cloneDrillMemberSettings = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_4 = collection; _i < collection_4.length; _i++) {\n                var set = collection_4[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    name: set.name,\n                    delimiter: set.delimiter,\n                    items: set.items ? set.items.slice() : set.items\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.cloneFormatSettings = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_5 = collection; _i < collection_5.length; _i++) {\n                var set = collection_5[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    name: set.name,\n                    calendar: set.calendar,\n                    currency: set.currency,\n                    format: set.format,\n                    maximumFractionDigits: set.maximumFractionDigits,\n                    maximumSignificantDigits: set.maximumSignificantDigits,\n                    minimumFractionDigits: set.minimumFractionDigits,\n                    minimumIntegerDigits: set.minimumIntegerDigits,\n                    minimumSignificantDigits: set.minimumSignificantDigits,\n                    skeleton: set.skeleton,\n                    type: set.type,\n                    useGrouping: set.useGrouping\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    /* eslint-disable */\n    PivotUtil.CloneValueSortObject = function (collection) {\n        /* eslint-enable */\n        if (collection) {\n            var clonedCollection = {\n                columnIndex: collection.columnIndex,\n                headerDelimiter: collection.headerDelimiter,\n                headerText: collection.headerText,\n                measure: collection.measure,\n                sortOrder: collection.sortOrder\n            };\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    /* eslint-disable */\n    PivotUtil.CloneAuthenticationObject = function (collection) {\n        /* eslint-enable */\n        if (collection) {\n            var clonedCollection = {\n                userName: collection.userName,\n                password: collection.password\n            };\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.cloneCalculatedFieldSettings = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_6 = collection; _i < collection_6.length; _i++) {\n                var set = collection_6[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    name: set.name,\n                    formatString: set.formatString,\n                    formula: set.formula,\n                    hierarchyUniqueName: set.hierarchyUniqueName\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.cloneConditionalFormattingSettings = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_7 = collection; _i < collection_7.length; _i++) {\n                var set = collection_7[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    applyGrandTotals: set.applyGrandTotals,\n                    conditions: set.conditions,\n                    label: set.label,\n                    measure: set.measure,\n                    style: set.style ? {\n                        backgroundColor: set.style.backgroundColor,\n                        color: set.style.color,\n                        fontFamily: set.style.fontFamily,\n                        fontSize: set.style.fontSize\n                    } : set.style,\n                    value1: set.value1,\n                    value2: set.value2\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.cloneGroupSettings = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_8 = collection; _i < collection_8.length; _i++) {\n                var set = collection_8[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    name: set.name,\n                    caption: set.caption,\n                    customGroups: this.cloneCustomGroups(set.customGroups),\n                    endingAt: set.endingAt,\n                    startingAt: set.startingAt,\n                    groupInterval: set.groupInterval,\n                    rangeInterval: set.rangeInterval,\n                    type: set.type\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.cloneCustomGroups = function (collection) {\n        if (collection) {\n            var clonedCollection = [];\n            for (var _i = 0, collection_9 = collection; _i < collection_9.length; _i++) {\n                var set = collection_9[_i];\n                clonedCollection.push(this.getDefinedObj({\n                    groupName: set.groupName,\n                    items: set.items ? set.items.slice() : set.items\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                }));\n                /* eslint-enable @typescript-eslint/no-explicit-any */\n            }\n            return clonedCollection;\n        }\n        else {\n            return collection;\n        }\n    };\n    PivotUtil.getFilterItemByName = function (fieldName, fields) {\n        var filterItems = new DataManager({ json: fields }).executeLocal(new Query().where('name', 'equal', fieldName));\n        if (filterItems && filterItems.length > 0) {\n            return filterItems[filterItems.length - 1];\n        }\n        return undefined;\n    };\n    PivotUtil.getFieldByName = function (fieldName, fields) {\n        return new DataManager({ json: fields }).executeLocal(new Query().where('name', 'equal', fieldName))[0];\n    };\n    PivotUtil.getFieldInfo = function (fieldName, control, hasAllField) {\n        if (!hasAllField) {\n            var rows = this.cloneFieldSettings(control.dataSourceSettings.rows);\n            var columns = this.cloneFieldSettings(control.dataSourceSettings.columns);\n            var values = this.cloneFieldSettings(control.dataSourceSettings.values);\n            var filters = this.cloneFieldSettings(control.dataSourceSettings.filters);\n            var fields = [rows, columns, values, filters];\n            for (var i = 0, len = fields.length; i < len; i++) {\n                for (var j = 0, cnt = (fields[i] ? fields[i].length : 0); j < cnt; j++) {\n                    if (fields[i][j] && fields[i][j].name === fieldName) {\n                        return { fieldName: fieldName, fieldItem: fields[i][j], axis: i === 0 ? 'rows' : i === 1 ? 'columns' : i === 2 ? 'values' : 'filters', position: j };\n                    }\n                }\n            }\n        }\n        var fieldList = control.dataType === 'olap' ?\n            control.olapEngineModule.fieldList[fieldName] : control.engineModule.fieldList[fieldName];\n        var fieldItem = (fieldList ? {\n            name: fieldName,\n            caption: fieldList.caption,\n            baseField: fieldList.baseField,\n            baseItem: fieldList.baseItem,\n            isCalculatedField: fieldList.isCalculatedField,\n            isNamedSet: fieldList.isNamedSets,\n            showNoDataItems: fieldList.showNoDataItems,\n            showSubTotals: fieldList.showSubTotals,\n            type: fieldList.aggregateType,\n            showFilterIcon: fieldList.showFilterIcon,\n            showSortIcon: fieldList.showSortIcon,\n            showRemoveIcon: fieldList.showRemoveIcon,\n            showValueTypeIcon: fieldList.showValueTypeIcon,\n            showEditIcon: fieldList.showEditIcon,\n            allowDragAndDrop: fieldList.allowDragAndDrop\n        } : undefined);\n        return { fieldName: fieldName, fieldItem: fieldItem, axis: 'fieldlist', position: -1 };\n    };\n    PivotUtil.isButtonIconRefesh = function (prop, oldProp, newProp) {\n        var isButtonRefresh = false;\n        try {\n            if (prop === 'dataSourceSettings' && oldProp.dataSourceSettings && newProp.dataSourceSettings) {\n                var propValidation = ['notAvail', 'notAvail', 'notAvail', 'notAvail'];\n                var oldAxesProp = Object.keys(oldProp.dataSourceSettings);\n                var newAxesProp = Object.keys(newProp.dataSourceSettings);\n                if (oldAxesProp && newAxesProp && newAxesProp.length > 0 && oldAxesProp.length === newAxesProp.length) {\n                    var axes = ['rows', 'columns', 'values', 'filters'];\n                    /* eslint-disable @typescript-eslint/no-explicit-any */\n                    for (var i = 0; i < newAxesProp.length; i++) {\n                        var oldAxis = (newAxesProp[i] in oldProp.dataSourceSettings && !isNullOrUndefined(oldProp.dataSourceSettings[newAxesProp[i]])) ? Object.keys(oldProp.dataSourceSettings[newAxesProp[i]]) : []; /* eslint-disable-line */\n                        var newAxis = (newAxesProp[i] in newProp.dataSourceSettings && !isNullOrUndefined(newProp.dataSourceSettings[newAxesProp[i]])) ? /* eslint-disable-line */\n                            Object.keys(newProp.dataSourceSettings[newAxesProp[i]]) : [];\n                        if (axes.indexOf(newAxesProp[i]) !== -1 && axes.indexOf(oldAxesProp[i]) !== -1 &&\n                            oldAxis && newAxis && newAxis.length > 0 && oldAxis.length === newAxis.length) {\n                            var options = ['showFilterIcon', 'showSortIcon', 'showRemoveIcon', 'showValueTypeIcon', 'showEditIcon', 'allowDragAndDrop'];\n                            for (var j = 0; j < newAxis.length; j++) {\n                                var oldAxisProp = Object.keys(oldProp.dataSourceSettings[newAxesProp[i]][newAxis[j]]);\n                                var newAxisProp = Object.keys(newProp.dataSourceSettings[newAxesProp[i]][newAxis[j]]);\n                                for (var k = 0; k < newAxisProp.length; k++) {\n                                    if (options.indexOf(newAxisProp[k]) !== -1 && options.indexOf(oldAxisProp[k]) !== -1) {\n                                        propValidation[i] = 'update';\n                                    }\n                                    else {\n                                        propValidation[i] = 'break';\n                                        break;\n                                    }\n                                }\n                                if (propValidation[i] === 'break') {\n                                    break;\n                                }\n                            }\n                        }\n                        else {\n                            propValidation[i] = 'break';\n                        }\n                        if (propValidation[i] === 'break') {\n                            break;\n                        }\n                    }\n                    /* eslint-enable @typescript-eslint/no-explicit-any */\n                }\n                var a = 0;\n                var b = 0;\n                var c = 0;\n                for (var _i = 0, propValidation_1 = propValidation; _i < propValidation_1.length; _i++) {\n                    var validation = propValidation_1[_i];\n                    if (validation === 'break') {\n                        a++;\n                    }\n                    if (validation === 'notAvail') {\n                        b++;\n                    }\n                    if (validation === 'update') {\n                        c++;\n                    }\n                }\n                isButtonRefresh = (a > 0 || b === 4) ? false : (a === 0 && b < 4 && c > 0);\n            }\n        }\n        catch (exception) {\n            isButtonRefresh = false;\n        }\n        return isButtonRefresh;\n    };\n    /* eslint-disable */\n    PivotUtil.formatPivotValues = function (pivotValues) {\n        var values = [];\n        /* eslint-enable */\n        for (var i = 0; i < pivotValues.length; i++) {\n            if (pivotValues[i]) {\n                values[i] = [];\n                for (var j = 0; j < pivotValues[i].length; j++) {\n                    if (pivotValues[i][j]) {\n                        values[i][j] = {\n                            axis: pivotValues[i][j].Axis,\n                            actualText: pivotValues[i][j].ActualText,\n                            indexObject: pivotValues[i][j].IndexObject,\n                            index: pivotValues[i][j].Index,\n                            rowHeaders: pivotValues[i][j].RowHeaders,\n                            columnHeaders: pivotValues[i][j].ColumnHeaders,\n                            formattedText: pivotValues[i][j].FormattedText,\n                            actualValue: pivotValues[i][j].ActualValue,\n                            rowIndex: pivotValues[i][j].RowIndex,\n                            colIndex: pivotValues[i][j].ColIndex,\n                            colSpan: pivotValues[i][j].ColSpan,\n                            level: pivotValues[i][j].Level,\n                            rowSpan: pivotValues[i][j].RowSpan,\n                            isSum: pivotValues[i][j].IsSum,\n                            isGrandSum: pivotValues[i][j].IsGrandSum,\n                            valueSort: pivotValues[i][j].ValueSort,\n                            ordinal: pivotValues[i][j].Ordinal,\n                            hasChild: pivotValues[i][j].HasChild,\n                            isDrilled: pivotValues[i][j].IsDrilled,\n                            value: pivotValues[i][j].Value,\n                            type: pivotValues[i][j].Type,\n                            members: pivotValues[i][j].Members\n                        };\n                    }\n                }\n            }\n        }\n        return values;\n    };\n    /* eslint-disable */\n    PivotUtil.formatPdfHeaderFooter = function (pdf) {\n        var contents = [];\n        if (!isNullOrUndefined(pdf)) {\n            for (var i = 0; i < pdf.length; i++) {\n                var a = pdf[i];\n                var content = {\n                    /* eslint-enable */\n                    type: a.Type,\n                    pageNumberType: a.PageNumberType,\n                    style: a.Style ? {\n                        penColor: a.Style.PenColor,\n                        penSize: a.Style.PenSize,\n                        dashStyle: a.Style.DashStyle,\n                        textBrushColor: a.Style.TextBrushColor,\n                        textPenColor: a.Style.TextPenColor,\n                        fontSize: a.Style.FontSize,\n                        hAlign: a.Style.HAlign,\n                        vAlign: a.Style.VAlign\n                    } : a.Style,\n                    points: a.Points !== null ? {\n                        x1: a.Points.X1,\n                        y1: a.Points.Y1,\n                        x2: a.Points.X2,\n                        y2: a.Points.Y2\n                    } : null,\n                    format: a.Format,\n                    position: a.Position !== null ? {\n                        x: a.Position.X,\n                        y: a.Position.Y\n                    } : null,\n                    size: a.Size !== null ? {\n                        height: a.Size.Height,\n                        width: a.Size.Width\n                    } : null,\n                    src: a.Src,\n                    value: a.Value,\n                    font: a.Font\n                };\n                contents.push(content);\n            }\n        }\n        return contents;\n    };\n    /* eslint-disable */\n    PivotUtil.formatPdfExportProperties = function (pdf) {\n        var values;\n        /* eslint-enable */\n        values = this.getDefinedObj({\n            pageOrientation: typeof pdf.PageOrientation === 'string' ? pdf.PageOrientation : null,\n            pageSize: typeof pdf.PageSize === 'string' ? pdf.PageSize : null,\n            header: !isNullOrUndefined(pdf.Header) ? {\n                fromTop: pdf.Header.FromTop,\n                height: pdf.Header.Height,\n                contents: this.formatPdfHeaderFooter(pdf.Header.Contents)\n            } : null,\n            columns: pdf.Columns,\n            footer: !isNullOrUndefined(pdf.Footer) ? {\n                fromTop: pdf.Footer.FromBottom,\n                height: pdf.Footer.Height,\n                contents: this.formatPdfHeaderFooter(pdf.Footer.Contents)\n            } : null,\n            includeHiddenColumn: pdf.IncludeHiddenColumn,\n            dataSource: pdf.DataSource,\n            exportType: typeof pdf.ExportType === 'string' ? pdf.ExportType : null,\n            theme: !isNullOrUndefined(pdf.Theme) ? {\n                header: pdf.Theme.Header,\n                record: pdf.Theme.Record,\n                caption: pdf.Theme.Caption\n            } : null,\n            fileName: pdf.FileName,\n            hierarchyExportMode: typeof pdf.HierarchyExportMode === 'string' ? pdf.HierarchyExportMode : null,\n            allowHorizontalOverflow: pdf.AllowHorizontalOverflow\n        });\n        return values;\n    };\n    /* eslint-disable */\n    PivotUtil.formatExcelStyle = function (style) {\n        var prop;\n        /* eslint-enable */\n        if (!isNullOrUndefined(style)) {\n            prop = this.getDefinedObj({\n                fontColor: style.FontColor,\n                fontName: style.FontName,\n                fontSize: style.FontSize,\n                hAlign: style.HAlign === String ? style.HAlign : null,\n                vAlign: style.VAlign === String ? style.VAlign : null,\n                bold: style.Bold,\n                indent: style.Indent,\n                italic: style.Italic,\n                underline: style.Underline,\n                backColor: style.BackColor,\n                wrapText: style.WrapText,\n                borders: style.Borders,\n                numberFormat: style.NumberFormat,\n                type: style.Type\n            });\n        }\n        return prop;\n    };\n    /* eslint-disable */\n    PivotUtil.formatExcelCell = function (cell) {\n        var cells = [];\n        if (!isNullOrUndefined(cell)) {\n            for (var i = 0; i < cell.length; i++) {\n                this.getDefinedObj({\n                    index: !isNullOrUndefined(cell[i].Index) ? cell[i].Index : null,\n                    colSpan: !isNullOrUndefined(cell[i].ColSpan) ? cell[i].ColSpan : null,\n                    value: !isNullOrUndefined(cell[i].Value) ? cell[i].Value : null,\n                    hyperlink: {\n                        target: !isNullOrUndefined(cell[i].Hyperlink) ? cell[i].Hyperlink.Target : null,\n                        displayText: !isNullOrUndefined(cell[i].Hyperlink) ? cell[i].Hyperlink.DisplayText : null\n                    },\n                    styles: this.formatExcelStyle(cell[i].Style),\n                    rowSpan: !isNullOrUndefined(cell[i].RowSpan) ? cell[i].RowSpan : null\n                });\n                /* eslint-enable */\n            }\n        }\n        return cells;\n    };\n    /* eslint-disable */\n    PivotUtil.formatExcelHeaderFooter = function (excel) {\n        var rows = [];\n        if (!isNullOrUndefined(excel)) {\n            for (var i = 0; i < excel.Rows.length; i++) {\n                var row = excel.Rows[i];\n                var prop = this.getDefinedObj({\n                    index: !isNullOrUndefined(row.Index) ? row.Index : null,\n                    cells: this.formatExcelCell(row.Cells),\n                    grouping: !isNullOrUndefined(row.Grouping) ? row.Grouping : null\n                });\n                rows.push(prop);\n            }\n        }\n        return rows;\n    };\n    PivotUtil.formatExcelExportProperties = function (excel) {\n        /* eslint-enable */\n        var prop;\n        prop = this.getDefinedObj({\n            dataSource: excel.DataSource,\n            query: excel.Query,\n            multipleExport: this.getDefinedObj({\n                type: !isNullOrUndefined(excel.MultipleExport) ? excel.MultipleExport.Type : null,\n                blankRows: !isNullOrUndefined(excel.MultipleExport) ? excel.MultipleExport.BlankRows : null\n            }),\n            header: this.getDefinedObj({\n                headerRows: !isNullOrUndefined(excel.Header) ? excel.Header.HeaderRows : null,\n                rows: this.formatExcelHeaderFooter(excel.Header)\n            }),\n            footer: this.getDefinedObj({\n                footerRows: !isNullOrUndefined(excel.Footer) ? excel.Footer.FooterRows : null,\n                rows: this.formatExcelHeaderFooter(excel.Footer)\n            }),\n            columns: excel.Columns,\n            exportType: typeof excel.ExportType === 'string' ? excel.ExportType : undefined,\n            includeHiddenColumn: excel.IncludeHiddenColumn,\n            theme: !isNullOrUndefined(excel.Theme) ? {\n                header: this.formatExcelStyle(excel.Theme.Header),\n                record: this.formatExcelStyle(excel.Theme.Record),\n                caption: this.formatExcelStyle(excel.Theme.Caption)\n            } : undefined,\n            fileName: excel.FileName,\n            hierarchyExportMode: typeof excel.HierarchyExportMode === 'string' ? excel.HierarchyExportMode : undefined\n        });\n        return prop;\n    };\n    /* eslint-disable */\n    PivotUtil.formatFieldList = function (fieldList) {\n        var keys = Object.keys(fieldList);\n        var fList = {};\n        for (var i = 0; i < keys.length; i++) {\n            /* eslint-enable */\n            if (fieldList[keys[i]]) {\n                fList[keys[i]] = {\n                    id: fieldList[keys[i]].Id,\n                    caption: fieldList[keys[i]].Caption,\n                    type: fieldList[keys[i]].Type,\n                    formatString: fieldList[keys[i]].FormatString,\n                    index: fieldList[keys[i]].Index,\n                    members: fieldList[keys[i]].Members,\n                    formattedMembers: fieldList[keys[i]].FormattedMembers,\n                    dateMember: fieldList[keys[i]].DateMember,\n                    filter: fieldList[keys[i]].Filter,\n                    sort: fieldList[keys[i]].Sort,\n                    aggregateType: fieldList[keys[i]].AggregateType,\n                    baseField: fieldList[keys[i]].BaseField,\n                    baseItem: fieldList[keys[i]].BaseItem,\n                    filterType: fieldList[keys[i]].FilterType,\n                    format: fieldList[keys[i]].Format,\n                    formula: fieldList[keys[i]].Formula,\n                    isSelected: fieldList[keys[i]].IsSelected,\n                    isExcelFilter: fieldList[keys[i]].IsExcelFilter,\n                    showNoDataItems: fieldList[keys[i]].ShowNoDataItems,\n                    isCustomField: fieldList[keys[i]].IsCustomField,\n                    showFilterIcon: fieldList[keys[i]].ShowFilterIcon,\n                    showSortIcon: fieldList[keys[i]].ShowSortIcon,\n                    showRemoveIcon: fieldList[keys[i]].ShowRemoveIcon,\n                    showEditIcon: fieldList[keys[i]].ShowEditIcon,\n                    showValueTypeIcon: fieldList[keys[i]].ShowValueTypeIcon,\n                    allowDragAndDrop: fieldList[keys[i]].AllowDragAndDrop,\n                    isCalculatedField: fieldList[keys[i]].IsCalculatedField,\n                    showSubTotals: fieldList[keys[i]].ShowSubTotals\n                };\n            }\n        }\n        return fList;\n    };\n    /* eslint-disable */\n    PivotUtil.frameContent = function (pivotValues, type, rowPosition, control) {\n        var dataContent = [];\n        var pivot = control;\n        if (pivot.dataSourceSettings.values.length > 0 && !pivot.engineModule.isEmptyData) {\n            if ((pivot.enableValueSorting) || !pivot.engineModule.isEngineUpdated) {\n                var rowCnt = 0;\n                var start = type === 'value' ? rowPosition : 0;\n                var end = type === 'value' ? pivotValues.length : rowPosition;\n                for (var rCnt = start; rCnt < end; rCnt++) {\n                    if (pivotValues[rCnt]) {\n                        rowCnt = type === 'header' ? rCnt : rowCnt;\n                        dataContent[rowCnt] = {};\n                        for (var cCnt = 0; cCnt < pivotValues[rCnt].length; cCnt++) {\n                            if (pivotValues[rCnt][cCnt]) {\n                                dataContent[rowCnt][cCnt] = pivotValues[rCnt][cCnt];\n                            }\n                        }\n                        rowCnt++;\n                    }\n                }\n            }\n        }\n        return dataContent;\n    };\n    PivotUtil.getLocalizedObject = function (control) {\n        var locale = new Object();\n        locale[\"Null\"] = control.localeObj.getConstant('null');\n        locale[\"Years\"] = control.localeObj.getConstant('Years');\n        locale[\"Quarters\"] = control.localeObj.getConstant('Quarters');\n        locale[\"Months\"] = control.localeObj.getConstant('Months');\n        locale[\"Days\"] = control.localeObj.getConstant('Days');\n        locale[\"Hours\"] = control.localeObj.getConstant('Hours');\n        locale[\"Minutes\"] = control.localeObj.getConstant('Minutes');\n        locale[\"Seconds\"] = control.localeObj.getConstant('Seconds');\n        locale[\"QuarterYear\"] = control.localeObj.getConstant('QuarterYear');\n        locale[\"Of\"] = control.localeObj.getConstant('of');\n        locale[\"Qtr\"] = control.localeObj.getConstant('qtr');\n        locale[\"Undefined\"] = control.localeObj.getConstant('undefined');\n        locale[\"GroupOutOfRange\"] = control.localeObj.getConstant('groupOutOfRange');\n        locale[\"Group\"] = control.localeObj.getConstant('group');\n        return locale;\n    };\n    PivotUtil.updateReport = function (control, report) {\n        /* eslint-enable */\n        control.setProperties({ dataSourceSettings: { rows: [] } }, true);\n        control.setProperties({ dataSourceSettings: { columns: [] } }, true);\n        control.setProperties({ dataSourceSettings: { formatSettings: [] } }, true);\n        for (var i = 0; i < report.Rows.length; i++) {\n            control.dataSourceSettings.rows.push({\n                name: report.Rows[i].Name,\n                caption: report.Rows[i].Caption,\n                showNoDataItems: report.Rows[i].ShowNoDataItems,\n                baseField: report.Rows[i].BaseField,\n                baseItem: report.Rows[i].BaseItem,\n                showFilterIcon: report.Rows[i].ShowFilterIcon,\n                showSortIcon: report.Rows[i].ShowSortIcon,\n                showEditIcon: report.Rows[i].ShowEditIcon,\n                showRemoveIcon: report.Rows[i].ShowRemoveIcon,\n                showSubTotals: report.Rows[i].ShowValueTypeIcon,\n                allowDragAndDrop: report.Rows[i].AllowDragAndDrop,\n                axis: report.Rows[i].Axis,\n                dataType: report.Rows[i].DataType,\n                isCalculatedField: report.Rows[i].IsCalculatedField,\n                showValueTypeIcon: report.Rows[i].ShowValueTypeIcon,\n                type: report.Rows[i].Type\n            });\n        }\n        for (var i = 0; i < report.Columns.length; i++) {\n            control.dataSourceSettings.columns.push({\n                name: report.Columns[i].Name,\n                caption: report.Columns[i].Caption,\n                showNoDataItems: report.Columns[i].ShowNoDataItems,\n                baseField: report.Columns[i].BaseField,\n                baseItem: report.Columns[i].BaseItem,\n                showFilterIcon: report.Columns[i].ShowFilterIcon,\n                showSortIcon: report.Columns[i].ShowSortIcon,\n                showEditIcon: report.Columns[i].ShowEditIcon,\n                showRemoveIcon: report.Columns[i].ShowRemoveIcon,\n                showSubTotals: report.Columns[i].ShowValueTypeIcon,\n                allowDragAndDrop: report.Columns[i].AllowDragAndDrop,\n                axis: report.Columns[i].Axis,\n                dataType: report.Columns[i].DataType,\n                isCalculatedField: report.Columns[i].IsCalculatedField,\n                showValueTypeIcon: report.Columns[i].ShowValueTypeIcon,\n                type: report.Columns[i].Type\n            });\n        }\n        for (var i = 0; i < report.FormatSettings.length; i++) {\n            control.dataSourceSettings.formatSettings.push({\n                name: report.FormatSettings[i].Name,\n                format: report.FormatSettings[i].Format,\n                type: report.FormatSettings[i].Type,\n                currency: report.FormatSettings[i].Currency,\n                maximumFractionDigits: report.FormatSettings[i].MaximumFractionDigits,\n                maximumSignificantDigits: report.FormatSettings[i].MaximumSignificantDigits,\n                minimumFractionDigits: report.FormatSettings[i].MinimumFractionDigits,\n                minimumIntegerDigits: report.FormatSettings[i].MinimumIntegerDigits,\n                minimumSignificantDigits: report.FormatSettings[i].MinimumSignificantDigits,\n                skeleton: report.FormatSettings[i].Skeleton,\n                useGrouping: report.FormatSettings[i].UseGrouping\n            });\n        }\n    };\n    PivotUtil.generateUUID = function () {\n        /* eslint-disable */\n        var d = new Date().getTime();\n        var d2 = (performance && performance.now && (performance.now() * 1000)) || 0;\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16;\n            if (d > 0) {\n                r = (d + r) % 16 | 0;\n                d = Math.floor(d / 16);\n            }\n            else {\n                r = (d2 + r) % 16 | 0;\n                d2 = Math.floor(d2 / 16);\n            }\n            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n        });\n        /* eslint-enable */\n    };\n    return PivotUtil;\n}());\nexport { PivotUtil };\n"]},"metadata":{},"sourceType":"module"}