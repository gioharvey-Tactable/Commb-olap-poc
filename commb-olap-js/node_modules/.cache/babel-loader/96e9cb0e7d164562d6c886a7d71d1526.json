{"ast":null,"code":"import { PivotButton } from '../actions/pivot-button';\nimport * as events from '../../common/base/constant';\nimport * as cls from '../../common/base/css-constant';\nimport { createElement, prepend } from '@syncfusion/ej2-base';\nimport { PivotUtil } from '../../base/util';\n/**\n * Module to render Axis Fields\n */\n\n/** @hidden */\n\nvar AxisFields = function () {\n  /** Constructor for render module\n   * @param {PivotView} parent - Instance.\n   */\n  function AxisFields(parent) {\n    this.parent = parent;\n  }\n  /**\n   * Initialize the grouping bar pivot button rendering\n   * @returns {void}\n   * @private\n   */\n\n\n  AxisFields.prototype.render = function () {\n    /* eslint-disable */\n    var pivotButtonModule = !this.parent.pivotButtonModule || this.parent.pivotButtonModule && this.parent.pivotButtonModule.isDestroyed ? new PivotButton(this.parent) : this.parent.pivotButtonModule;\n    /* eslint-enable */\n\n    this.createPivotButtons();\n    var pivotButtons = [];\n\n    for (var _i = 0, _a = this.parent.element.querySelectorAll('.' + cls.GROUP_ROW_CLASS); _i < _a.length; _i++) {\n      /* eslint-disable-line */\n      var element = _a[_i];\n\n      if (!element.classList.contains(cls.GROUP_CHART_ROW)) {\n        pivotButtons = pivotButtons.concat([].slice.call(element.querySelectorAll('.' + cls.PIVOT_BUTTON_WRAPPER_CLASS)));\n      }\n    }\n\n    var vlen = pivotButtons.length;\n\n    for (var j = 0; j < vlen; j++) {\n      var indentWidth = 24;\n      var indentDiv = createElement('span', {\n        className: 'e-indent-div',\n        styles: 'width:' + j * indentWidth + 'px'\n      });\n      prepend([indentDiv], pivotButtons[j]);\n    }\n  };\n\n  AxisFields.prototype.createPivotButtons = function () {\n    var fields = [this.parent.dataSourceSettings.rows, this.parent.dataSourceSettings.columns, this.parent.dataSourceSettings.values, this.parent.dataSourceSettings.filters];\n\n    for (var _i = 0, _a = this.parent.element.querySelectorAll('.' + cls.GROUP_ALL_FIELDS_CLASS + ',.' + cls.GROUP_ROW_CLASS + ',.' + cls.GROUP_COLUMN_CLASS + ',.' + cls.GROUP_VALUE_CLASS + ',.' + cls.GROUP_FILTER_CLASS); _i < _a.length; _i++) {\n      /* eslint-disable-line */\n      var element = _a[_i];\n\n      if ((this.parent.dataSourceSettings.values.length > 0 ? !element.classList.contains(cls.GROUP_CHART_VALUE) : true) || (this.parent.dataSourceSettings.columns.length > 0 ? !element.classList.contains(cls.GROUP_CHART_COLUMN) : true)) {\n        element.innerHTML = '';\n      }\n    }\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n\n\n    var axis = ['rows', 'columns', 'values', 'filters'];\n\n    if (this.parent.dataType === 'pivot' && this.parent.groupingBarSettings.showFieldsPanel) {\n      axis.push('all-fields');\n      fields.push([]);\n\n      for (var _b = 0, _c = this.parent.engineModule && this.parent.engineModule.fieldList ? Object.keys(this.parent.engineModule.fieldList) : []; _b < _c.length; _b++) {\n        var key = _c[_b];\n\n        if (this.parent.engineModule.fieldList[key] && !this.parent.engineModule.fieldList[key].isSelected) {\n          fields[fields.length - 1].push(PivotUtil.getFieldInfo(key, this.parent, true).fieldItem);\n        }\n      }\n    }\n\n    for (var i = 0, lnt = fields.length; i < lnt; i++) {\n      if (fields[i]) {\n        var args = {\n          field: fields[i],\n          axis: axis[i].toString()\n        };\n        this.parent.notify(events.pivotButtonUpdate, args);\n      }\n    }\n  };\n\n  return AxisFields;\n}();\n\nexport { AxisFields };","map":{"version":3,"sources":["/workspace/Commb-olap-poc/commb-olap-js/node_modules/@syncfusion/ej2-pivotview/src/common/grouping-bar/axis-field-renderer.js"],"names":["PivotButton","events","cls","createElement","prepend","PivotUtil","AxisFields","parent","prototype","render","pivotButtonModule","isDestroyed","createPivotButtons","pivotButtons","_i","_a","element","querySelectorAll","GROUP_ROW_CLASS","length","classList","contains","GROUP_CHART_ROW","concat","slice","call","PIVOT_BUTTON_WRAPPER_CLASS","vlen","j","indentWidth","indentDiv","className","styles","fields","dataSourceSettings","rows","columns","values","filters","GROUP_ALL_FIELDS_CLASS","GROUP_COLUMN_CLASS","GROUP_VALUE_CLASS","GROUP_FILTER_CLASS","GROUP_CHART_VALUE","GROUP_CHART_COLUMN","innerHTML","axis","dataType","groupingBarSettings","showFieldsPanel","push","_b","_c","engineModule","fieldList","Object","keys","key","isSelected","getFieldInfo","fieldItem","i","lnt","args","field","toString","notify","pivotButtonUpdate"],"mappings":"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","sourcesContent":["import { PivotButton } from '../actions/pivot-button';\nimport * as events from '../../common/base/constant';\nimport * as cls from '../../common/base/css-constant';\nimport { createElement, prepend } from '@syncfusion/ej2-base';\nimport { PivotUtil } from '../../base/util';\n/**\n * Module to render Axis Fields\n */\n/** @hidden */\nvar AxisFields = /** @class */ (function () {\n    /** Constructor for render module\n     * @param {PivotView} parent - Instance.\n     */\n    function AxisFields(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Initialize the grouping bar pivot button rendering\n     * @returns {void}\n     * @private\n     */\n    AxisFields.prototype.render = function () {\n        /* eslint-disable */\n        var pivotButtonModule = ((!this.parent.pivotButtonModule || (this.parent.pivotButtonModule && this.parent.pivotButtonModule.isDestroyed)) ?\n            new PivotButton(this.parent) : this.parent.pivotButtonModule);\n        /* eslint-enable */\n        this.createPivotButtons();\n        var pivotButtons = [];\n        for (var _i = 0, _a = this.parent.element.querySelectorAll('.' + cls.GROUP_ROW_CLASS); _i < _a.length; _i++) { /* eslint-disable-line */\n            var element = _a[_i];\n            if (!element.classList.contains(cls.GROUP_CHART_ROW)) {\n                pivotButtons = pivotButtons.concat([].slice.call(element.querySelectorAll('.' + cls.PIVOT_BUTTON_WRAPPER_CLASS)));\n            }\n        }\n        var vlen = pivotButtons.length;\n        for (var j = 0; j < vlen; j++) {\n            var indentWidth = 24;\n            var indentDiv = createElement('span', {\n                className: 'e-indent-div',\n                styles: 'width:' + j * indentWidth + 'px'\n            });\n            prepend([indentDiv], pivotButtons[j]);\n        }\n    };\n    AxisFields.prototype.createPivotButtons = function () {\n        var fields = [this.parent.dataSourceSettings.rows, this.parent.dataSourceSettings.columns,\n            this.parent.dataSourceSettings.values, this.parent.dataSourceSettings.filters];\n        for (var _i = 0, _a = this.parent.element.querySelectorAll('.' + cls.GROUP_ALL_FIELDS_CLASS + ',.' + cls.GROUP_ROW_CLASS + ',.' + cls.GROUP_COLUMN_CLASS + ',.'\n            + cls.GROUP_VALUE_CLASS + ',.' + cls.GROUP_FILTER_CLASS); _i < _a.length; _i++) { /* eslint-disable-line */\n            var element = _a[_i];\n            if ((this.parent.dataSourceSettings.values.length > 0 ? !element.classList.contains(cls.GROUP_CHART_VALUE) : true) ||\n                (this.parent.dataSourceSettings.columns.length > 0 ? !element.classList.contains(cls.GROUP_CHART_COLUMN) : true)) {\n                element.innerHTML = '';\n            }\n        }\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n        var axis = ['rows', 'columns', 'values', 'filters'];\n        if (this.parent.dataType === 'pivot' && this.parent.groupingBarSettings.showFieldsPanel) {\n            axis.push('all-fields');\n            fields.push([]);\n            for (var _b = 0, _c = (this.parent.engineModule && this.parent.engineModule.fieldList ? Object.keys(this.parent.engineModule.fieldList) : []); _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (this.parent.engineModule.fieldList[key] && !this.parent.engineModule.fieldList[key].isSelected) {\n                    fields[fields.length - 1].push(PivotUtil.getFieldInfo(key, this.parent, true).fieldItem);\n                }\n            }\n        }\n        for (var i = 0, lnt = fields.length; i < lnt; i++) {\n            if (fields[i]) {\n                var args = {\n                    field: fields[i],\n                    axis: axis[i].toString()\n                };\n                this.parent.notify(events.pivotButtonUpdate, args);\n            }\n        }\n    };\n    return AxisFields;\n}());\nexport { AxisFields };\n"]},"metadata":{},"sourceType":"module"}