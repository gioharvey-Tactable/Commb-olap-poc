{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable jsdoc/require-returns */\n\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n\n/* eslint-disable jsdoc/require-param */\n\n/* eslint-disable valid-jsdoc */\n\n/**\n * AccumulationChart Selection src file\n */\n\n\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { indexFinder } from '../../common/utils/helper';\nimport { pointByIndex } from '../model/acc-base';\nimport { Index } from '../../common/model/base';\nimport { BaseSelection } from '../../common/user-interaction/selection';\n/**\n * `AccumulationSelection` module handles the selection for accumulation chart.\n */\n\nvar AccumulationSelection = function (_super) {\n  __extends(AccumulationSelection, _super);\n\n  function AccumulationSelection(accumulation) {\n    var _this = _super.call(this, accumulation) || this;\n\n    _this.renderer = accumulation.renderer;\n    return _this;\n  }\n  /**\n   * To initialize the private variables\n   */\n\n\n  AccumulationSelection.prototype.initPrivateVariables = function (accumulation) {\n    this.styleId = accumulation.element.id + '_ej2_chart_selection';\n    this.unselected = accumulation.element.id + '_ej2_deselected';\n    this.selectedDataIndexes = [];\n    this.rectPoints = null;\n  };\n  /**\n   * Invoke selection for rendered chart.\n   *\n   * @param {AccumulationChart} accumulation Define the chart to invoke the selection.\n   * @returns {void}\n   */\n\n\n  AccumulationSelection.prototype.invokeSelection = function (accumulation) {\n    this.initPrivateVariables(accumulation);\n    this.series = extend({}, accumulation.visibleSeries, null, true);\n    this.seriesStyles();\n    this.selectDataIndex(this.concatIndexes(accumulation.selectedDataIndexes, this.selectedDataIndexes), accumulation);\n  };\n  /**\n   * To get series selection style by series.\n   */\n\n\n  AccumulationSelection.prototype.generateStyle = function (series) {\n    return series.selectionStyle || this.styleId + '_series_' + series.index;\n  };\n  /**\n   * To get elements by index, series\n   */\n\n\n  AccumulationSelection.prototype.findElements = function (accumulation, series, index) {\n    return [this.getElementByIndex(index)];\n  };\n  /**\n   * To get series point element by index\n   */\n\n\n  AccumulationSelection.prototype.getElementByIndex = function (index) {\n    var elementId = this.control.element.id + '_Series_' + index.series + '_Point_' + index.point;\n    return document.getElementById(elementId);\n  };\n  /**\n   * To calculate selected elements on mouse click or touch\n   *\n   * @private\n   */\n\n\n  AccumulationSelection.prototype.calculateSelectedElements = function (accumulation, event) {\n    if (event.target.id.indexOf(accumulation.element.id + '_') === -1) {\n      return;\n    }\n\n    if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n      this.performSelection(indexFinder(event.target.id), accumulation, event.target);\n    }\n  };\n  /**\n   * To perform the selection process based on index and element.\n   */\n\n\n  AccumulationSelection.prototype.performSelection = function (index, accumulation, element) {\n    element = element.id.indexOf('datalabel') > -1 ? accumulation.getSeriesElement().childNodes[index.series].childNodes[index.point] : element;\n\n    switch (accumulation.selectionMode) {\n      case 'Point':\n        if (!isNaN(index.point)) {\n          this.selection(accumulation, index, [element]);\n          this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n        }\n\n        break;\n    }\n  };\n  /**\n   * To select the element by index. Adding or removing selection style class name.\n   */\n\n\n  AccumulationSelection.prototype.selection = function (accumulation, index, selectedElements) {\n    if (!accumulation.isMultiSelect) {\n      this.removeMultiSelectEelments(accumulation, this.selectedDataIndexes, index, accumulation.series);\n    }\n\n    var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n\n    if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n      this.removeStyles(selectedElements, index);\n      this.addOrRemoveIndex(this.selectedDataIndexes, index);\n\n      if (accumulation.enableBorderOnMouseMove) {\n        var borderElement = document.getElementById(selectedElements[0].id.split('_')[0] + 'PointHover_Border');\n\n        if (!isNullOrUndefined(borderElement)) {\n          this.removeSvgClass(borderElement, borderElement.getAttribute('class'));\n        }\n      }\n    } else {\n      this.applyStyles(selectedElements, index);\n\n      if (accumulation.enableBorderOnMouseMove) {\n        var borderElement = document.getElementById(selectedElements[0].id.split('_')[0] + 'PointHover_Border');\n\n        if (!isNullOrUndefined(borderElement)) {\n          this.addSvgClass(borderElement, selectedElements[0].getAttribute('class'));\n        }\n      }\n\n      this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n    }\n  };\n  /**\n   * To redraw the selection process on accumulation chart refresh.\n   *\n   * @private\n   */\n\n\n  AccumulationSelection.prototype.redrawSelection = function (accumulation) {\n    var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n    this.removeSelectedElements(accumulation, this.selectedDataIndexes);\n    this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n    this.selectDataIndex(selectedDataIndexes, accumulation);\n  };\n  /**\n   * To remove the selected elements style classes by indexes.\n   */\n\n\n  AccumulationSelection.prototype.removeSelectedElements = function (accumulation, indexes) {\n    for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n      var index = indexes_1[_i];\n      this.removeStyles([this.getElementByIndex(index)], index);\n    }\n  };\n  /**\n   * To perform the selection for legend elements.\n   *\n   * @private\n   */\n\n\n  AccumulationSelection.prototype.legendSelection = function (accumulation, series, pointIndex) {\n    var seriesElements = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n    this.selection(accumulation, new Index(series, pointIndex), [seriesElements]);\n    this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n  };\n  /**\n   * To select the element by selected data indexes.\n   */\n\n\n  AccumulationSelection.prototype.selectDataIndex = function (indexes, accumulation) {\n    var element;\n\n    for (var _i = 0, indexes_2 = indexes; _i < indexes_2.length; _i++) {\n      var index = indexes_2[_i];\n      element = this.getElementByIndex(index);\n\n      if (element) {\n        this.performSelection(index, accumulation, element);\n      }\n    }\n  };\n  /**\n   * To remove the selection styles for multi selection process.\n   */\n\n\n  AccumulationSelection.prototype.removeMultiSelectEelments = function (accumulation, index, currentIndex, seriesCollection) {\n    var series;\n\n    for (var i = 0; i < index.length; i++) {\n      series = seriesCollection[index[i].series];\n\n      if (!this.checkEquals(index[i], currentIndex)) {\n        this.removeStyles(this.findElements(accumulation, series, index[i]), index[i]);\n        index.splice(i, 1);\n        i--;\n      }\n    }\n  };\n  /**\n   * To apply the opacity effect for accumulation chart series elements.\n   */\n\n\n  AccumulationSelection.prototype.blurEffect = function (pieId, visibleSeries) {\n    var visibility = this.checkPointVisibility(this.selectedDataIndexes); // legend click scenario\n\n    for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n      var series = visibleSeries_1[_i];\n\n      if (series.visible) {\n        this.checkSelectionElements(document.getElementById(pieId + '_SeriesCollection'), this.generateStyle(series), visibility);\n      }\n    }\n  };\n  /**\n   * To check selection elements by style class name.\n   */\n\n\n  AccumulationSelection.prototype.checkSelectionElements = function (element, className, visibility) {\n    var children = element.childNodes[0].childNodes;\n    var legendShape;\n    var elementClass;\n    var parentClass;\n\n    for (var i = 0; i < children.length; i++) {\n      elementClass = children[i].getAttribute('class') || '';\n      parentClass = children[i].parentNode.getAttribute('class') || '';\n\n      if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n        this.addSvgClass(children[i], this.unselected);\n      } else {\n        this.removeSvgClass(children[i], this.unselected);\n      }\n\n      if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n        legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + i);\n\n        if (legendShape) {\n          if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n            this.addSvgClass(legendShape, this.unselected);\n          } else {\n            this.removeSvgClass(legendShape, this.unselected);\n          }\n        }\n      }\n    }\n  };\n  /**\n   * To apply selection style for elements.\n   */\n\n\n  AccumulationSelection.prototype.applyStyles = function (elements, index) {\n    var accumulationTooltip = this.control.accumulationTooltipModule;\n\n    for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n      var element = elements_1[_i];\n      var legendShape = void 0;\n\n      if (element) {\n        if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n          legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n          this.removeSvgClass(legendShape, this.unselected);\n          this.addSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n        }\n\n        this.removeSvgClass(element.parentNode, this.unselected);\n        this.removeSvgClass(element, this.unselected);\n        var opacity = accumulationTooltip && accumulationTooltip.previousPoints.length > 0 && accumulationTooltip.previousPoints[0].point.index !== index.point ? accumulationTooltip.svgTooltip.opacity : this.series[index.series].opacity;\n        element.setAttribute('opacity', opacity.toString());\n        this.addSvgClass(element, this.getSelectionClass(element.id));\n      }\n    }\n  };\n  /**\n   * To get selection style class name by id\n   */\n\n\n  AccumulationSelection.prototype.getSelectionClass = function (id) {\n    return this.generateStyle(this.control.series[indexFinder(id).series]);\n  };\n  /**\n   * To remove selection style for elements.\n   */\n\n\n  AccumulationSelection.prototype.removeStyles = function (elements, index) {\n    var accumulationTooltip = this.control.accumulationTooltipModule;\n    var legendShape;\n\n    for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n      var element = elements_2[_i];\n\n      if (element) {\n        if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n          legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n          this.removeSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n        }\n\n        var opacity = accumulationTooltip && accumulationTooltip.previousPoints.length > 0 && accumulationTooltip.previousPoints[0].point.index === index.point ? accumulationTooltip.svgTooltip.opacity : this.series[index.series].opacity;\n        element.setAttribute('opacity', opacity.toString());\n        this.removeSvgClass(element, this.getSelectionClass(element.id));\n      }\n    }\n  };\n  /**\n   * To apply or remove selected elements index.\n   */\n\n\n  AccumulationSelection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n    for (var i = 0; i < indexes.length; i++) {\n      if (this.checkEquals(indexes[i], index)) {\n        indexes.splice(i, 1);\n        i--;\n      }\n    }\n\n    if (add) {\n      indexes.push(index);\n    }\n  };\n  /**\n   * To check two index, point and series are equal\n   */\n\n\n  AccumulationSelection.prototype.checkEquals = function (first, second) {\n    return first.point === second.point && first.series === second.series;\n  };\n  /**\n   * To check selected points are visibility\n   */\n\n\n  AccumulationSelection.prototype.checkPointVisibility = function (selectedDataIndexes) {\n    var visible = false;\n\n    for (var _i = 0, selectedDataIndexes_1 = selectedDataIndexes; _i < selectedDataIndexes_1.length; _i++) {\n      var data = selectedDataIndexes_1[_i];\n\n      if (pointByIndex(data.point, this.control.visibleSeries[0].points).visible) {\n        visible = true;\n        break;\n      }\n    }\n\n    return visible;\n  };\n  /**\n   * Get module name.\n   */\n\n\n  AccumulationSelection.prototype.getModuleName = function () {\n    return 'AccumulationSelection';\n  };\n  /**\n   * To destroy the selection.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  AccumulationSelection.prototype.destroy = function () {// Destroy method performed here\n  };\n\n  return AccumulationSelection;\n}(BaseSelection);\n\nexport { AccumulationSelection };","map":{"version":3,"sources":["/workspace/Commb-olap-poc/commb-olap-js/node_modules/@syncfusion/ej2-charts/src/accumulation-chart/user-interaction/selection.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","extend","isNullOrUndefined","indexFinder","pointByIndex","Index","BaseSelection","AccumulationSelection","_super","accumulation","_this","call","renderer","initPrivateVariables","styleId","element","id","unselected","selectedDataIndexes","rectPoints","invokeSelection","series","visibleSeries","seriesStyles","selectDataIndex","concatIndexes","generateStyle","selectionStyle","index","findElements","getElementByIndex","elementId","control","point","document","getElementById","calculateSelectedElements","event","target","indexOf","performSelection","getSeriesElement","childNodes","selectionMode","isNaN","selection","blurEffect","selectedElements","isMultiSelect","removeMultiSelectEelments","className","getAttribute","getSelectionClass","removeStyles","addOrRemoveIndex","enableBorderOnMouseMove","borderElement","split","removeSvgClass","applyStyles","addSvgClass","redrawSelection","removeSelectedElements","indexes","_i","indexes_1","length","legendSelection","pointIndex","seriesElements","indexes_2","currentIndex","seriesCollection","i","checkEquals","splice","pieId","visibility","checkPointVisibility","visibleSeries_1","visible","checkSelectionElements","children","legendShape","elementClass","parentClass","parentNode","accumulationLegendModule","legendSettings","elements","accumulationTooltip","accumulationTooltipModule","elements_1","opacity","previousPoints","svgTooltip","setAttribute","toString","elements_2","add","push","first","second","selectedDataIndexes_1","data","points","getModuleName","destroy"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable jsdoc/require-returns */\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n/* eslint-disable jsdoc/require-param */\n/* eslint-disable valid-jsdoc */\n/**\n * AccumulationChart Selection src file\n */\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { indexFinder } from '../../common/utils/helper';\nimport { pointByIndex } from '../model/acc-base';\nimport { Index } from '../../common/model/base';\nimport { BaseSelection } from '../../common/user-interaction/selection';\n/**\n * `AccumulationSelection` module handles the selection for accumulation chart.\n */\nvar AccumulationSelection = /** @class */ (function (_super) {\n    __extends(AccumulationSelection, _super);\n    function AccumulationSelection(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.renderer = accumulation.renderer;\n        return _this;\n    }\n    /**\n     * To initialize the private variables\n     */\n    AccumulationSelection.prototype.initPrivateVariables = function (accumulation) {\n        this.styleId = accumulation.element.id + '_ej2_chart_selection';\n        this.unselected = accumulation.element.id + '_ej2_deselected';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n    };\n    /**\n     * Invoke selection for rendered chart.\n     *\n     * @param {AccumulationChart} accumulation Define the chart to invoke the selection.\n     * @returns {void}\n     */\n    AccumulationSelection.prototype.invokeSelection = function (accumulation) {\n        this.initPrivateVariables(accumulation);\n        this.series = extend({}, accumulation.visibleSeries, null, true);\n        this.seriesStyles();\n        this.selectDataIndex(this.concatIndexes(accumulation.selectedDataIndexes, this.selectedDataIndexes), accumulation);\n    };\n    /**\n     * To get series selection style by series.\n     */\n    AccumulationSelection.prototype.generateStyle = function (series) {\n        return (series.selectionStyle || this.styleId + '_series_' + series.index);\n    };\n    /**\n     * To get elements by index, series\n     */\n    AccumulationSelection.prototype.findElements = function (accumulation, series, index) {\n        return [this.getElementByIndex(index)];\n    };\n    /**\n     * To get series point element by index\n     */\n    AccumulationSelection.prototype.getElementByIndex = function (index) {\n        var elementId = this.control.element.id + '_Series_' + index.series + '_Point_' + index.point;\n        return document.getElementById(elementId);\n    };\n    /**\n     * To calculate selected elements on mouse click or touch\n     *\n     * @private\n     */\n    AccumulationSelection.prototype.calculateSelectedElements = function (accumulation, event) {\n        if (event.target.id.indexOf(accumulation.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            this.performSelection(indexFinder(event.target.id), accumulation, event.target);\n        }\n    };\n    /**\n     * To perform the selection process based on index and element.\n     */\n    AccumulationSelection.prototype.performSelection = function (index, accumulation, element) {\n        element = element.id.indexOf('datalabel') > -1 ?\n            accumulation.getSeriesElement().childNodes[index.series].childNodes[index.point]\n            : element;\n        switch (accumulation.selectionMode) {\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(accumulation, index, [element]);\n                    this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n                }\n                break;\n        }\n    };\n    /**\n     * To select the element by index. Adding or removing selection style class name.\n     */\n    AccumulationSelection.prototype.selection = function (accumulation, index, selectedElements) {\n        if (!accumulation.isMultiSelect) {\n            this.removeMultiSelectEelments(accumulation, this.selectedDataIndexes, index, accumulation.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n            if (accumulation.enableBorderOnMouseMove) {\n                var borderElement = document.getElementById(selectedElements[0].id.split('_')[0] + 'PointHover_Border');\n                if (!isNullOrUndefined(borderElement)) {\n                    this.removeSvgClass(borderElement, borderElement.getAttribute('class'));\n                }\n            }\n        }\n        else {\n            this.applyStyles(selectedElements, index);\n            if (accumulation.enableBorderOnMouseMove) {\n                var borderElement = document.getElementById(selectedElements[0].id.split('_')[0] + 'PointHover_Border');\n                if (!isNullOrUndefined(borderElement)) {\n                    this.addSvgClass(borderElement, selectedElements[0].getAttribute('class'));\n                }\n            }\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    /**\n     * To redraw the selection process on accumulation chart refresh.\n     *\n     * @private\n     */\n    AccumulationSelection.prototype.redrawSelection = function (accumulation) {\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(accumulation, this.selectedDataIndexes);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n        this.selectDataIndex(selectedDataIndexes, accumulation);\n    };\n    /**\n     * To remove the selected elements style classes by indexes.\n     */\n    AccumulationSelection.prototype.removeSelectedElements = function (accumulation, indexes) {\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.removeStyles([this.getElementByIndex(index)], index);\n        }\n    };\n    /**\n     * To perform the selection for legend elements.\n     *\n     * @private\n     */\n    AccumulationSelection.prototype.legendSelection = function (accumulation, series, pointIndex) {\n        var seriesElements = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        this.selection(accumulation, new Index(series, pointIndex), [seriesElements]);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n    };\n    /**\n     * To select the element by selected data indexes.\n     */\n    AccumulationSelection.prototype.selectDataIndex = function (indexes, accumulation) {\n        var element;\n        for (var _i = 0, indexes_2 = indexes; _i < indexes_2.length; _i++) {\n            var index = indexes_2[_i];\n            element = this.getElementByIndex(index);\n            if (element) {\n                this.performSelection(index, accumulation, element);\n            }\n        }\n    };\n    /**\n     * To remove the selection styles for multi selection process.\n     */\n    AccumulationSelection.prototype.removeMultiSelectEelments = function (accumulation, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if (!this.checkEquals(index[i], currentIndex)) {\n                this.removeStyles(this.findElements(accumulation, series, index[i]), index[i]);\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    /**\n     * To apply the opacity effect for accumulation chart series elements.\n     */\n    AccumulationSelection.prototype.blurEffect = function (pieId, visibleSeries) {\n        var visibility = this.checkPointVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(document.getElementById(pieId + '_SeriesCollection'), this.generateStyle(series), visibility);\n            }\n        }\n    };\n    /**\n     * To check selection elements by style class name.\n     */\n    AccumulationSelection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = element.childNodes[0].childNodes;\n        var legendShape;\n        var elementClass;\n        var parentClass;\n        for (var i = 0; i < children.length; i++) {\n            elementClass = children[i].getAttribute('class') || '';\n            parentClass = children[i].parentNode.getAttribute('class') || '';\n            if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                this.removeSvgClass(children[i], this.unselected);\n            }\n            if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + i);\n                if (legendShape) {\n                    if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                        this.addSvgClass(legendShape, this.unselected);\n                    }\n                    else {\n                        this.removeSvgClass(legendShape, this.unselected);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To apply selection style for elements.\n     */\n    AccumulationSelection.prototype.applyStyles = function (elements, index) {\n        var accumulationTooltip = this.control.accumulationTooltipModule;\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            var legendShape = void 0;\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.unselected);\n                    this.addSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                var opacity = accumulationTooltip && (accumulationTooltip.previousPoints.length > 0 &&\n                    accumulationTooltip.previousPoints[0].point.index !== index.point) ?\n                    accumulationTooltip.svgTooltip.opacity : this.series[index.series].opacity;\n                element.setAttribute('opacity', opacity.toString());\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To get selection style class name by id\n     */\n    AccumulationSelection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[indexFinder(id).series]);\n    };\n    /**\n     * To remove selection style for elements.\n     */\n    AccumulationSelection.prototype.removeStyles = function (elements, index) {\n        var accumulationTooltip = this.control.accumulationTooltipModule;\n        var legendShape;\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                var opacity = accumulationTooltip && accumulationTooltip.previousPoints.length > 0\n                    && (accumulationTooltip.previousPoints[0].point.index === index.point) ?\n                    accumulationTooltip.svgTooltip.opacity : this.series[index.series].opacity;\n                element.setAttribute('opacity', opacity.toString());\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To apply or remove selected elements index.\n     */\n    AccumulationSelection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.checkEquals(indexes[i], index)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    /**\n     * To check two index, point and series are equal\n     */\n    AccumulationSelection.prototype.checkEquals = function (first, second) {\n        return ((first.point === second.point) && (first.series === second.series));\n    };\n    /**\n     * To check selected points are visibility\n     */\n    AccumulationSelection.prototype.checkPointVisibility = function (selectedDataIndexes) {\n        var visible = false;\n        for (var _i = 0, selectedDataIndexes_1 = selectedDataIndexes; _i < selectedDataIndexes_1.length; _i++) {\n            var data = selectedDataIndexes_1[_i];\n            if (pointByIndex(data.point, this.control.visibleSeries[0].points).visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationSelection.prototype.getModuleName = function () {\n        return 'AccumulationSelection';\n    };\n    /**\n     * To destroy the selection.\n     *\n     * @returns {void}\n     * @private\n     */\n    AccumulationSelection.prototype.destroy = function () {\n        // Destroy method performed here\n    };\n    return AccumulationSelection;\n}(BaseSelection));\nexport { AccumulationSelection };\n"]},"metadata":{},"sourceType":"module"}