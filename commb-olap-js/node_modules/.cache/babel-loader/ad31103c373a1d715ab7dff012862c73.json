{"ast":null,"code":"import * as events from '../../common/base/constant';\nimport * as cls from '../base/css-constant';\nimport { PivotFieldList } from '../../pivotfieldlist/base/field-list';\nimport { createElement, setStyleAttribute, formatUnit, prepend, addClass, removeClass, isNullOrUndefined, select, remove } from '@syncfusion/ej2-base';\nimport { CalculatedField } from '../../common/calculatedfield/calculated-field';\nPivotFieldList.Inject(CalculatedField);\n/**\n * Module for Field List rendering\n */\n\n/** @hidden */\n\nvar FieldList = function () {\n  /** Constructor for Field List module */\n  function FieldList(parent) {\n    this.parent = parent;\n    this.addEventListener();\n  }\n  /**\n   * For internal use only - Get the module name.\n   * @private\n   */\n\n\n  FieldList.prototype.getModuleName = function () {\n    /* eslint-enable */\n    return 'fieldList';\n  };\n\n  FieldList.prototype.initiateModule = function () {\n    this.element = createElement('div', {\n      id: this.parent.element.id + '_PivotFieldList',\n      styles: 'position:' + (this.parent.enableRtl ? 'static' : 'absolute') + ';height:0;width:' + this.parent.element.style.width + ';display:none'\n    });\n\n    if (select('#' + this.parent.element.id + 'containerwrapper', document) === null) {\n      var containerWrapper = createElement('div', {\n        id: this.parent.element.id + 'containerwrapper',\n        styles: 'height:' + this.parent.height\n      });\n      this.parent.element.parentElement.appendChild(containerWrapper);\n      containerWrapper.appendChild(this.element);\n      containerWrapper.appendChild(this.parent.element);\n    } else {\n      select('#' + this.parent.element.id + 'containerwrapper', document).appendChild(this.element);\n    }\n\n    this.parent.pivotFieldListModule = new PivotFieldList({\n      dataSourceSettings: {\n        providerType: this.parent.dataSourceSettings.providerType,\n        rows: [],\n        columns: [],\n        values: [],\n        filters: []\n      },\n      spinnerTemplate: this.parent.spinnerTemplate,\n      allowDeferLayoutUpdate: this.parent.allowDeferLayoutUpdate,\n      renderMode: 'Popup',\n      allowCalculatedField: this.parent.allowCalculatedField,\n      showValuesButton: this.parent.showValuesButton,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      target: this.parent.element.parentElement,\n      aggregateTypes: this.parent.aggregateTypes,\n      maxNodeLimitInMemberEditor: this.parent.maxNodeLimitInMemberEditor,\n      aggregateCellInfo: this.parent.bindTriggerEvents.bind(this.parent)\n    });\n    this.parent.pivotFieldListModule.isPopupView = true;\n    this.parent.pivotFieldListModule.pivotGridModule = this.parent;\n    this.parent.pivotFieldListModule.appendTo('#' + this.element.id);\n  };\n\n  FieldList.prototype.updateControl = function () {\n    if (this.element) {\n      this.element.style.display = 'block';\n      prepend([this.element], this.parent.element);\n\n      if (this.parent.showGroupingBar && this.parent.groupingBarModule) {\n        clearTimeout(this.timeOutObj);\n        this.timeOutObj = setTimeout(this.update.bind(this));\n      } else if (!isNullOrUndefined(this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS))) {\n        setStyleAttribute(this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS), {\n          left: 'auto'\n        });\n\n        if (this.parent.enableRtl) {\n          removeClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n        } else {\n          addClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n        }\n      }\n\n      setStyleAttribute(this.element, {\n        width: formatUnit(this.parent.element.offsetWidth)\n      });\n    }\n\n    this.parent.pivotFieldListModule.update(this.parent);\n  };\n\n  FieldList.prototype.update = function () {\n    var currentWidth;\n\n    if (this.parent.currentView !== 'Table') {\n      currentWidth = this.parent.chart ? this.parent.chartModule.calculatedWidth : currentWidth;\n    } else {\n      currentWidth = this.parent.grid ? this.parent.grid.element.offsetWidth : currentWidth;\n    }\n\n    if (currentWidth && !isNullOrUndefined(this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS))) {\n      var actualWidth = currentWidth < 400 ? 400 : currentWidth;\n      setStyleAttribute(this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS), {\n        left: formatUnit(this.parent.enableRtl ? -Math.abs(actualWidth - this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS).offsetWidth) : actualWidth - this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS).offsetWidth)\n      });\n\n      if (this.parent.enableRtl) {\n        addClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n      } else {\n        removeClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n      }\n    }\n  };\n  /* eslint-disable-next-line */\n\n  /**\n   * @hidden\n   */\n\n\n  FieldList.prototype.addEventListener = function () {\n    this.handlers = {\n      load: this.initiateModule,\n      update: this.updateControl\n    };\n\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.initSubComponent, this.handlers.load, this);\n    this.parent.on(events.uiUpdate, this.handlers.update, this);\n  };\n  /* eslint-disable-next-line */\n\n  /**\n   * @hidden\n   */\n\n\n  FieldList.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initSubComponent, this.handlers.load);\n    this.parent.off(events.uiUpdate, this.handlers.update);\n  };\n  /**\n   * To destroy the Field List.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  FieldList.prototype.destroy = function () {\n    this.removeEventListener();\n\n    if (this.parent.pivotFieldListModule && !this.parent.pivotFieldListModule.isDestroyed) {\n      this.parent.pivotFieldListModule.destroy();\n      this.parent.pivotFieldListModule = null;\n\n      if (!isNullOrUndefined(select('#' + this.parent.element.id + '_PivotFieldList', document))) {\n        remove(select('#' + this.parent.element.id + '_PivotFieldList', document));\n      }\n    } else {\n      return;\n    }\n  };\n\n  return FieldList;\n}();\n\nexport { FieldList };","map":{"version":3,"sources":["/workspace/Commb-olap-poc/commb-olap-js/node_modules/@syncfusion/ej2-pivotview/src/common/actions/field-list.js"],"names":["events","cls","PivotFieldList","createElement","setStyleAttribute","formatUnit","prepend","addClass","removeClass","isNullOrUndefined","select","remove","CalculatedField","Inject","FieldList","parent","addEventListener","prototype","getModuleName","initiateModule","element","id","styles","enableRtl","style","width","document","containerWrapper","height","parentElement","appendChild","pivotFieldListModule","dataSourceSettings","providerType","rows","columns","values","filters","spinnerTemplate","allowDeferLayoutUpdate","renderMode","allowCalculatedField","showValuesButton","locale","target","aggregateTypes","maxNodeLimitInMemberEditor","aggregateCellInfo","bindTriggerEvents","bind","isPopupView","pivotGridModule","appendTo","updateControl","display","showGroupingBar","groupingBarModule","clearTimeout","timeOutObj","setTimeout","update","querySelector","TOGGLE_FIELD_LIST_CLASS","left","offsetWidth","currentWidth","currentView","chart","chartModule","calculatedWidth","grid","actualWidth","Math","abs","handlers","load","isDestroyed","on","initSubComponent","uiUpdate","removeEventListener","off","destroy"],"mappings":"AAAA,OAAO,KAAKA,MAAZ,MAAwB,4BAAxB;AACA,OAAO,KAAKC,GAAZ,MAAqB,sBAArB;AACA,SAASC,cAAT,QAA+B,sCAA/B;AACA,SAASC,aAAT,EAAwBC,iBAAxB,EAA2CC,UAA3C,EAAuDC,OAAvD,EAAgEC,QAAhE,EAA0EC,WAA1E,EAAuFC,iBAAvF,EAA0GC,MAA1G,EAAkHC,MAAlH,QAAgI,sBAAhI;AACA,SAASC,eAAT,QAAgC,+CAAhC;AACAV,cAAc,CAACW,MAAf,CAAsBD,eAAtB;AACA;AACA;AACA;;AACA;;AACA,IAAIE,SAAS,GAAkB,YAAY;AACvC;AACA,WAASA,SAAT,CAAmBC,MAAnB,EAA2B;AACvB,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKC,gBAAL;AACH;AACD;AACJ;AACA;AACA;;;AACIF,EAAAA,SAAS,CAACG,SAAV,CAAoBC,aAApB,GAAoC,YAAY;AAC5C;AACA,WAAO,WAAP;AACH,GAHD;;AAIAJ,EAAAA,SAAS,CAACG,SAAV,CAAoBE,cAApB,GAAqC,YAAY;AAC7C,SAAKC,OAAL,GAAejB,aAAa,CAAC,KAAD,EAAQ;AAChCkB,MAAAA,EAAE,EAAE,KAAKN,MAAL,CAAYK,OAAZ,CAAoBC,EAApB,GAAyB,iBADG;AAEhCC,MAAAA,MAAM,EAAE,eAAe,KAAKP,MAAL,CAAYQ,SAAZ,GAAwB,QAAxB,GAAmC,UAAlD,IAAgE,kBAAhE,GAAqF,KAAKR,MAAL,CAAYK,OAAZ,CAAoBI,KAApB,CAA0BC,KAA/G,GACJ;AAH4B,KAAR,CAA5B;;AAKA,QAAIf,MAAM,CAAC,MAAM,KAAKK,MAAL,CAAYK,OAAZ,CAAoBC,EAA1B,GAA+B,kBAAhC,EAAoDK,QAApD,CAAN,KAAwE,IAA5E,EAAkF;AAC9E,UAAIC,gBAAgB,GAAGxB,aAAa,CAAC,KAAD,EAAQ;AACxCkB,QAAAA,EAAE,EAAE,KAAKN,MAAL,CAAYK,OAAZ,CAAoBC,EAApB,GAAyB,kBADW;AAExCC,QAAAA,MAAM,EAAE,YAAY,KAAKP,MAAL,CAAYa;AAFQ,OAAR,CAApC;AAIA,WAAKb,MAAL,CAAYK,OAAZ,CAAoBS,aAApB,CAAkCC,WAAlC,CAA8CH,gBAA9C;AACAA,MAAAA,gBAAgB,CAACG,WAAjB,CAA6B,KAAKV,OAAlC;AACAO,MAAAA,gBAAgB,CAACG,WAAjB,CAA6B,KAAKf,MAAL,CAAYK,OAAzC;AACH,KARD,MASK;AACDV,MAAAA,MAAM,CAAC,MAAM,KAAKK,MAAL,CAAYK,OAAZ,CAAoBC,EAA1B,GAA+B,kBAAhC,EAAoDK,QAApD,CAAN,CAAoEI,WAApE,CAAgF,KAAKV,OAArF;AACH;;AACD,SAAKL,MAAL,CAAYgB,oBAAZ,GAAmC,IAAI7B,cAAJ,CAAmB;AAClD8B,MAAAA,kBAAkB,EAAE;AAChBC,QAAAA,YAAY,EAAE,KAAKlB,MAAL,CAAYiB,kBAAZ,CAA+BC,YAD7B;AAEhBC,QAAAA,IAAI,EAAE,EAFU;AAGhBC,QAAAA,OAAO,EAAE,EAHO;AAIhBC,QAAAA,MAAM,EAAE,EAJQ;AAKhBC,QAAAA,OAAO,EAAE;AALO,OAD8B;AAQlDC,MAAAA,eAAe,EAAE,KAAKvB,MAAL,CAAYuB,eARqB;AASlDC,MAAAA,sBAAsB,EAAE,KAAKxB,MAAL,CAAYwB,sBATc;AAUlDC,MAAAA,UAAU,EAAE,OAVsC;AAWlDC,MAAAA,oBAAoB,EAAE,KAAK1B,MAAL,CAAY0B,oBAXgB;AAYlDC,MAAAA,gBAAgB,EAAE,KAAK3B,MAAL,CAAY2B,gBAZoB;AAalDnB,MAAAA,SAAS,EAAE,KAAKR,MAAL,CAAYQ,SAb2B;AAclDoB,MAAAA,MAAM,EAAE,KAAK5B,MAAL,CAAY4B,MAd8B;AAelDC,MAAAA,MAAM,EAAE,KAAK7B,MAAL,CAAYK,OAAZ,CAAoBS,aAfsB;AAgBlDgB,MAAAA,cAAc,EAAE,KAAK9B,MAAL,CAAY8B,cAhBsB;AAiBlDC,MAAAA,0BAA0B,EAAE,KAAK/B,MAAL,CAAY+B,0BAjBU;AAkBlDC,MAAAA,iBAAiB,EAAE,KAAKhC,MAAL,CAAYiC,iBAAZ,CAA8BC,IAA9B,CAAmC,KAAKlC,MAAxC;AAlB+B,KAAnB,CAAnC;AAoBA,SAAKA,MAAL,CAAYgB,oBAAZ,CAAiCmB,WAAjC,GAA+C,IAA/C;AACA,SAAKnC,MAAL,CAAYgB,oBAAZ,CAAiCoB,eAAjC,GAAmD,KAAKpC,MAAxD;AACA,SAAKA,MAAL,CAAYgB,oBAAZ,CAAiCqB,QAAjC,CAA0C,MAAM,KAAKhC,OAAL,CAAaC,EAA7D;AACH,GAzCD;;AA0CAP,EAAAA,SAAS,CAACG,SAAV,CAAoBoC,aAApB,GAAoC,YAAY;AAC5C,QAAI,KAAKjC,OAAT,EAAkB;AACd,WAAKA,OAAL,CAAaI,KAAb,CAAmB8B,OAAnB,GAA6B,OAA7B;AACAhD,MAAAA,OAAO,CAAC,CAAC,KAAKc,OAAN,CAAD,EAAiB,KAAKL,MAAL,CAAYK,OAA7B,CAAP;;AACA,UAAI,KAAKL,MAAL,CAAYwC,eAAZ,IAA+B,KAAKxC,MAAL,CAAYyC,iBAA/C,EAAkE;AAC9DC,QAAAA,YAAY,CAAC,KAAKC,UAAN,CAAZ;AACA,aAAKA,UAAL,GAAkBC,UAAU,CAAC,KAAKC,MAAL,CAAYX,IAAZ,CAAiB,IAAjB,CAAD,CAA5B;AACH,OAHD,MAIK,IAAI,CAACxC,iBAAiB,CAAE,KAAKW,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,CAAF,CAAtB,EAAyF;AAC1F1D,QAAAA,iBAAiB,CAAC,KAAKgB,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,CAAD,EAAgE;AAC7EC,UAAAA,IAAI,EAAE;AADuE,SAAhE,CAAjB;;AAGA,YAAI,KAAKhD,MAAL,CAAYQ,SAAhB,EAA2B;AACvBf,UAAAA,WAAW,CAAC,CAAC,KAAKY,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,CAAD,CAAD,EAAkE,kBAAlE,CAAX;AACH,SAFD,MAGK;AACDvD,UAAAA,QAAQ,CAAC,CAAC,KAAKa,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,CAAD,CAAD,EAAkE,kBAAlE,CAAR;AACH;AACJ;;AACD1D,MAAAA,iBAAiB,CAAC,KAAKgB,OAAN,EAAe;AAC5BK,QAAAA,KAAK,EAAEpB,UAAU,CAAC,KAAKU,MAAL,CAAYK,OAAZ,CAAoB4C,WAArB;AADW,OAAf,CAAjB;AAGH;;AACD,SAAKjD,MAAL,CAAYgB,oBAAZ,CAAiC6B,MAAjC,CAAwC,KAAK7C,MAA7C;AACH,GAxBD;;AAyBAD,EAAAA,SAAS,CAACG,SAAV,CAAoB2C,MAApB,GAA6B,YAAY;AACrC,QAAIK,YAAJ;;AACA,QAAI,KAAKlD,MAAL,CAAYmD,WAAZ,KAA4B,OAAhC,EAAyC;AACrCD,MAAAA,YAAY,GAAG,KAAKlD,MAAL,CAAYoD,KAAZ,GAAoB,KAAKpD,MAAL,CAAYqD,WAAZ,CAAwBC,eAA5C,GAA8DJ,YAA7E;AACH,KAFD,MAGK;AACDA,MAAAA,YAAY,GAAG,KAAKlD,MAAL,CAAYuD,IAAZ,GAAmB,KAAKvD,MAAL,CAAYuD,IAAZ,CAAiBlD,OAAjB,CAAyB4C,WAA5C,GAA0DC,YAAzE;AACH;;AACD,QAAIA,YAAY,IAAK,CAACxD,iBAAiB,CAAE,KAAKW,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,CAAF,CAAvC,EAA2G;AACvG,UAAIS,WAAW,GAAGN,YAAY,GAAG,GAAf,GAAqB,GAArB,GAA2BA,YAA7C;AACA7D,MAAAA,iBAAiB,CAAC,KAAKgB,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,CAAD,EAAgE;AAC7EC,QAAAA,IAAI,EAAE1D,UAAU,CAAC,KAAKU,MAAL,CAAYQ,SAAZ,GACb,CAACiD,IAAI,CAACC,GAAL,CAAUF,WAAD,GACN,KAAKnD,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,EAA8DE,WADjE,CADY,GAGZO,WAAD,GACI,KAAKnD,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,EAA8DE,WAJtD;AAD6D,OAAhE,CAAjB;;AAOA,UAAI,KAAKjD,MAAL,CAAYQ,SAAhB,EAA2B;AACvBhB,QAAAA,QAAQ,CAAC,CAAC,KAAKa,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,CAAD,CAAD,EAAkE,kBAAlE,CAAR;AACH,OAFD,MAGK;AACDtD,QAAAA,WAAW,CAAC,CAAC,KAAKY,OAAL,CAAayC,aAAb,CAA2B,MAAM5D,GAAG,CAAC6D,uBAArC,CAAD,CAAD,EAAkE,kBAAlE,CAAX;AACH;AACJ;AACJ,GAxBD;AAyBA;;AACA;AACJ;AACA;;;AACIhD,EAAAA,SAAS,CAACG,SAAV,CAAoBD,gBAApB,GAAuC,YAAY;AAC/C,SAAK0D,QAAL,GAAgB;AACZC,MAAAA,IAAI,EAAE,KAAKxD,cADC;AAEZyC,MAAAA,MAAM,EAAE,KAAKP;AAFD,KAAhB;;AAIA,QAAI,KAAKtC,MAAL,CAAY6D,WAAhB,EAA6B;AACzB;AACH;;AACD,SAAK7D,MAAL,CAAY8D,EAAZ,CAAe7E,MAAM,CAAC8E,gBAAtB,EAAwC,KAAKJ,QAAL,CAAcC,IAAtD,EAA4D,IAA5D;AACA,SAAK5D,MAAL,CAAY8D,EAAZ,CAAe7E,MAAM,CAAC+E,QAAtB,EAAgC,KAAKL,QAAL,CAAcd,MAA9C,EAAsD,IAAtD;AACH,GAVD;AAWA;;AACA;AACJ;AACA;;;AACI9C,EAAAA,SAAS,CAACG,SAAV,CAAoB+D,mBAApB,GAA0C,YAAY;AAClD,QAAI,KAAKjE,MAAL,CAAY6D,WAAhB,EAA6B;AACzB;AACH;;AACD,SAAK7D,MAAL,CAAYkE,GAAZ,CAAgBjF,MAAM,CAAC8E,gBAAvB,EAAyC,KAAKJ,QAAL,CAAcC,IAAvD;AACA,SAAK5D,MAAL,CAAYkE,GAAZ,CAAgBjF,MAAM,CAAC+E,QAAvB,EAAiC,KAAKL,QAAL,CAAcd,MAA/C;AACH,GAND;AAOA;AACJ;AACA;AACA;AACA;;;AACI9C,EAAAA,SAAS,CAACG,SAAV,CAAoBiE,OAApB,GAA8B,YAAY;AACtC,SAAKF,mBAAL;;AACA,QAAI,KAAKjE,MAAL,CAAYgB,oBAAZ,IAAoC,CAAC,KAAKhB,MAAL,CAAYgB,oBAAZ,CAAiC6C,WAA1E,EAAuF;AACnF,WAAK7D,MAAL,CAAYgB,oBAAZ,CAAiCmD,OAAjC;AACA,WAAKnE,MAAL,CAAYgB,oBAAZ,GAAmC,IAAnC;;AACA,UAAI,CAACtB,iBAAiB,CAACC,MAAM,CAAC,MAAM,KAAKK,MAAL,CAAYK,OAAZ,CAAoBC,EAA1B,GAA+B,iBAAhC,EAAmDK,QAAnD,CAAP,CAAtB,EAA4F;AACxFf,QAAAA,MAAM,CAACD,MAAM,CAAC,MAAM,KAAKK,MAAL,CAAYK,OAAZ,CAAoBC,EAA1B,GAA+B,iBAAhC,EAAmDK,QAAnD,CAAP,CAAN;AACH;AACJ,KAND,MAOK;AACD;AACH;AACJ,GAZD;;AAaA,SAAOZ,SAAP;AACH,CAvJ8B,EAA/B;;AAwJA,SAASA,SAAT","sourcesContent":["import * as events from '../../common/base/constant';\nimport * as cls from '../base/css-constant';\nimport { PivotFieldList } from '../../pivotfieldlist/base/field-list';\nimport { createElement, setStyleAttribute, formatUnit, prepend, addClass, removeClass, isNullOrUndefined, select, remove } from '@syncfusion/ej2-base';\nimport { CalculatedField } from '../../common/calculatedfield/calculated-field';\nPivotFieldList.Inject(CalculatedField);\n/**\n * Module for Field List rendering\n */\n/** @hidden */\nvar FieldList = /** @class */ (function () {\n    /** Constructor for Field List module */\n    function FieldList(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    FieldList.prototype.getModuleName = function () {\n        /* eslint-enable */\n        return 'fieldList';\n    };\n    FieldList.prototype.initiateModule = function () {\n        this.element = createElement('div', {\n            id: this.parent.element.id + '_PivotFieldList',\n            styles: 'position:' + (this.parent.enableRtl ? 'static' : 'absolute') + ';height:0;width:' + this.parent.element.style.width +\n                ';display:none'\n        });\n        if (select('#' + this.parent.element.id + 'containerwrapper', document) === null) {\n            var containerWrapper = createElement('div', {\n                id: this.parent.element.id + 'containerwrapper',\n                styles: 'height:' + this.parent.height\n            });\n            this.parent.element.parentElement.appendChild(containerWrapper);\n            containerWrapper.appendChild(this.element);\n            containerWrapper.appendChild(this.parent.element);\n        }\n        else {\n            select('#' + this.parent.element.id + 'containerwrapper', document).appendChild(this.element);\n        }\n        this.parent.pivotFieldListModule = new PivotFieldList({\n            dataSourceSettings: {\n                providerType: this.parent.dataSourceSettings.providerType,\n                rows: [],\n                columns: [],\n                values: [],\n                filters: []\n            },\n            spinnerTemplate: this.parent.spinnerTemplate,\n            allowDeferLayoutUpdate: this.parent.allowDeferLayoutUpdate,\n            renderMode: 'Popup',\n            allowCalculatedField: this.parent.allowCalculatedField,\n            showValuesButton: this.parent.showValuesButton,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            target: this.parent.element.parentElement,\n            aggregateTypes: this.parent.aggregateTypes,\n            maxNodeLimitInMemberEditor: this.parent.maxNodeLimitInMemberEditor,\n            aggregateCellInfo: this.parent.bindTriggerEvents.bind(this.parent)\n        });\n        this.parent.pivotFieldListModule.isPopupView = true;\n        this.parent.pivotFieldListModule.pivotGridModule = this.parent;\n        this.parent.pivotFieldListModule.appendTo('#' + this.element.id);\n    };\n    FieldList.prototype.updateControl = function () {\n        if (this.element) {\n            this.element.style.display = 'block';\n            prepend([this.element], this.parent.element);\n            if (this.parent.showGroupingBar && this.parent.groupingBarModule) {\n                clearTimeout(this.timeOutObj);\n                this.timeOutObj = setTimeout(this.update.bind(this));\n            }\n            else if (!isNullOrUndefined((this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)))) {\n                setStyleAttribute(this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS), {\n                    left: 'auto'\n                });\n                if (this.parent.enableRtl) {\n                    removeClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n                }\n                else {\n                    addClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n                }\n            }\n            setStyleAttribute(this.element, {\n                width: formatUnit(this.parent.element.offsetWidth)\n            });\n        }\n        this.parent.pivotFieldListModule.update(this.parent);\n    };\n    FieldList.prototype.update = function () {\n        var currentWidth;\n        if (this.parent.currentView !== 'Table') {\n            currentWidth = this.parent.chart ? this.parent.chartModule.calculatedWidth : currentWidth;\n        }\n        else {\n            currentWidth = this.parent.grid ? this.parent.grid.element.offsetWidth : currentWidth;\n        }\n        if (currentWidth && (!isNullOrUndefined((this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS))))) {\n            var actualWidth = currentWidth < 400 ? 400 : currentWidth;\n            setStyleAttribute(this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS), {\n                left: formatUnit(this.parent.enableRtl ?\n                    -Math.abs((actualWidth) -\n                        this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS).offsetWidth) :\n                    (actualWidth) -\n                        this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS).offsetWidth)\n            });\n            if (this.parent.enableRtl) {\n                addClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n            }\n            else {\n                removeClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    /**\n     * @hidden\n     */\n    FieldList.prototype.addEventListener = function () {\n        this.handlers = {\n            load: this.initiateModule,\n            update: this.updateControl\n        };\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initSubComponent, this.handlers.load, this);\n        this.parent.on(events.uiUpdate, this.handlers.update, this);\n    };\n    /* eslint-disable-next-line */\n    /**\n     * @hidden\n     */\n    FieldList.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initSubComponent, this.handlers.load);\n        this.parent.off(events.uiUpdate, this.handlers.update);\n    };\n    /**\n     * To destroy the Field List.\n     * @returns {void}\n     * @hidden\n     */\n    FieldList.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.parent.pivotFieldListModule && !this.parent.pivotFieldListModule.isDestroyed) {\n            this.parent.pivotFieldListModule.destroy();\n            this.parent.pivotFieldListModule = null;\n            if (!isNullOrUndefined(select('#' + this.parent.element.id + '_PivotFieldList', document))) {\n                remove(select('#' + this.parent.element.id + '_PivotFieldList', document));\n            }\n        }\n        else {\n            return;\n        }\n    };\n    return FieldList;\n}());\nexport { FieldList };\n"]},"metadata":{},"sourceType":"module"}