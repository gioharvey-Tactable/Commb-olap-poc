{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable jsdoc/require-param */\n\n/* eslint-disable valid-jsdoc */\n\n/* eslint-disable @typescript-eslint/ban-types */\n\n\nimport { Component, Property, NotifyPropertyChanges, Browser, Complex, Event } from '@syncfusion/ej2-base';\nimport { EventHandler, remove, Collection, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization } from '@syncfusion/ej2-base';\nimport { SvgRenderer, Rect, Size, measureText, TextOption } from '@syncfusion/ej2-svg-base';\nimport { Margin, Animation, Border } from '../common/model/base';\nimport { BulletChartAxis } from './renderer/bullet-axis';\nimport { BulletChartTheme } from './utils/theme';\nimport { ScaleGroup } from './renderer/scale-render';\nimport { redrawElement, textElement, getElement, appendChildElement, RectOption, stringToNumber } from '../common/utils/helper';\nimport { getTitle, logBase } from '../common/utils/helper';\nimport { BulletTooltipSettings, Range, BulletLabelStyle, BulletDataLabel } from './model/bullet-base';\nimport { MajorTickLinesSettings, MinorTickLinesSettings } from './model/bullet-base';\nimport { BulletChartLegendSettings } from '../bullet-chart/model/bullet-base';\nimport { resized, bulletChartMouseClick } from '../common/model/constants';\nimport { getBulletThemeColor } from './utils/theme';\nimport { ExportUtils } from '../common/utils/export';\n/**\n * bullet chart\n */\n\nvar BulletChart = function (_super) {\n  __extends(BulletChart, _super);\n  /**\n   * Constructor for creating the bullet chart\n   *\n   * @hidden\n   */\n\n\n  function BulletChart(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /** @private */\n\n\n    _this.bulletid = 57726;\n    /** @private */\n\n    _this.animateSeries = true;\n    _this.padding = 5;\n    /** @private */\n\n    _this.leftSize = 0;\n    /** @private */\n\n    _this.rightSize = 0;\n    /** @private */\n\n    _this.topSize = 0;\n    /** @private */\n\n    _this.bottomSize = 0;\n    /** @private */\n\n    _this.maxLabelSize = new Size(0, 0);\n    _this.maxTitleSize = new Size(0, 0);\n    /** @private */\n\n    _this.intervalDivs = [10, 5, 2, 1];\n    return _this;\n  }\n  /**\n   * Initialize the event handler.\n   */\n\n\n  BulletChart.prototype.preRender = function () {\n    var blazor = 'Blazor';\n    this.isBlazor = window[blazor];\n    this.allowServerDataBinding = false;\n    this.unWireEvents();\n    this.initPrivateValues();\n    this.setCulture();\n    this.wireEvents();\n  };\n  /**\n   * To initialize the private variables\n   */\n\n\n  BulletChart.prototype.initPrivateValues = function () {\n    this.delayRedraw = false;\n    this.scale = new ScaleGroup(this);\n    this.bulletAxis = new BulletChartAxis(this);\n\n    if (this.element.id === '') {\n      var collection = document.getElementsByClassName('e-BulletChart').length;\n      this.element.id = 'BulletChart_' + this.bulletid + '_' + collection;\n    }\n  };\n  /**\n   * Method to set culture for BulletChart\n   */\n\n\n  BulletChart.prototype.setCulture = function () {\n    this.intl = new Internationalization();\n  };\n  /**\n   * To Initialize the bullet chart rendering.\n   */\n\n\n  BulletChart.prototype.render = function () {\n    var _this = this;\n\n    var loadEventData = {\n      bulletChart: this.isBlazor ? {} : this,\n      theme: this.theme,\n      name: 'load'\n    };\n    this.trigger('load', loadEventData, function () {\n      _this.theme = _this.isBlazor ? loadEventData.theme : _this.theme;\n\n      _this.setTheme();\n\n      _this.createSvg(_this);\n\n      _this.findRange();\n\n      if (_this.bulletChartLegendModule && _this.legendSettings.visible) {\n        _this.calculateVisibleElements();\n\n        _this.bulletChartLegendModule.getLegendOptions(_this.visibleRanges);\n      }\n\n      _this.calculatePosition();\n\n      _this.renderBulletElements();\n\n      var blazor = 'Blazor';\n\n      _this.trigger('loaded', {\n        bulletChart: window[blazor] ? {} : _this\n      });\n\n      _this.allowServerDataBinding = true;\n\n      _this.renderComplete();\n    });\n  };\n  /**\n   * Theming for bullet chart\n   */\n\n\n  BulletChart.prototype.setTheme = function () {\n    this.themeStyle = getBulletThemeColor(this.theme);\n  };\n\n  BulletChart.prototype.findRange = function () {\n    if (!this.minimum) {\n      this.minimum = 0;\n    }\n\n    if (!this.maximum) {\n      this.maximum = 0;\n\n      for (var i = 0; i < this.ranges.length; i++) {\n        this.maximum = this.maximum > this.ranges[i].end ? this.maximum : this.ranges[i].end;\n      }\n    }\n\n    if (this.maximum === null) {\n      if (!isNullOrUndefined(this.dataSource)) {\n        for (var i = 0; i < Object.keys(this.dataSource).length; i++) {\n          if (this.dataSource[i][this.targetField] > this.dataSource[i][this.valueField]) {\n            this.maximum = this.maximum > this.dataSource[i][this.targetField] ? this.maximum + this.interval : this.dataSource[i][this.targetField] + this.interval;\n          } else {\n            this.maximum = this.maximum > this.dataSource[i][this.valueField] ? this.maximum + this.interval : this.dataSource[i][this.valueField] + this.interval;\n          }\n        }\n      } else {\n        this.maximum = 10;\n      }\n    }\n\n    if (!this.interval) {\n      this.interval = this.calculateNumericNiceInterval(this.maximum - this.minimum);\n    }\n  };\n\n  BulletChart.prototype.getActualDesiredIntervalsCount = function (availableSize) {\n    var size = this.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\n    var desiredIntervalsCount = (this.orientation === 'Horizontal' ? 0.533 : 1) * 3;\n    desiredIntervalsCount = Math.max(size * (desiredIntervalsCount / 100), 1);\n    return desiredIntervalsCount;\n  };\n  /**\n   * Numeric Nice Interval for the axis.\n   *\n   * @private\n   * @returns {number} calculateNumericNiceInterval.\n   */\n\n\n  BulletChart.prototype.calculateNumericNiceInterval = function (delta) {\n    var actualDesiredIntervalsCount = this.getActualDesiredIntervalsCount(this.availableSize);\n    var niceInterval = delta / actualDesiredIntervalsCount;\n    var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n\n    for (var _i = 0, _a = this.intervalDivs; _i < _a.length; _i++) {\n      var interval = _a[_i];\n      var currentInterval = minInterval * interval;\n\n      if (actualDesiredIntervalsCount < delta / currentInterval) {\n        break;\n      }\n\n      niceInterval = currentInterval;\n    }\n\n    return niceInterval;\n  };\n  /**\n   * To set the left and top position for data label template for center aligned bulletchart\n   */\n\n\n  BulletChart.prototype.setSecondaryElementPosition = function () {\n    var element = getElement(this.element.id + '_Secondary_Element');\n\n    if (!element) {\n      return;\n    }\n\n    var rect = this.element.getBoundingClientRect();\n    var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n    element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n    element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    element.style.position = 'relative';\n  };\n  /**\n   * Method to create SVG element.\n   */\n\n\n  BulletChart.prototype.createSvg = function (chart) {\n    this.removeSvg();\n    chart.renderer = new SvgRenderer(chart.element.id);\n    this.calculateAvailableSize(this);\n    chart.svgObject = chart.renderer.createSvg({\n      id: chart.element.id + '_svg',\n      width: chart.availableSize.width,\n      height: chart.availableSize.height\n    });\n    this.renderChartBackground();\n  };\n  /**\n   * Creating a background element to the svg object\n   */\n\n\n  BulletChart.prototype.renderChartBackground = function () {\n    var rect = new RectOption(this.element.id + '_ChartBorder', this.themeStyle.background, {\n      width: this.border.width || 0,\n      color: this.border.color || 'transparent'\n    }, 1, new Rect(0, 0, this.availableSize.width, this.availableSize.height));\n    this.svgObject.appendChild(this.renderer.drawRectangle(rect));\n  };\n  /**\n   * Rendering the bullet elements\n   */\n\n\n  BulletChart.prototype.renderBulletElements = function () {\n    var scaleGroup = this.renderer.createGroup({\n      'id': this.svgObject.id + '_scaleGroup'\n    });\n    this.svgObject.appendChild(scaleGroup);\n    this.renderBulletChartTitle();\n    this.rangeCollection = this.scale.drawScaleGroup(scaleGroup);\n    var size = this.orientation === 'Horizontal' ? this.initialClipRect.width : this.initialClipRect.height;\n    var intervalValue = size / ((this.maximum - this.minimum) / this.interval);\n    this.bulletAxis.renderMajorTickLines(intervalValue, scaleGroup);\n    this.bulletAxis.renderMinorTickLines(intervalValue, scaleGroup);\n    this.bulletAxis.renderAxisLabels(intervalValue, scaleGroup);\n    this.bulletChartRect.x = this.titlePosition === 'Left' || this.titlePosition === 'Right' || this.orientation === 'Vertical' ? this.bulletChartRect.x : 0;\n    var elementId = this.element.id;\n\n    if (this.element.tagName !== 'g') {\n      var tooltipDiv = redrawElement(this.redraw, elementId + '_Secondary_Element') || this.createElement('div');\n      tooltipDiv.id = elementId + '_Secondary_Element';\n      appendChildElement(false, this.element, tooltipDiv, this.redraw);\n    }\n\n    if (this.tooltip.enable) {\n      appendChildElement(false, this.svgObject, this.renderer.createGroup({\n        id: elementId + '_UserInteraction',\n        style: 'pointer-events:none;'\n      }), this.redraw);\n    } //this.bulletAxis.renderYAxisLabels(intervalValue, scaleGroup, this.bulletChartRect);\n\n\n    this.bindData();\n    this.renderDataLabel();\n    this.renderBulletLegend(); //this.changeOrientation(scaleGroup);\n\n    this.element.appendChild(this.svgObject);\n    this.setSecondaryElementPosition();\n  };\n  /**\n   * To render the legend\n   */\n\n\n  BulletChart.prototype.renderBulletLegend = function () {\n    if (this.bulletChartLegendModule && this.bulletChartLegendModule.legendCollections.length) {\n      this.bulletChartLegendModule.calTotalPage = true;\n      var bounds = this.bulletChartLegendModule.legendBounds;\n      this.bulletChartLegendModule.renderLegend(this, this.legendSettings, bounds);\n    }\n  };\n  /**\n   * Handles the bullet chart resize.\n   *\n   * @returns {boolean}\n   * @private\n   */\n\n\n  BulletChart.prototype.bulletResize = function () {\n    var _this = this;\n\n    this.animateSeries = false;\n    var arg = {\n      chart: this,\n      name: resized,\n      currentSize: new Size(0, 0),\n      previousSize: new Size(this.availableSize.width, this.availableSize.height)\n    };\n\n    if (this.resizeTo) {\n      clearTimeout(this.resizeTo);\n    }\n\n    this.resizeTo = +setTimeout(function () {\n      if (_this.isDestroyed) {\n        clearTimeout(_this.resizeTo);\n        return;\n      }\n\n      _this.createSvg(_this);\n\n      arg.currentSize = _this.availableSize;\n\n      _this.trigger(resized, arg);\n\n      _this.calculatePosition();\n\n      _this.renderBulletElements();\n    }, 500);\n    return false;\n  };\n  /**\n   * Process the data values of feature and comparative measure bar\n   */\n\n\n  BulletChart.prototype.bindData = function () {\n    if (this.dataSource != null) {\n      this.dataCount = this.dataSource.length;\n      this.drawMeasures(this.dataCount);\n    }\n  };\n  /**\n   * Rendering the feature and comaparative measure bars\n   */\n\n\n  BulletChart.prototype.drawMeasures = function (dataCount) {\n    this.scale.renderFeatureBar(dataCount);\n    this.scale.renderComparativeSymbol(dataCount);\n  };\n  /**\n   * To calculate the title bounds\n   */\n\n\n  BulletChart.prototype.calculatePosition = function () {\n    var margin = this.margin; // Title Height;\n\n    var titleHeight = 0;\n    var subTitleHeight = 0;\n    var titleSize = new Size(0, 0);\n    var padding = 5;\n    this.titleCollections = [];\n    this.subTitleCollections = [];\n    var maxTitlteWidth = 0;\n    var maxTitlteHeight = 0;\n    var maxVerticalTitlteHeight = padding;\n\n    if (this.title) {\n      this.titleCollections = getTitle(this.title, this.titleStyle, this.titleStyle.maximumTitleWidth);\n      titleHeight = measureText(this.title, this.titleStyle).height * this.titleCollections.length + padding;\n\n      for (var _i = 0, _a = this.titleCollections; _i < _a.length; _i++) {\n        var titleText = _a[_i];\n        titleSize = measureText(titleText, this.titleStyle);\n        maxTitlteWidth = titleSize.width > maxTitlteWidth ? titleSize.width : maxTitlteWidth;\n        maxTitlteHeight = titleSize.height > maxTitlteHeight ? titleSize.height : maxTitlteHeight;\n      }\n\n      maxVerticalTitlteHeight += maxTitlteHeight;\n      this.subTitleCollections = getTitle(this.subtitle, this.subtitleStyle, this.titleStyle.maximumTitleWidth);\n\n      if (this.subtitle) {\n        for (var _b = 0, _c = this.subTitleCollections; _b < _c.length; _b++) {\n          var subText = _c[_b];\n          titleSize = measureText(subText, this.subtitleStyle);\n          maxTitlteWidth = titleSize.width > maxTitlteWidth ? titleSize.width : maxTitlteWidth;\n          maxTitlteHeight = titleSize.height > maxTitlteHeight ? titleSize.height : maxTitlteHeight;\n        }\n\n        subTitleHeight = measureText(this.subtitle, this.subtitleStyle).height * this.subTitleCollections.length + padding;\n        maxVerticalTitlteHeight += maxTitlteHeight;\n      }\n    }\n\n    this.maxTitleSize = new Size(maxTitlteWidth, this.orientation === 'Vertical' ? maxVerticalTitlteHeight : maxTitlteHeight);\n    this.maxLabelSize = this.getMaxLabelWidth();\n    this.initialClipRect = this.getBulletBounds(this.orientation === 'Vertical' ? maxVerticalTitlteHeight : maxTitlteWidth, titleHeight, subTitleHeight, margin);\n    this.bulletChartRect = new Rect(this.initialClipRect.x, this.initialClipRect.y, this.initialClipRect.width, this.initialClipRect.height);\n\n    if (this.bulletChartLegendModule) {\n      this.bulletChartLegendModule.calculateLegendBounds(this.initialClipRect, this.availableSize, this.maxLabelSize);\n    }\n  };\n  /**\n   * Calculate the rect values based on title position.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  BulletChart.prototype.getBulletBounds = function (maxTitlteWidth, titleHeight, subTitleHeight, margin) {\n    var padding = 5;\n    var rect = new Rect(0, 0, 0, 0);\n    var enableRtl = this.enableRtl;\n    var labelSpace = this.labelPosition === this.tickPosition ? padding : 0;\n    var tickSize = this.tickPosition === 'Inside' ? 0 : this.majorTickLines.height;\n    var labelSize = this.labelPosition === 'Inside' ? 0 : padding + (this.tickPosition === 'Outside' ? 0 : measureText(this.maximum.toString(), this.labelStyle).height);\n    var topAxisLabel = 0;\n    var bottomAxisLabel = 0;\n    var leftAxisLabel = 0;\n    var rightAxisLabel = 0;\n    var topCategory = 0;\n    var bottomCategory = 0;\n    var leftCategory = 0;\n    var rightCategory = 0;\n    var title = maxTitlteWidth;\n    var format = this.bulletAxis.getFormat(this);\n    var isCustomFormat = format.match('{value}') !== null;\n    this.bulletAxis.format = this.intl.getNumberFormat({\n      format: isCustomFormat ? '' : format,\n      useGrouping: this.enableGroupSeparator\n    });\n    var formatted = measureText(this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, this.maximum), this.labelStyle).width;\n    var categoryLabelSize;\n\n    if (this.orientation === 'Horizontal') {\n      categoryLabelSize = this.maxLabelSize.width;\n      topAxisLabel = this.opposedPosition ? tickSize + labelSize + labelSpace : 0;\n      bottomAxisLabel = !this.opposedPosition ? tickSize + labelSize + labelSpace : 0;\n      leftCategory = categoryLabelSize && !enableRtl ? categoryLabelSize : 0;\n      leftCategory += title && this.titlePosition === 'Left' ? padding * 3 : 0;\n      rightCategory = categoryLabelSize && enableRtl ? categoryLabelSize : 0;\n      rightCategory += title && this.titlePosition === 'Right' ? padding : 0;\n    } else {\n      categoryLabelSize = this.maxLabelSize.height;\n      rightAxisLabel = this.opposedPosition ? tickSize + labelSpace : 0;\n      rightAxisLabel += this.opposedPosition && this.labelPosition !== 'Inside' ? formatted : 0;\n      leftAxisLabel = !this.opposedPosition ? tickSize + labelSpace : 0;\n      leftAxisLabel += !this.opposedPosition && this.labelPosition !== 'Inside' ? formatted : 0;\n      topCategory = categoryLabelSize && enableRtl ? categoryLabelSize + padding : 0;\n      bottomCategory = categoryLabelSize && !enableRtl ? categoryLabelSize + padding : 0;\n    }\n\n    switch (this.titlePosition) {\n      case 'Left':\n        rect.x = margin.left + title + leftCategory + leftAxisLabel;\n        rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n        rect.y = margin.top + topAxisLabel + topCategory;\n        rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n        break;\n\n      case 'Right':\n        rect.x = margin.left + leftCategory + leftAxisLabel;\n        rect.width = this.availableSize.width - rightAxisLabel - margin.right - rect.x - (title + padding) - rightCategory;\n        rect.y = margin.top + topAxisLabel + topCategory;\n        rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n        break;\n\n      case 'Top':\n        rect.x = margin.left + leftAxisLabel + leftCategory;\n        rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n        rect.y = margin.top + (titleHeight + subTitleHeight) + topAxisLabel + topCategory;\n        rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n        break;\n\n      case 'Bottom':\n        rect.x = margin.left + leftAxisLabel + leftCategory;\n        rect.y = margin.top + topAxisLabel + topCategory;\n        rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n        rect.height = this.availableSize.height - rect.y - bottomCategory - margin.bottom - bottomAxisLabel - (titleHeight + subTitleHeight);\n        break;\n    }\n\n    return rect;\n  };\n  /**\n   * Calculate maximum label width for category values.\n   *\n   * @private\n   * @returns {Size} To get a label width\n   */\n\n\n  BulletChart.prototype.getMaxLabelWidth = function () {\n    this.maxLabelSize = new Size(0, 0);\n\n    if (!this.categoryField) {\n      return this.maxLabelSize;\n    }\n\n    var label;\n\n    for (var i = 0, len = Object.keys(this.dataSource).length; i < len; i++) {\n      label = measureText(this.dataSource[i][this.categoryField] || '', this.categoryLabelStyle);\n\n      if (label.width > this.maxLabelSize.width) {\n        this.maxLabelSize.width = label.width;\n      }\n\n      if (label.height > this.maxLabelSize.height) {\n        this.maxLabelSize.height = label.height;\n      }\n    }\n\n    return this.maxLabelSize;\n  };\n\n  BulletChart.prototype.calculateVisibleElements = function () {\n    var range;\n    var rangeCollection = this.ranges;\n    this.visibleRanges = [];\n\n    for (var i = 0, len = rangeCollection.length; i < len; i++) {\n      range = rangeCollection[i];\n      range.index = i; // eslint-disable-next-line no-self-assign\n\n      range.color = range.color;\n      this.visibleRanges.push(range);\n      rangeCollection[i] = range;\n    }\n  };\n  /**\n   * To render the title of the bullet chart\n   */\n\n\n  BulletChart.prototype.renderBulletChartTitle = function () {\n    var margin = this.margin;\n    var x = 0;\n    var y = 0;\n    var padding = 5;\n    var anchor = 'middle';\n    var transform = '';\n    var alignment = this.titleStyle.textAlignment;\n    var elementSize = measureText(this.title, this.titleStyle);\n    var subTitleSize = this.subtitle ? measureText(this.subtitle, this.subtitleStyle) : new Size(0, 0);\n\n    if (this.title) {\n      if (this.orientation === 'Horizontal') {\n        switch (this.titlePosition) {\n          case 'Top':\n            x = this.findHorizontalAlignment(margin);\n            anchor = alignment === 'Far' ? 'end' : alignment === 'Near' ? 'start' : 'middle';\n            y = margin.top + elementSize.height / 2 + padding;\n            break;\n\n          case 'Bottom':\n            x = this.findHorizontalAlignment(margin);\n            anchor = alignment === 'Far' ? 'end' : alignment === 'Near' ? 'start' : 'middle';\n            y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding * 2 - (subTitleSize.height ? subTitleSize.height + padding : 0);\n            break;\n\n          case 'Left':\n            anchor = 'end';\n            x = margin.left + this.maxTitleSize.width;\n            y = this.margin.top + this.availableSize.height / 2 - elementSize.height / 3 - (subTitleSize.height ? subTitleSize.height : 0);\n            break;\n\n          case 'Right':\n            anchor = 'start';\n            x = this.availableSize.width - margin.right - this.maxTitleSize.width + padding;\n            y = this.margin.top + this.availableSize.height / 2 - elementSize.height / 3 - (subTitleSize.height ? subTitleSize.height : 0);\n            break;\n        }\n      } else {\n        switch (this.titlePosition) {\n          case 'Top':\n            x = this.availableSize.width / 2 + padding * 2;\n            y = this.margin.top + elementSize.height / 2 + padding;\n            break;\n\n          case 'Bottom':\n            x = this.availableSize.width / 2;\n            y = this.availableSize.height - this.margin.bottom - elementSize.height / 3 + padding * 2 - (subTitleSize.height ? subTitleSize.height + padding : 0);\n            break;\n\n          case 'Left':\n            y = this.findVerticalAlignment(margin);\n            anchor = alignment === 'Far' ? 'start' : alignment === 'Near' ? 'end' : 'middle';\n            x = margin.left;\n            break;\n\n          case 'Right':\n            x = this.availableSize.width - margin.right - elementSize.height / 3;\n            anchor = alignment === 'Far' ? 'start' : alignment === 'Near' ? 'end' : 'middle';\n            y = this.findVerticalAlignment(margin);\n            break;\n        }\n\n        transform = this.titlePosition === 'Left' ? 'rotate(-90,' + x + ',' + y + ')' : this.titlePosition === 'Right' ? 'rotate(90,' + x + ',' + y + ')' : '';\n      }\n\n      var options = new TextOption(this.element.id + '_BulletChartTitle', x, y, anchor, this.titleCollections, transform, 'auto');\n      var element = textElement(this.renderer, options, this.titleStyle, this.titleStyle.color || this.themeStyle.titleFontColor, this.svgObject);\n\n      if (element) {\n        element.setAttribute('aria-label', this.title);\n        element.setAttribute('tabindex', this.tabIndex.toString());\n      }\n\n      if (this.subtitle) {\n        this.renderBulletChartSubTitle(x, y, anchor);\n      }\n    }\n  };\n  /**\n   * To render the data label for bullet chart\n   */\n\n\n  BulletChart.prototype.renderDataLabel = function () {\n    var x = 0;\n    var y = 0;\n    var elementSpacing = 10;\n    var anchor;\n    var transform = '';\n    var enableRtl = this.enableRtl;\n    var data;\n    var featureBounds;\n    var format = this.labelFormat ? this.labelFormat : '';\n    var isCustomFormat = format.match('{value}') !== null;\n\n    if (this.dataLabel.enable) {\n      for (var i = 0, len = Object.keys(this.dataSource).length; i < len; i++) {\n        data = this.dataSource[i];\n        featureBounds = this.scale.featureBarBounds[i];\n        var labelText = data[this.valueField].toString();\n        this.format = this.intl.getNumberFormat({\n          format: isCustomFormat ? '' : format,\n          useGrouping: this.enableGroupSeparator\n        });\n        labelText = isCustomFormat ? format.replace('{value}', this.format(labelText)) : labelText;\n        var labelSize = measureText(labelText, this.dataLabel.labelStyle); // tslint:disable-next-line:no-string-literal\n\n        var textWidth = labelSize['width']; // tslint:disable-next-line:no-string-literal\n\n        var textHeight = labelSize['height'];\n\n        if (this.orientation === 'Horizontal') {\n          anchor = this.type === 'Rect' ? 'end' : enableRtl ? 'end' : 'start';\n          x = featureBounds.x + (enableRtl ? this.type === 'Rect' ? textWidth + elementSpacing : -elementSpacing : featureBounds.width) + (this.type === 'Rect' ? -elementSpacing / 2 : elementSpacing / 2);\n          y = featureBounds.y + featureBounds.height / 2;\n        } else {\n          anchor = 'middle';\n          x = featureBounds.y + featureBounds.height / 2;\n          y = featureBounds.x + (enableRtl ? featureBounds.width + (this.type === 'Rect' ? -textHeight : textHeight) : 0) + (this.type === 'Rect' ? elementSpacing : -elementSpacing);\n        }\n\n        var labelOptions = new TextOption(this.element.id + '_DataLabel_' + i, x, y, anchor, labelText, transform, 'middle');\n        textElement(this.renderer, labelOptions, this.dataLabel.labelStyle, this.dataLabel.labelStyle.color || this.themeStyle.dataLabelFontColor, this.svgObject);\n      }\n    }\n  };\n\n  BulletChart.prototype.findHorizontalAlignment = function (margin) {\n    var x = 0;\n\n    switch (this.titleStyle.textAlignment) {\n      case 'Center':\n        x = (this.availableSize.width - margin.left - margin.right) / 2;\n        break;\n\n      case 'Near':\n        x = margin.left;\n        break;\n\n      case 'Far':\n        x = this.availableSize.width - margin.right;\n        break;\n    }\n\n    return x;\n  };\n\n  BulletChart.prototype.findVerticalAlignment = function (margin) {\n    var y = 0;\n\n    switch (this.titleStyle.textAlignment) {\n      case 'Center':\n        y = (this.availableSize.height - margin.top - margin.bottom) / 2;\n        break;\n\n      case 'Near':\n        y = margin.top;\n        break;\n\n      case 'Far':\n        y = this.availableSize.height - margin.bottom;\n        break;\n    }\n\n    return y;\n  };\n  /**\n   * To render the sub title of the bullet chart\n   */\n\n\n  BulletChart.prototype.renderBulletChartSubTitle = function (x, y, anchor) {\n    var margin = this.margin;\n    var padding = 5;\n    var transform = '';\n    var elementSize = measureText(this.subtitle, this.subtitleStyle);\n\n    if (this.orientation === 'Horizontal') {\n      switch (this.titlePosition) {\n        case 'Top':\n          y = y + elementSize.height + padding / 2;\n          break;\n\n        case 'Bottom':\n          y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding;\n          break;\n\n        case 'Left':\n          y = y + elementSize.height + padding / 2;\n          break;\n\n        case 'Right':\n          y = y + elementSize.height + padding / 2;\n          break;\n      }\n    } else {\n      switch (this.titlePosition) {\n        case 'Top':\n          y = y + elementSize.height + padding / 2;\n          break;\n\n        case 'Bottom':\n          y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding;\n          break;\n\n        case 'Left':\n          x += elementSize.height + padding / 2;\n          break;\n\n        case 'Right':\n          x -= elementSize.height + padding / 2;\n          break;\n      }\n\n      transform = this.titlePosition === 'Left' ? 'rotate(-90,' + x + ',' + y + ')' : this.titlePosition === 'Right' ? 'rotate(90,' + x + ',' + y + ')' : '';\n    }\n\n    var subTitleOptions = new TextOption(this.element.id + '_BulletChartSubTitle', x, y, anchor, this.subTitleCollections, transform, 'auto');\n    var element = textElement(this.renderer, subTitleOptions, this.subtitleStyle, this.subtitleStyle.color || this.themeStyle.subTitleFontColor, this.svgObject);\n\n    if (element) {\n      element.setAttribute('aria-label', this.title);\n      element.setAttribute('tabindex', this.tabIndex.toString());\n    }\n  };\n  /**\n   * To calculate the available size and width of the container\n   */\n\n\n  BulletChart.prototype.calculateAvailableSize = function (bulletChart) {\n    var containerWidth = this.element.clientWidth || this.element.offsetWidth || 200;\n    var height = this.orientation === 'Vertical' ? 450 : this.titlePosition === 'Left' || this.titlePosition === 'Right' ? 83 : 126;\n    var containerHeight = this.element.clientHeight || height;\n    bulletChart.availableSize = new Size(stringToNumber(bulletChart.width, containerWidth) || containerWidth, stringToNumber(bulletChart.height, containerHeight) || containerHeight);\n  };\n\n  BulletChart.prototype.removeSvg = function () {\n    var svgElement = document.getElementById(this.element.id + '_svg');\n\n    if (svgElement) {\n      remove(svgElement);\n    }\n  };\n\n  BulletChart.prototype.getPersistData = function () {\n    var keyEntity = ['loaded'];\n    return this.addOnPersist(keyEntity);\n  };\n  /** Wire, UnWire and Event releated calculation Started here */\n\n  /**\n   * Method to un-bind events for bullet chart\n   */\n\n\n  BulletChart.prototype.unWireEvents = function () {\n    /*! Find the Events type */\n    var startEvent = Browser.touchStartEvent;\n    var moveEvent = Browser.touchMoveEvent;\n    var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    /*! UnBind the Event handler */\n\n    EventHandler.remove(this.element, startEvent, this.bulletMouseDown);\n    EventHandler.remove(this.element, moveEvent, this.bulletMouseMove);\n    EventHandler.remove(this.element, cancelEvent, this.bulletMouseLeave);\n    EventHandler.remove(this.element, 'click', this.bulletChartOnMouseClick);\n    window.removeEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.resizeBound);\n  };\n  /**\n   * Method to bind events for bullet chart\n   */\n\n\n  BulletChart.prototype.wireEvents = function () {\n    var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    /*! Bind the Event handler */\n\n    EventHandler.add(this.element, Browser.touchMoveEvent, this.bulletMouseMove, this);\n    EventHandler.add(this.element, cancelEvent, this.bulletMouseLeave, this);\n    EventHandler.add(this.element, Browser.touchStartEvent, this.bulletMouseDown, this);\n    EventHandler.add(this.element, 'click', this.bulletChartOnMouseClick, this);\n    this.resizeBound = this.bulletResize.bind(this);\n    window.addEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.resizeBound);\n    /*! Apply the style for chart */\n\n    this.setStyle(this.element);\n  };\n\n  BulletChart.prototype.setStyle = function (element) {\n    element.style.position = 'relative';\n    element.style.display = 'block';\n  };\n  /**\n   * Handles the mouse move on the bullet chart.\n   *\n   * @private\n   */\n\n\n  BulletChart.prototype.bulletMouseMove = function (e) {\n    var pageX = e.clientX;\n    var pageY = e.clientY;\n    this.setPointMouseXY(pageX, pageY);\n    var targetId = e.target.id; // tslint:disable-next-line:no-string-literal\n\n    var targetClass = e.target.className['baseVal'];\n\n    if (targetClass !== this.svgObject.id + '_FeatureMeasure' || this.svgObject.id + '_ComparativeMeasure') {\n      if (!isNullOrUndefined(this.dataSource)) {\n        for (var i = 0; i < Object.keys(this.dataSource).length; i++) {\n          document.getElementById(this.svgObject.id + '_FeatureMeasure_' + i).setAttribute('opacity', '1');\n          document.getElementById(this.svgObject.id + '_ComparativeMeasure_' + i).setAttribute('opacity', '1');\n        }\n      }\n    }\n\n    if (!this.isTouchEvent(e)) {\n      var id = 'tooltipDiv' + this.element.id;\n      var tooltipDiv = document.getElementById(id);\n\n      if (tooltipDiv) {\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n          this.clearTemplate();\n        }\n\n        remove(tooltipDiv);\n      }\n\n      if (this.bulletTooltipModule) {\n        this.bulletTooltipModule._elementTooltip(e, targetClass, targetId, this.mouseX);\n\n        this.bulletTooltipModule._displayTooltip(e, targetClass, targetId, this.mouseX, this.mouseY);\n      }\n    }\n  };\n  /**\n   * To find mouse x, y for aligned bullet chart element svg position\n   */\n\n\n  BulletChart.prototype.setPointMouseXY = function (pageX, pageY) {\n    var svgClientRect = getElement(this.svgObject.id).getBoundingClientRect();\n    var elemntClientRect = this.element.getBoundingClientRect();\n    this.mouseX = pageX - elemntClientRect.left - Math.max(svgClientRect.left - elemntClientRect.left, 0);\n    this.mouseY = pageY - elemntClientRect.top - Math.max(svgClientRect.top - elemntClientRect.top, 0);\n  };\n  /**\n   * Handles the mouse leave on the bullet chart.\n   *\n   * @private\n   */\n\n\n  BulletChart.prototype.bulletMouseLeave = function (e) {\n    if (!this.isTouchEvent(e)) {\n      var tooltipDiv = document.getElementById('.tooltipDiv' + this.element.id);\n\n      if (tooltipDiv) {\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n          this.clearTemplate();\n        }\n\n        remove(tooltipDiv);\n      }\n    }\n  };\n  /**\n   * Handles the touch event.\n   *\n   * @returns {boolean} Touchh event.\n   * @private\n   */\n\n\n  BulletChart.prototype.isTouchEvent = function (event) {\n    if (event.pointerType === 'touch' || event.type.indexOf('touch') > -1) {\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * Handles the mouse down on the bullet chart.\n   *\n   * @private\n   */\n\n\n  BulletChart.prototype.bulletMouseDown = function (e) {\n    if (this.isTouchEvent(e)) {\n      // tslint:disable-next-line:no-any\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      remove(document.getElementById('tooltipDiv' + this.element.id));\n      var targetId = e.target.id; // tslint:disable-next-line:no-string-literal\n\n      var targetClass = e.target.className['baseVal'];\n\n      if (this.bulletTooltipModule) {\n        this.bulletTooltipModule._elementTooltip(e, targetClass, targetId, this.mouseX);\n\n        this.bulletTooltipModule._displayTooltip(e, targetClass, targetId, this.mouseX, this.mouseY);\n      }\n    }\n  };\n  /**\n   * Handles the mouse click on bullet chart.\n   *\n   * @returns {boolean} Mouse click of bullet chart.\n   * @private\n   */\n\n\n  BulletChart.prototype.bulletChartOnMouseClick = function (e) {\n    var element = e.target;\n    this.trigger(bulletChartMouseClick, {\n      target: element.id,\n      x: this.mouseX,\n      y: this.mouseY\n    });\n    this.notify('click', e);\n    return false;\n  };\n  /**\n   * Handles the print method for bullet chart control.\n   */\n\n\n  BulletChart.prototype.print = function (id) {\n    new ExportUtils(this).print(id);\n  };\n  /**\n   * Handles the export method for bullet chart control.\n   *\n   * @param {ExportType} type Type of the export.\n   * @param {string} fileName File name for exporting.\n   * @param {PdfPageOrientation} orientation Orientation of the export.\n   * @param {Chart | AccumulationChart | RangeNavigator | BulletChart} controls To mention the exporting chart.\n   * @param {number} width Width of the export.\n   * @param {number} height Height of the export.\n   */\n\n\n  BulletChart.prototype.export = function (type, fileName, orientation, controls, width, height, isVertical) {\n    controls = controls ? controls : [this];\n    new ExportUtils(this).export(type, fileName, orientation, controls, width, height, isVertical);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   */\n\n\n  BulletChart.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var renderer = false;\n    var refreshBounds = false;\n    this.animateSeries = false;\n\n    if (!this.delayRedraw) {\n      for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n        var prop = _a[_i];\n\n        switch (prop) {\n          case 'height':\n          case 'width':\n            this.createSvg(this);\n            refreshBounds = true;\n            break;\n\n          case 'subtitle':\n          case 'title':\n            refreshBounds = true;\n            break;\n\n          case 'tickPosition':\n            renderer = true;\n            break;\n\n          case 'labelPosition':\n            renderer = true;\n            break;\n\n          case 'titlePosition':\n            renderer = true;\n            break;\n\n          case 'minimum':\n          case 'maximum':\n          case 'interval':\n            refreshBounds = true;\n            break;\n\n          case 'majorTickLines':\n          case 'minorTickLines':\n          case 'type':\n          case 'ranges':\n          case 'valueFill':\n          case 'targetColor':\n            refreshBounds = true;\n            break;\n\n          case 'titleStyle':\n            if (newProp.titleStyle) {\n              refreshBounds = true;\n            } else {\n              renderer = true;\n            }\n\n            break;\n\n          case 'subtitleStyle':\n            if (newProp.subtitleStyle && (newProp.subtitleStyle.size || newProp.subtitleStyle.textOverflow)) {\n              refreshBounds = true;\n            } else {\n              renderer = true;\n            }\n\n            break;\n\n          case 'border':\n            renderer = true;\n            break;\n\n          case 'opposedPosition':\n            renderer = true;\n            break;\n\n          case 'dataSource':\n            this.bindData();\n            refreshBounds = true;\n            break;\n\n          case 'theme':\n            this.animateSeries = true;\n            break;\n\n          case 'locale':\n          case 'currencyCode':\n            _super.prototype.refresh.call(this);\n\n            break;\n        }\n      }\n\n      if (!refreshBounds && renderer) {\n        this.removeSvg();\n        this.renderBulletElements();\n        var blazor = 'Blazor';\n        this.trigger('loaded', {\n          bulletChart: window[blazor] ? {} : this\n        });\n      }\n\n      if (refreshBounds) {\n        this.render();\n        var blazor = 'Blazor';\n        this.trigger('loaded', {\n          bulletChart: window[blazor] ? {} : this\n        });\n        this.redraw = false;\n      }\n    }\n  };\n  /**\n   * To provide the array of modules needed for bullet chart rendering\n   *\n   * @private\n   * @returns {ModuleDeclaration[]} requiredModules\n   */\n\n\n  BulletChart.prototype.requiredModules = function () {\n    var modules = [];\n    var rangeName;\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      if (this.ranges[i].name !== null) {\n        rangeName = true;\n      }\n    }\n\n    this.isLegend = this.legendSettings.visible && (rangeName || !!this.isLegend || this.targetField !== '' || this.valueField !== '');\n\n    if (this.tooltip.enable) {\n      modules.push({\n        member: 'BulletTooltip',\n        args: [this]\n      });\n    }\n\n    if (this.isLegend) {\n      modules.push({\n        member: 'BulletChartLegend',\n        args: [this]\n      });\n    }\n\n    return modules;\n  };\n\n  BulletChart.prototype.getModuleName = function () {\n    return 'bulletChart';\n  };\n  /**\n   * To destroy the widget\n   *\n   * @returns {void} Destroy method\n   * @member of BulletChart\n   */\n\n\n  BulletChart.prototype.destroy = function () {\n    this.unWireEvents();\n\n    _super.prototype.destroy.call(this);\n\n    this.removeSvg();\n    this.svgObject = null;\n    this.element.classList.remove('e-BulletChart');\n    this.element.innerHTML = '';\n  };\n\n  __decorate([Property(null)], BulletChart.prototype, \"width\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"height\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"locale\", void 0);\n\n  __decorate([Complex({}, MajorTickLinesSettings)], BulletChart.prototype, \"majorTickLines\", void 0);\n\n  __decorate([Complex({}, MinorTickLinesSettings)], BulletChart.prototype, \"minorTickLines\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"minimum\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"maximum\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"interval\", void 0);\n\n  __decorate([Property(4)], BulletChart.prototype, \"minorTicksPerInterval\", void 0);\n\n  __decorate([Complex(BulletChartTheme.axisLabelFont, BulletLabelStyle)], BulletChart.prototype, \"labelStyle\", void 0);\n\n  __decorate([Complex(BulletChartTheme.axisLabelFont, BulletLabelStyle)], BulletChart.prototype, \"categoryLabelStyle\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"labelFormat\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"title\", void 0);\n\n  __decorate([Complex(BulletChartTheme.titleFont, BulletLabelStyle)], BulletChart.prototype, \"titleStyle\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"subtitle\", void 0);\n\n  __decorate([Complex(BulletChartTheme.subTitleFont, BulletLabelStyle)], BulletChart.prototype, \"subtitleStyle\", void 0);\n\n  __decorate([Property('Horizontal')], BulletChart.prototype, \"orientation\", void 0);\n\n  __decorate([Complex({\n    color: '#DDDDDD',\n    width: 0\n  }, Border)], BulletChart.prototype, \"border\", void 0);\n\n  __decorate([Complex({}, BulletTooltipSettings)], BulletChart.prototype, \"tooltip\", void 0);\n\n  __decorate([Collection([{\n    end: null,\n    opacity: 1,\n    color: ''\n  }, {\n    end: null,\n    opacity: 1,\n    color: ''\n  }, {\n    end: null,\n    opacity: 1,\n    color: ''\n  }], Range)], BulletChart.prototype, \"ranges\", void 0);\n\n  __decorate([Property('Outside')], BulletChart.prototype, \"labelPosition\", void 0);\n\n  __decorate([Property('Outside')], BulletChart.prototype, \"tickPosition\", void 0);\n\n  __decorate([Property('Top')], BulletChart.prototype, \"titlePosition\", void 0);\n\n  __decorate([Property(false)], BulletChart.prototype, \"opposedPosition\", void 0);\n\n  __decorate([Property('Material')], BulletChart.prototype, \"theme\", void 0);\n\n  __decorate([Complex({}, Animation)], BulletChart.prototype, \"animation\", void 0);\n\n  __decorate([Complex({}, BulletDataLabel)], BulletChart.prototype, \"dataLabel\", void 0);\n\n  __decorate([Complex({}, BulletChartLegendSettings)], BulletChart.prototype, \"legendSettings\", void 0);\n\n  __decorate([Property(false)], BulletChart.prototype, \"enableGroupSeparator\", void 0);\n\n  __decorate([Complex({\n    top: 15,\n    bottom: 10,\n    left: 15,\n    right: 15\n  }, Margin)], BulletChart.prototype, \"margin\", void 0);\n\n  __decorate([Property(5)], BulletChart.prototype, \"targetWidth\", void 0);\n\n  __decorate([Property('#191919')], BulletChart.prototype, \"targetColor\", void 0);\n\n  __decorate([Property(6)], BulletChart.prototype, \"valueHeight\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"valueFill\", void 0);\n\n  __decorate([Complex({\n    color: 'transparent',\n    width: 0\n  }, Border)], BulletChart.prototype, \"valueBorder\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"dataSource\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"query\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"categoryField\", void 0);\n\n  __decorate([Property('Rect')], BulletChart.prototype, \"type\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"valueField\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"targetField\", void 0);\n\n  __decorate([Property(['Rect', 'Cross', 'Circle'])], BulletChart.prototype, \"targetTypes\", void 0);\n\n  __decorate([Property(1)], BulletChart.prototype, \"tabIndex\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"tooltipRender\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"load\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"loaded\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"bulletChartMouseClick\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"legendRender\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"beforePrint\", void 0);\n\n  BulletChart = __decorate([NotifyPropertyChanges], BulletChart);\n  return BulletChart;\n}(Component);\n\nexport { BulletChart };","map":{"version":3,"sources":["/workspace/Commb-olap-poc/commb-olap-js/node_modules/@syncfusion/ej2-charts/src/bullet-chart/bullet-chart.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","NotifyPropertyChanges","Browser","Complex","Event","EventHandler","remove","Collection","isNullOrUndefined","Internationalization","SvgRenderer","Rect","Size","measureText","TextOption","Margin","Animation","Border","BulletChartAxis","BulletChartTheme","ScaleGroup","redrawElement","textElement","getElement","appendChildElement","RectOption","stringToNumber","getTitle","logBase","BulletTooltipSettings","Range","BulletLabelStyle","BulletDataLabel","MajorTickLinesSettings","MinorTickLinesSettings","BulletChartLegendSettings","resized","bulletChartMouseClick","getBulletThemeColor","ExportUtils","BulletChart","_super","options","element","_this","call","bulletid","animateSeries","padding","leftSize","rightSize","topSize","bottomSize","maxLabelSize","maxTitleSize","intervalDivs","preRender","blazor","isBlazor","window","allowServerDataBinding","unWireEvents","initPrivateValues","setCulture","wireEvents","delayRedraw","scale","bulletAxis","id","collection","document","getElementsByClassName","intl","render","loadEventData","bulletChart","theme","name","trigger","setTheme","createSvg","findRange","bulletChartLegendModule","legendSettings","visible","calculateVisibleElements","getLegendOptions","visibleRanges","calculatePosition","renderBulletElements","renderComplete","themeStyle","minimum","maximum","ranges","end","dataSource","keys","targetField","valueField","interval","calculateNumericNiceInterval","getActualDesiredIntervalsCount","availableSize","size","orientation","width","height","desiredIntervalsCount","Math","max","delta","actualDesiredIntervalsCount","niceInterval","minInterval","pow","floor","_i","_a","currentInterval","setSecondaryElementPosition","rect","getBoundingClientRect","svgRect","style","left","top","position","chart","removeSvg","renderer","calculateAvailableSize","svgObject","renderChartBackground","background","border","color","appendChild","drawRectangle","scaleGroup","createGroup","renderBulletChartTitle","rangeCollection","drawScaleGroup","initialClipRect","intervalValue","renderMajorTickLines","renderMinorTickLines","renderAxisLabels","bulletChartRect","x","titlePosition","elementId","tagName","tooltipDiv","redraw","createElement","tooltip","enable","bindData","renderDataLabel","renderBulletLegend","legendCollections","calTotalPage","bounds","legendBounds","renderLegend","bulletResize","arg","currentSize","previousSize","resizeTo","clearTimeout","setTimeout","isDestroyed","dataCount","drawMeasures","renderFeatureBar","renderComparativeSymbol","margin","titleHeight","subTitleHeight","titleSize","titleCollections","subTitleCollections","maxTitlteWidth","maxTitlteHeight","maxVerticalTitlteHeight","title","titleStyle","maximumTitleWidth","titleText","subtitle","subtitleStyle","_b","_c","subText","getMaxLabelWidth","getBulletBounds","y","calculateLegendBounds","enableRtl","labelSpace","labelPosition","tickPosition","tickSize","majorTickLines","labelSize","toString","labelStyle","topAxisLabel","bottomAxisLabel","leftAxisLabel","rightAxisLabel","topCategory","bottomCategory","leftCategory","rightCategory","format","getFormat","isCustomFormat","match","getNumberFormat","useGrouping","enableGroupSeparator","formatted","formatValue","categoryLabelSize","opposedPosition","right","bottom","categoryField","label","len","categoryLabelStyle","range","index","push","anchor","transform","alignment","textAlignment","elementSize","subTitleSize","findHorizontalAlignment","findVerticalAlignment","titleFontColor","setAttribute","tabIndex","renderBulletChartSubTitle","elementSpacing","data","featureBounds","labelFormat","dataLabel","featureBarBounds","labelText","replace","textWidth","textHeight","type","labelOptions","dataLabelFontColor","subTitleOptions","subTitleFontColor","containerWidth","clientWidth","offsetWidth","containerHeight","clientHeight","svgElement","getElementById","getPersistData","keyEntity","addOnPersist","startEvent","touchStartEvent","moveEvent","touchMoveEvent","cancelEvent","isPointer","bulletMouseDown","bulletMouseMove","bulletMouseLeave","bulletChartOnMouseClick","removeEventListener","isTouch","resizeBound","add","bind","addEventListener","setStyle","display","e","pageX","clientX","pageY","clientY","setPointMouseXY","targetId","targetClass","className","isTouchEvent","isReact","clearTemplate","bulletTooltipModule","_elementTooltip","mouseX","_displayTooltip","mouseY","svgClientRect","elemntClientRect","event","pointerType","indexOf","notify","print","export","fileName","controls","isVertical","onPropertyChanged","newProp","oldProp","refreshBounds","prop","textOverflow","refresh","requiredModules","modules","rangeName","isLegend","member","args","getModuleName","destroy","classList","innerHTML","axisLabelFont","titleFont","subTitleFont","opacity"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable jsdoc/require-param */\n/* eslint-disable valid-jsdoc */\n/* eslint-disable @typescript-eslint/ban-types */\nimport { Component, Property, NotifyPropertyChanges, Browser, Complex, Event } from '@syncfusion/ej2-base';\nimport { EventHandler, remove, Collection, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization } from '@syncfusion/ej2-base';\nimport { SvgRenderer, Rect, Size, measureText, TextOption } from '@syncfusion/ej2-svg-base';\nimport { Margin, Animation, Border } from '../common/model/base';\nimport { BulletChartAxis } from './renderer/bullet-axis';\nimport { BulletChartTheme } from './utils/theme';\nimport { ScaleGroup } from './renderer/scale-render';\nimport { redrawElement, textElement, getElement, appendChildElement, RectOption, stringToNumber } from '../common/utils/helper';\nimport { getTitle, logBase } from '../common/utils/helper';\nimport { BulletTooltipSettings, Range, BulletLabelStyle, BulletDataLabel } from './model/bullet-base';\nimport { MajorTickLinesSettings, MinorTickLinesSettings } from './model/bullet-base';\nimport { BulletChartLegendSettings } from '../bullet-chart/model/bullet-base';\nimport { resized, bulletChartMouseClick } from '../common/model/constants';\nimport { getBulletThemeColor } from './utils/theme';\nimport { ExportUtils } from '../common/utils/export';\n/**\n * bullet chart\n */\nvar BulletChart = /** @class */ (function (_super) {\n    __extends(BulletChart, _super);\n    /**\n     * Constructor for creating the bullet chart\n     *\n     * @hidden\n     */\n    function BulletChart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private */\n        _this.bulletid = 57726;\n        /** @private */\n        _this.animateSeries = true;\n        _this.padding = 5;\n        /** @private */\n        _this.leftSize = 0;\n        /** @private */\n        _this.rightSize = 0;\n        /** @private */\n        _this.topSize = 0;\n        /** @private */\n        _this.bottomSize = 0;\n        /** @private */\n        _this.maxLabelSize = new Size(0, 0);\n        _this.maxTitleSize = new Size(0, 0);\n        /** @private */\n        _this.intervalDivs = [10, 5, 2, 1];\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     */\n    BulletChart.prototype.preRender = function () {\n        var blazor = 'Blazor';\n        this.isBlazor = window[blazor];\n        this.allowServerDataBinding = false;\n        this.unWireEvents();\n        this.initPrivateValues();\n        this.setCulture();\n        this.wireEvents();\n    };\n    /**\n     * To initialize the private variables\n     */\n    BulletChart.prototype.initPrivateValues = function () {\n        this.delayRedraw = false;\n        this.scale = new ScaleGroup(this);\n        this.bulletAxis = new BulletChartAxis(this);\n        if (this.element.id === '') {\n            var collection = document.getElementsByClassName('e-BulletChart').length;\n            this.element.id = 'BulletChart_' + this.bulletid + '_' + collection;\n        }\n    };\n    /**\n     * Method to set culture for BulletChart\n     */\n    BulletChart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    /**\n     * To Initialize the bullet chart rendering.\n     */\n    BulletChart.prototype.render = function () {\n        var _this = this;\n        var loadEventData = {\n            bulletChart: this.isBlazor ? {} : this,\n            theme: this.theme, name: 'load'\n        };\n        this.trigger('load', loadEventData, function () {\n            _this.theme = _this.isBlazor ? loadEventData.theme : _this.theme;\n            _this.setTheme();\n            _this.createSvg(_this);\n            _this.findRange();\n            if (_this.bulletChartLegendModule && _this.legendSettings.visible) {\n                _this.calculateVisibleElements();\n                _this.bulletChartLegendModule.getLegendOptions(_this.visibleRanges);\n            }\n            _this.calculatePosition();\n            _this.renderBulletElements();\n            var blazor = 'Blazor';\n            _this.trigger('loaded', { bulletChart: window[blazor] ? {} : _this });\n            _this.allowServerDataBinding = true;\n            _this.renderComplete();\n        });\n    };\n    /**\n     * Theming for bullet chart\n     */\n    BulletChart.prototype.setTheme = function () {\n        this.themeStyle = getBulletThemeColor(this.theme);\n    };\n    BulletChart.prototype.findRange = function () {\n        if (!this.minimum) {\n            this.minimum = 0;\n        }\n        if (!this.maximum) {\n            this.maximum = 0;\n            for (var i = 0; i < this.ranges.length; i++) {\n                this.maximum = this.maximum > this.ranges[i].end ? this.maximum : this.ranges[i].end;\n            }\n        }\n        if (this.maximum === null) {\n            if (!isNullOrUndefined(this.dataSource)) {\n                for (var i = 0; i < Object.keys(this.dataSource).length; i++) {\n                    if (this.dataSource[i][this.targetField] > this.dataSource[i][this.valueField]) {\n                        this.maximum = this.maximum > this.dataSource[i][this.targetField] ? this.maximum + this.interval :\n                            this.dataSource[i][this.targetField] + this.interval;\n                    }\n                    else {\n                        this.maximum = this.maximum > this.dataSource[i][this.valueField] ? this.maximum + this.interval :\n                            this.dataSource[i][this.valueField] + this.interval;\n                    }\n                }\n            }\n            else {\n                this.maximum = 10;\n            }\n        }\n        if (!this.interval) {\n            this.interval = this.calculateNumericNiceInterval(this.maximum - this.minimum);\n        }\n    };\n    BulletChart.prototype.getActualDesiredIntervalsCount = function (availableSize) {\n        var size = this.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\n        var desiredIntervalsCount = (this.orientation === 'Horizontal' ? 0.533 : 1) * 3;\n        desiredIntervalsCount = Math.max((size * (desiredIntervalsCount / 100)), 1);\n        return desiredIntervalsCount;\n    };\n    /**\n     * Numeric Nice Interval for the axis.\n     *\n     * @private\n     * @returns {number} calculateNumericNiceInterval.\n     */\n    BulletChart.prototype.calculateNumericNiceInterval = function (delta) {\n        var actualDesiredIntervalsCount = this.getActualDesiredIntervalsCount(this.availableSize);\n        var niceInterval = delta / actualDesiredIntervalsCount;\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var _i = 0, _a = this.intervalDivs; _i < _a.length; _i++) {\n            var interval = _a[_i];\n            var currentInterval = minInterval * interval;\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * To set the left and top position for data label template for center aligned bulletchart\n     */\n    BulletChart.prototype.setSecondaryElementPosition = function () {\n        var element = getElement(this.element.id + '_Secondary_Element');\n        if (!element) {\n            return;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n        element.style.position = 'relative';\n    };\n    /**\n     * Method to create SVG element.\n     */\n    BulletChart.prototype.createSvg = function (chart) {\n        this.removeSvg();\n        chart.renderer = new SvgRenderer(chart.element.id);\n        this.calculateAvailableSize(this);\n        chart.svgObject = chart.renderer.createSvg({\n            id: chart.element.id + '_svg',\n            width: chart.availableSize.width,\n            height: chart.availableSize.height\n        });\n        this.renderChartBackground();\n    };\n    /**\n     * Creating a background element to the svg object\n     */\n    BulletChart.prototype.renderChartBackground = function () {\n        var rect = new RectOption(this.element.id + '_ChartBorder', this.themeStyle.background, { width: this.border.width || 0, color: this.border.color || 'transparent' }, 1, new Rect(0, 0, this.availableSize.width, this.availableSize.height));\n        this.svgObject.appendChild(this.renderer.drawRectangle(rect));\n    };\n    /**\n     * Rendering the bullet elements\n     */\n    BulletChart.prototype.renderBulletElements = function () {\n        var scaleGroup = this.renderer.createGroup({ 'id': this.svgObject.id + '_scaleGroup' });\n        this.svgObject.appendChild(scaleGroup);\n        this.renderBulletChartTitle();\n        this.rangeCollection = this.scale.drawScaleGroup(scaleGroup);\n        var size = (this.orientation === 'Horizontal') ? this.initialClipRect.width : this.initialClipRect.height;\n        var intervalValue = size / ((this.maximum - this.minimum) / this.interval);\n        this.bulletAxis.renderMajorTickLines(intervalValue, scaleGroup);\n        this.bulletAxis.renderMinorTickLines(intervalValue, scaleGroup);\n        this.bulletAxis.renderAxisLabels(intervalValue, scaleGroup);\n        this.bulletChartRect.x = (this.titlePosition === 'Left' ||\n            this.titlePosition === 'Right' || this.orientation === 'Vertical') ? this.bulletChartRect.x : 0;\n        var elementId = this.element.id;\n        if (this.element.tagName !== 'g') {\n            var tooltipDiv = redrawElement(this.redraw, elementId + '_Secondary_Element') ||\n                this.createElement('div');\n            tooltipDiv.id = elementId + '_Secondary_Element';\n            appendChildElement(false, this.element, tooltipDiv, this.redraw);\n        }\n        if (this.tooltip.enable) {\n            appendChildElement(false, this.svgObject, this.renderer.createGroup({ id: elementId + '_UserInteraction', style: 'pointer-events:none;' }), this.redraw);\n        }\n        //this.bulletAxis.renderYAxisLabels(intervalValue, scaleGroup, this.bulletChartRect);\n        this.bindData();\n        this.renderDataLabel();\n        this.renderBulletLegend();\n        //this.changeOrientation(scaleGroup);\n        this.element.appendChild(this.svgObject);\n        this.setSecondaryElementPosition();\n    };\n    /**\n     * To render the legend\n     */\n    BulletChart.prototype.renderBulletLegend = function () {\n        if (this.bulletChartLegendModule && this.bulletChartLegendModule.legendCollections.length) {\n            this.bulletChartLegendModule.calTotalPage = true;\n            var bounds = this.bulletChartLegendModule.legendBounds;\n            this.bulletChartLegendModule.renderLegend(this, this.legendSettings, bounds);\n        }\n    };\n    /**\n     * Handles the bullet chart resize.\n     *\n     * @returns {boolean}\n     * @private\n     */\n    BulletChart.prototype.bulletResize = function () {\n        var _this = this;\n        this.animateSeries = false;\n        var arg = {\n            chart: this,\n            name: resized,\n            currentSize: new Size(0, 0),\n            previousSize: new Size(this.availableSize.width, this.availableSize.height)\n        };\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = +setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            _this.createSvg(_this);\n            arg.currentSize = _this.availableSize;\n            _this.trigger(resized, arg);\n            _this.calculatePosition();\n            _this.renderBulletElements();\n        }, 500);\n        return false;\n    };\n    /**\n     * Process the data values of feature and comparative measure bar\n     */\n    BulletChart.prototype.bindData = function () {\n        if (this.dataSource != null) {\n            this.dataCount = this.dataSource.length;\n            this.drawMeasures(this.dataCount);\n        }\n    };\n    /**\n     * Rendering the feature and comaparative measure bars\n     */\n    BulletChart.prototype.drawMeasures = function (dataCount) {\n        this.scale.renderFeatureBar(dataCount);\n        this.scale.renderComparativeSymbol(dataCount);\n    };\n    /**\n     * To calculate the title bounds\n     */\n    BulletChart.prototype.calculatePosition = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var subTitleHeight = 0;\n        var titleSize = new Size(0, 0);\n        var padding = 5;\n        this.titleCollections = [];\n        this.subTitleCollections = [];\n        var maxTitlteWidth = 0;\n        var maxTitlteHeight = 0;\n        var maxVerticalTitlteHeight = padding;\n        if (this.title) {\n            this.titleCollections = getTitle(this.title, this.titleStyle, this.titleStyle.maximumTitleWidth);\n            titleHeight = (measureText(this.title, this.titleStyle).height * this.titleCollections.length) + padding;\n            for (var _i = 0, _a = this.titleCollections; _i < _a.length; _i++) {\n                var titleText = _a[_i];\n                titleSize = measureText(titleText, this.titleStyle);\n                maxTitlteWidth = titleSize.width > maxTitlteWidth ? titleSize.width : maxTitlteWidth;\n                maxTitlteHeight = titleSize.height > maxTitlteHeight ? titleSize.height : maxTitlteHeight;\n            }\n            maxVerticalTitlteHeight += maxTitlteHeight;\n            this.subTitleCollections = getTitle(this.subtitle, this.subtitleStyle, this.titleStyle.maximumTitleWidth);\n            if (this.subtitle) {\n                for (var _b = 0, _c = this.subTitleCollections; _b < _c.length; _b++) {\n                    var subText = _c[_b];\n                    titleSize = measureText(subText, this.subtitleStyle);\n                    maxTitlteWidth = titleSize.width > maxTitlteWidth ? titleSize.width : maxTitlteWidth;\n                    maxTitlteHeight = titleSize.height > maxTitlteHeight ? titleSize.height : maxTitlteHeight;\n                }\n                subTitleHeight = (measureText(this.subtitle, this.subtitleStyle).height * this.subTitleCollections.length) +\n                    padding;\n                maxVerticalTitlteHeight += maxTitlteHeight;\n            }\n        }\n        this.maxTitleSize = new Size(maxTitlteWidth, this.orientation === 'Vertical' ? maxVerticalTitlteHeight : maxTitlteHeight);\n        this.maxLabelSize = this.getMaxLabelWidth();\n        this.initialClipRect = this.getBulletBounds((this.orientation === 'Vertical' ? maxVerticalTitlteHeight : maxTitlteWidth), titleHeight, subTitleHeight, margin);\n        this.bulletChartRect = new Rect(this.initialClipRect.x, this.initialClipRect.y, this.initialClipRect.width, this.initialClipRect.height);\n        if (this.bulletChartLegendModule) {\n            this.bulletChartLegendModule.calculateLegendBounds(this.initialClipRect, this.availableSize, this.maxLabelSize);\n        }\n    };\n    /**\n     * Calculate the rect values based on title position.\n     *\n     * @returns {void}\n     * @private\n     */\n    BulletChart.prototype.getBulletBounds = function (maxTitlteWidth, titleHeight, subTitleHeight, margin) {\n        var padding = 5;\n        var rect = new Rect(0, 0, 0, 0);\n        var enableRtl = this.enableRtl;\n        var labelSpace = (this.labelPosition === this.tickPosition) ? padding : 0;\n        var tickSize = ((this.tickPosition === 'Inside') ? 0 : (this.majorTickLines.height));\n        var labelSize = ((this.labelPosition === 'Inside') ? 0 : padding +\n            ((this.tickPosition === 'Outside') ? 0 : (measureText(this.maximum.toString(), this.labelStyle).height)));\n        var topAxisLabel = 0;\n        var bottomAxisLabel = 0;\n        var leftAxisLabel = 0;\n        var rightAxisLabel = 0;\n        var topCategory = 0;\n        var bottomCategory = 0;\n        var leftCategory = 0;\n        var rightCategory = 0;\n        var title = maxTitlteWidth;\n        var format = this.bulletAxis.getFormat(this);\n        var isCustomFormat = format.match('{value}') !== null;\n        this.bulletAxis.format = this.intl.getNumberFormat({\n            format: isCustomFormat ? '' : format, useGrouping: this.enableGroupSeparator\n        });\n        var formatted = measureText(this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, this.maximum), this.labelStyle).width;\n        var categoryLabelSize;\n        if (this.orientation === 'Horizontal') {\n            categoryLabelSize = this.maxLabelSize.width;\n            topAxisLabel = (this.opposedPosition) ? tickSize + labelSize + labelSpace : 0;\n            bottomAxisLabel = (!this.opposedPosition) ? tickSize + labelSize + labelSpace : 0;\n            leftCategory = ((categoryLabelSize && !enableRtl) ? (categoryLabelSize) : 0);\n            leftCategory += (title && this.titlePosition === 'Left') ? padding * 3 : 0;\n            rightCategory = ((categoryLabelSize && enableRtl) ? (categoryLabelSize) : 0);\n            rightCategory += (title && this.titlePosition === 'Right') ? padding : 0;\n        }\n        else {\n            categoryLabelSize = this.maxLabelSize.height;\n            rightAxisLabel = (this.opposedPosition) ? tickSize + labelSpace : 0;\n            rightAxisLabel += (this.opposedPosition && this.labelPosition !== 'Inside') ?\n                formatted : 0;\n            leftAxisLabel = (!this.opposedPosition) ? tickSize + labelSpace : 0;\n            leftAxisLabel += (!this.opposedPosition && this.labelPosition !== 'Inside') ?\n                formatted : 0;\n            topCategory = ((categoryLabelSize && enableRtl) ? (categoryLabelSize + padding) : 0);\n            bottomCategory = ((categoryLabelSize && !enableRtl) ? (categoryLabelSize + padding) : 0);\n        }\n        switch (this.titlePosition) {\n            case 'Left':\n                rect.x = margin.left + title + leftCategory + leftAxisLabel;\n                rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n                rect.y = margin.top + topAxisLabel + topCategory;\n                rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n                break;\n            case 'Right':\n                rect.x = margin.left + leftCategory + leftAxisLabel;\n                rect.width = this.availableSize.width - rightAxisLabel - margin.right - rect.x - (title + padding) - rightCategory;\n                rect.y = margin.top + topAxisLabel + topCategory;\n                rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n                break;\n            case 'Top':\n                rect.x = margin.left + leftAxisLabel + leftCategory;\n                rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n                rect.y = margin.top + (titleHeight + subTitleHeight) + topAxisLabel + topCategory;\n                rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n                break;\n            case 'Bottom':\n                rect.x = margin.left + leftAxisLabel + leftCategory;\n                rect.y = margin.top + topAxisLabel + topCategory;\n                rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n                rect.height = this.availableSize.height - rect.y - bottomCategory - margin.bottom - bottomAxisLabel -\n                    (titleHeight + subTitleHeight);\n                break;\n        }\n        return rect;\n    };\n    /**\n     * Calculate maximum label width for category values.\n     *\n     * @private\n     * @returns {Size} To get a label width\n     */\n    BulletChart.prototype.getMaxLabelWidth = function () {\n        this.maxLabelSize = new Size(0, 0);\n        if (!this.categoryField) {\n            return this.maxLabelSize;\n        }\n        var label;\n        for (var i = 0, len = Object.keys(this.dataSource).length; i < len; i++) {\n            label = measureText((this.dataSource[i][this.categoryField] || ''), this.categoryLabelStyle);\n            if (label.width > this.maxLabelSize.width) {\n                this.maxLabelSize.width = label.width;\n            }\n            if (label.height > this.maxLabelSize.height) {\n                this.maxLabelSize.height = label.height;\n            }\n        }\n        return this.maxLabelSize;\n    };\n    BulletChart.prototype.calculateVisibleElements = function () {\n        var range;\n        var rangeCollection = this.ranges;\n        this.visibleRanges = [];\n        for (var i = 0, len = rangeCollection.length; i < len; i++) {\n            range = rangeCollection[i];\n            range.index = i;\n            // eslint-disable-next-line no-self-assign\n            range.color = range.color;\n            this.visibleRanges.push(range);\n            rangeCollection[i] = range;\n        }\n    };\n    /**\n     * To render the title of the bullet chart\n     */\n    BulletChart.prototype.renderBulletChartTitle = function () {\n        var margin = this.margin;\n        var x = 0;\n        var y = 0;\n        var padding = 5;\n        var anchor = 'middle';\n        var transform = '';\n        var alignment = this.titleStyle.textAlignment;\n        var elementSize = measureText(this.title, this.titleStyle);\n        var subTitleSize = (this.subtitle) ? measureText(this.subtitle, this.subtitleStyle) : new Size(0, 0);\n        if (this.title) {\n            if (this.orientation === 'Horizontal') {\n                switch (this.titlePosition) {\n                    case 'Top':\n                        x = this.findHorizontalAlignment(margin);\n                        anchor = (alignment === 'Far') ? 'end' : ((alignment === 'Near') ? 'start' : 'middle');\n                        y = margin.top + elementSize.height / 2 + padding;\n                        break;\n                    case 'Bottom':\n                        x = this.findHorizontalAlignment(margin);\n                        anchor = (alignment === 'Far') ? 'end' : ((alignment === 'Near') ? 'start' : 'middle');\n                        y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding * 2\n                            - ((subTitleSize.height) ? subTitleSize.height + padding : 0);\n                        break;\n                    case 'Left':\n                        anchor = 'end';\n                        x = margin.left + this.maxTitleSize.width;\n                        y = (this.margin.top + (this.availableSize.height) / 2 - elementSize.height / 3)\n                            - ((subTitleSize.height) ? subTitleSize.height : 0);\n                        break;\n                    case 'Right':\n                        anchor = 'start';\n                        x = (this.availableSize.width - margin.right - this.maxTitleSize.width + padding);\n                        y = (this.margin.top + (this.availableSize.height) / 2 - elementSize.height / 3)\n                            - ((subTitleSize.height) ? subTitleSize.height : 0);\n                        break;\n                }\n            }\n            else {\n                switch (this.titlePosition) {\n                    case 'Top':\n                        x = (this.availableSize.width) / 2 + padding * 2;\n                        y = this.margin.top + elementSize.height / 2 + padding;\n                        break;\n                    case 'Bottom':\n                        x = (this.availableSize.width) / 2;\n                        y = this.availableSize.height - this.margin.bottom - elementSize.height / 3 + padding * 2\n                            - ((subTitleSize.height) ? subTitleSize.height + padding : 0);\n                        break;\n                    case 'Left':\n                        y = this.findVerticalAlignment(margin);\n                        anchor = (alignment === 'Far') ? 'start' : ((alignment === 'Near') ? 'end' : 'middle');\n                        x = margin.left;\n                        break;\n                    case 'Right':\n                        x = (this.availableSize.width - margin.right - elementSize.height / 3);\n                        anchor = (alignment === 'Far') ? 'start' : ((alignment === 'Near') ? 'end' : 'middle');\n                        y = this.findVerticalAlignment(margin);\n                        break;\n                }\n                transform = (this.titlePosition === 'Left') ? 'rotate(-90,' + x + ',' + y + ')' :\n                    ((this.titlePosition === 'Right') ? 'rotate(90,' + x + ',' + y + ')' : '');\n            }\n            var options = new TextOption(this.element.id + '_BulletChartTitle', x, y, anchor, this.titleCollections, transform, 'auto');\n            var element = textElement(this.renderer, options, this.titleStyle, this.titleStyle.color || this.themeStyle.titleFontColor, this.svgObject);\n            if (element) {\n                element.setAttribute('aria-label', this.title);\n                element.setAttribute('tabindex', this.tabIndex.toString());\n            }\n            if (this.subtitle) {\n                this.renderBulletChartSubTitle(x, y, anchor);\n            }\n        }\n    };\n    /**\n     * To render the data label for bullet chart\n     */\n    BulletChart.prototype.renderDataLabel = function () {\n        var x = 0;\n        var y = 0;\n        var elementSpacing = 10;\n        var anchor;\n        var transform = '';\n        var enableRtl = this.enableRtl;\n        var data;\n        var featureBounds;\n        var format = this.labelFormat ? this.labelFormat : '';\n        var isCustomFormat = format.match('{value}') !== null;\n        if (this.dataLabel.enable) {\n            for (var i = 0, len = Object.keys(this.dataSource).length; i < len; i++) {\n                data = this.dataSource[i];\n                featureBounds = this.scale.featureBarBounds[i];\n                var labelText = (data[this.valueField]).toString();\n                this.format = this.intl.getNumberFormat({\n                    format: isCustomFormat ? '' : format, useGrouping: this.enableGroupSeparator\n                });\n                labelText = isCustomFormat ? format.replace('{value}', this.format(labelText)) : labelText;\n                var labelSize = measureText(labelText, this.dataLabel.labelStyle);\n                // tslint:disable-next-line:no-string-literal\n                var textWidth = labelSize['width'];\n                // tslint:disable-next-line:no-string-literal\n                var textHeight = labelSize['height'];\n                if (this.orientation === 'Horizontal') {\n                    anchor = this.type === 'Rect' ? 'end' : (enableRtl ? 'end' : 'start');\n                    x = featureBounds.x + (enableRtl ? (this.type === 'Rect' ? textWidth + elementSpacing : -elementSpacing) :\n                        featureBounds.width) + (this.type === 'Rect' ? -elementSpacing / 2 : elementSpacing / 2);\n                    y = featureBounds.y + featureBounds.height / 2;\n                }\n                else {\n                    anchor = 'middle';\n                    x = featureBounds.y + featureBounds.height / 2;\n                    y = featureBounds.x + (enableRtl ? featureBounds.width + (this.type === 'Rect' ? -textHeight : textHeight) : 0) +\n                        (this.type === 'Rect' ? elementSpacing : -elementSpacing);\n                }\n                var labelOptions = new TextOption(this.element.id + '_DataLabel_' + i, x, y, anchor, labelText, transform, 'middle');\n                textElement(this.renderer, labelOptions, this.dataLabel.labelStyle, this.dataLabel.labelStyle.color || this.themeStyle.dataLabelFontColor, this.svgObject);\n            }\n        }\n    };\n    BulletChart.prototype.findHorizontalAlignment = function (margin) {\n        var x = 0;\n        switch (this.titleStyle.textAlignment) {\n            case 'Center':\n                x = (this.availableSize.width - margin.left - margin.right) / 2;\n                break;\n            case 'Near':\n                x = margin.left;\n                break;\n            case 'Far':\n                x = this.availableSize.width - margin.right;\n                break;\n        }\n        return x;\n    };\n    BulletChart.prototype.findVerticalAlignment = function (margin) {\n        var y = 0;\n        switch (this.titleStyle.textAlignment) {\n            case 'Center':\n                y = (this.availableSize.height - margin.top - margin.bottom) / 2;\n                break;\n            case 'Near':\n                y = margin.top;\n                break;\n            case 'Far':\n                y = this.availableSize.height - margin.bottom;\n                break;\n        }\n        return y;\n    };\n    /**\n     * To render the sub title of the bullet chart\n     */\n    BulletChart.prototype.renderBulletChartSubTitle = function (x, y, anchor) {\n        var margin = this.margin;\n        var padding = 5;\n        var transform = '';\n        var elementSize = measureText(this.subtitle, this.subtitleStyle);\n        if (this.orientation === 'Horizontal') {\n            switch (this.titlePosition) {\n                case 'Top':\n                    y = y + elementSize.height + padding / 2;\n                    break;\n                case 'Bottom':\n                    y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding;\n                    break;\n                case 'Left':\n                    y = y + elementSize.height + padding / 2;\n                    break;\n                case 'Right':\n                    y = y + elementSize.height + padding / 2;\n                    break;\n            }\n        }\n        else {\n            switch (this.titlePosition) {\n                case 'Top':\n                    y = y + elementSize.height + padding / 2;\n                    break;\n                case 'Bottom':\n                    y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding;\n                    break;\n                case 'Left':\n                    x += elementSize.height + padding / 2;\n                    break;\n                case 'Right':\n                    x -= elementSize.height + padding / 2;\n                    break;\n            }\n            transform = (this.titlePosition === 'Left') ? 'rotate(-90,' + x + ',' + y + ')' :\n                ((this.titlePosition === 'Right') ? 'rotate(90,' + x + ',' + y + ')' : '');\n        }\n        var subTitleOptions = new TextOption(this.element.id + '_BulletChartSubTitle', x, y, anchor, this.subTitleCollections, transform, 'auto');\n        var element = textElement(this.renderer, subTitleOptions, this.subtitleStyle, this.subtitleStyle.color || this.themeStyle.subTitleFontColor, this.svgObject);\n        if (element) {\n            element.setAttribute('aria-label', this.title);\n            element.setAttribute('tabindex', this.tabIndex.toString());\n        }\n    };\n    /**\n     * To calculate the available size and width of the container\n     */\n    BulletChart.prototype.calculateAvailableSize = function (bulletChart) {\n        var containerWidth = this.element.clientWidth || this.element.offsetWidth || 200;\n        var height = (this.orientation === 'Vertical') ? 450 :\n            ((this.titlePosition === 'Left' || this.titlePosition === 'Right') ? 83 : 126);\n        var containerHeight = this.element.clientHeight || height;\n        bulletChart.availableSize = new Size(stringToNumber(bulletChart.width, containerWidth) || containerWidth, stringToNumber(bulletChart.height, containerHeight) || containerHeight);\n    };\n    BulletChart.prototype.removeSvg = function () {\n        var svgElement = document.getElementById(this.element.id + '_svg');\n        if (svgElement) {\n            remove(svgElement);\n        }\n    };\n    BulletChart.prototype.getPersistData = function () {\n        var keyEntity = ['loaded'];\n        return this.addOnPersist(keyEntity);\n    };\n    /** Wire, UnWire and Event releated calculation Started here */\n    /**\n     * Method to un-bind events for bullet chart\n     */\n    BulletChart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var startEvent = Browser.touchStartEvent;\n        var moveEvent = Browser.touchMoveEvent;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, startEvent, this.bulletMouseDown);\n        EventHandler.remove(this.element, moveEvent, this.bulletMouseMove);\n        EventHandler.remove(this.element, cancelEvent, this.bulletMouseLeave);\n        EventHandler.remove(this.element, 'click', this.bulletChartOnMouseClick);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeBound);\n    };\n    /**\n     * Method to bind events for bullet chart\n     */\n    BulletChart.prototype.wireEvents = function () {\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.bulletMouseMove, this);\n        EventHandler.add(this.element, cancelEvent, this.bulletMouseLeave, this);\n        EventHandler.add(this.element, Browser.touchStartEvent, this.bulletMouseDown, this);\n        EventHandler.add(this.element, 'click', this.bulletChartOnMouseClick, this);\n        this.resizeBound = this.bulletResize.bind(this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeBound);\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    BulletChart.prototype.setStyle = function (element) {\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * Handles the mouse move on the bullet chart.\n     *\n     * @private\n     */\n    BulletChart.prototype.bulletMouseMove = function (e) {\n        var pageX = e.clientX;\n        var pageY = e.clientY;\n        this.setPointMouseXY(pageX, pageY);\n        var targetId = e.target.id;\n        // tslint:disable-next-line:no-string-literal\n        var targetClass = e.target.className['baseVal'];\n        if (targetClass !== this.svgObject.id + '_FeatureMeasure' || this.svgObject.id + '_ComparativeMeasure') {\n            if (!isNullOrUndefined(this.dataSource)) {\n                for (var i = 0; i < Object.keys(this.dataSource).length; i++) {\n                    document.getElementById(this.svgObject.id + '_FeatureMeasure_' + i).setAttribute('opacity', '1');\n                    document.getElementById(this.svgObject.id + '_ComparativeMeasure_' + i).setAttribute('opacity', '1');\n                }\n            }\n        }\n        if (!this.isTouchEvent(e)) {\n            var id = 'tooltipDiv' + this.element.id;\n            var tooltipDiv = document.getElementById(id);\n            if (tooltipDiv) {\n                // tslint:disable-next-line:no-any\n                if (this.isReact) {\n                    this.clearTemplate();\n                }\n                remove(tooltipDiv);\n            }\n            if (this.bulletTooltipModule) {\n                this.bulletTooltipModule._elementTooltip(e, targetClass, targetId, this.mouseX);\n                this.bulletTooltipModule._displayTooltip(e, targetClass, targetId, this.mouseX, this.mouseY);\n            }\n        }\n    };\n    /**\n     * To find mouse x, y for aligned bullet chart element svg position\n     */\n    BulletChart.prototype.setPointMouseXY = function (pageX, pageY) {\n        var svgClientRect = getElement(this.svgObject.id).getBoundingClientRect();\n        var elemntClientRect = this.element.getBoundingClientRect();\n        this.mouseX = (pageX - elemntClientRect.left) - Math.max(svgClientRect.left - elemntClientRect.left, 0);\n        this.mouseY = (pageY - elemntClientRect.top) - Math.max(svgClientRect.top - elemntClientRect.top, 0);\n    };\n    /**\n     * Handles the mouse leave on the bullet chart.\n     *\n     * @private\n     */\n    BulletChart.prototype.bulletMouseLeave = function (e) {\n        if (!this.isTouchEvent(e)) {\n            var tooltipDiv = document.getElementById('.tooltipDiv' + this.element.id);\n            if (tooltipDiv) {\n                // tslint:disable-next-line:no-any\n                if (this.isReact) {\n                    this.clearTemplate();\n                }\n                remove(tooltipDiv);\n            }\n        }\n    };\n    /**\n     * Handles the touch event.\n     *\n     * @returns {boolean} Touchh event.\n     * @private\n     */\n    BulletChart.prototype.isTouchEvent = function (event) {\n        if ((event.pointerType === 'touch') || (event.type.indexOf('touch') > -1)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Handles the mouse down on the bullet chart.\n     *\n     * @private\n     */\n    BulletChart.prototype.bulletMouseDown = function (e) {\n        if (this.isTouchEvent(e)) {\n            // tslint:disable-next-line:no-any\n            if (this.isReact) {\n                this.clearTemplate();\n            }\n            remove(document.getElementById(('tooltipDiv' + this.element.id)));\n            var targetId = e.target.id;\n            // tslint:disable-next-line:no-string-literal\n            var targetClass = e.target.className['baseVal'];\n            if (this.bulletTooltipModule) {\n                this.bulletTooltipModule._elementTooltip(e, targetClass, targetId, this.mouseX);\n                this.bulletTooltipModule._displayTooltip(e, targetClass, targetId, this.mouseX, this.mouseY);\n            }\n        }\n    };\n    /**\n     * Handles the mouse click on bullet chart.\n     *\n     * @returns {boolean} Mouse click of bullet chart.\n     * @private\n     */\n    BulletChart.prototype.bulletChartOnMouseClick = function (e) {\n        var element = e.target;\n        this.trigger(bulletChartMouseClick, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.notify('click', e);\n        return false;\n    };\n    /**\n     * Handles the print method for bullet chart control.\n     */\n    BulletChart.prototype.print = function (id) {\n        new ExportUtils(this).print(id);\n    };\n    /**\n     * Handles the export method for bullet chart control.\n     *\n     * @param {ExportType} type Type of the export.\n     * @param {string} fileName File name for exporting.\n     * @param {PdfPageOrientation} orientation Orientation of the export.\n     * @param {Chart | AccumulationChart | RangeNavigator | BulletChart} controls To mention the exporting chart.\n     * @param {number} width Width of the export.\n     * @param {number} height Height of the export.\n     */\n    BulletChart.prototype.export = function (type, fileName, orientation, controls, width, height, isVertical) {\n        controls = controls ? controls : [this];\n        new ExportUtils(this).export(type, fileName, orientation, controls, width, height, isVertical);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     */\n    BulletChart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        this.animateSeries = false;\n        if (!this.delayRedraw) {\n            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'height':\n                    case 'width':\n                        this.createSvg(this);\n                        refreshBounds = true;\n                        break;\n                    case 'subtitle':\n                    case 'title':\n                        refreshBounds = true;\n                        break;\n                    case 'tickPosition':\n                        renderer = true;\n                        break;\n                    case 'labelPosition':\n                        renderer = true;\n                        break;\n                    case 'titlePosition':\n                        renderer = true;\n                        break;\n                    case 'minimum':\n                    case 'maximum':\n                    case 'interval':\n                        refreshBounds = true;\n                        break;\n                    case 'majorTickLines':\n                    case 'minorTickLines':\n                    case 'type':\n                    case 'ranges':\n                    case 'valueFill':\n                    case 'targetColor':\n                        refreshBounds = true;\n                        break;\n                    case 'titleStyle':\n                        if (newProp.titleStyle) {\n                            refreshBounds = true;\n                        }\n                        else {\n                            renderer = true;\n                        }\n                        break;\n                    case 'subtitleStyle':\n                        if (newProp.subtitleStyle && (newProp.subtitleStyle.size || newProp.subtitleStyle.textOverflow)) {\n                            refreshBounds = true;\n                        }\n                        else {\n                            renderer = true;\n                        }\n                        break;\n                    case 'border':\n                        renderer = true;\n                        break;\n                    case 'opposedPosition':\n                        renderer = true;\n                        break;\n                    case 'dataSource':\n                        this.bindData();\n                        refreshBounds = true;\n                        break;\n                    case 'theme':\n                        this.animateSeries = true;\n                        break;\n                    case 'locale':\n                    case 'currencyCode':\n                        _super.prototype.refresh.call(this);\n                        break;\n                }\n            }\n            if (!refreshBounds && renderer) {\n                this.removeSvg();\n                this.renderBulletElements();\n                var blazor = 'Blazor';\n                this.trigger('loaded', { bulletChart: window[blazor] ? {} : this });\n            }\n            if (refreshBounds) {\n                this.render();\n                var blazor = 'Blazor';\n                this.trigger('loaded', { bulletChart: window[blazor] ? {} : this });\n                this.redraw = false;\n            }\n        }\n    };\n    /**\n     * To provide the array of modules needed for bullet chart rendering\n     *\n     * @private\n     * @returns {ModuleDeclaration[]} requiredModules\n     */\n    BulletChart.prototype.requiredModules = function () {\n        var modules = [];\n        var rangeName;\n        for (var i = 0; i < this.ranges.length; i++) {\n            if (this.ranges[i].name !== null) {\n                rangeName = true;\n            }\n        }\n        this.isLegend = (this.legendSettings.visible && ((rangeName) || !!this.isLegend || this.targetField !== '' || this.valueField !== ''));\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'BulletTooltip',\n                args: [this]\n            });\n        }\n        if (this.isLegend) {\n            modules.push({\n                member: 'BulletChartLegend',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    BulletChart.prototype.getModuleName = function () {\n        return 'bulletChart';\n    };\n    /**\n     * To destroy the widget\n     *\n     * @returns {void} Destroy method\n     * @member of BulletChart\n     */\n    BulletChart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.removeSvg();\n        this.svgObject = null;\n        this.element.classList.remove('e-BulletChart');\n        this.element.innerHTML = '';\n    };\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"locale\", void 0);\n    __decorate([\n        Complex({}, MajorTickLinesSettings)\n    ], BulletChart.prototype, \"majorTickLines\", void 0);\n    __decorate([\n        Complex({}, MinorTickLinesSettings)\n    ], BulletChart.prototype, \"minorTickLines\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"interval\", void 0);\n    __decorate([\n        Property(4)\n    ], BulletChart.prototype, \"minorTicksPerInterval\", void 0);\n    __decorate([\n        Complex(BulletChartTheme.axisLabelFont, BulletLabelStyle)\n    ], BulletChart.prototype, \"labelStyle\", void 0);\n    __decorate([\n        Complex(BulletChartTheme.axisLabelFont, BulletLabelStyle)\n    ], BulletChart.prototype, \"categoryLabelStyle\", void 0);\n    __decorate([\n        Property('')\n    ], BulletChart.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('')\n    ], BulletChart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(BulletChartTheme.titleFont, BulletLabelStyle)\n    ], BulletChart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property('')\n    ], BulletChart.prototype, \"subtitle\", void 0);\n    __decorate([\n        Complex(BulletChartTheme.subTitleFont, BulletLabelStyle)\n    ], BulletChart.prototype, \"subtitleStyle\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], BulletChart.prototype, \"orientation\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], BulletChart.prototype, \"border\", void 0);\n    __decorate([\n        Complex({}, BulletTooltipSettings)\n    ], BulletChart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Collection([{ end: null, opacity: 1, color: '' }, { end: null, opacity: 1, color: '' }, { end: null, opacity: 1, color: '' }], Range)\n    ], BulletChart.prototype, \"ranges\", void 0);\n    __decorate([\n        Property('Outside')\n    ], BulletChart.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('Outside')\n    ], BulletChart.prototype, \"tickPosition\", void 0);\n    __decorate([\n        Property('Top')\n    ], BulletChart.prototype, \"titlePosition\", void 0);\n    __decorate([\n        Property(false)\n    ], BulletChart.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property('Material')\n    ], BulletChart.prototype, \"theme\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], BulletChart.prototype, \"animation\", void 0);\n    __decorate([\n        Complex({}, BulletDataLabel)\n    ], BulletChart.prototype, \"dataLabel\", void 0);\n    __decorate([\n        Complex({}, BulletChartLegendSettings)\n    ], BulletChart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], BulletChart.prototype, \"enableGroupSeparator\", void 0);\n    __decorate([\n        Complex({ top: 15, bottom: 10, left: 15, right: 15 }, Margin)\n    ], BulletChart.prototype, \"margin\", void 0);\n    __decorate([\n        Property(5)\n    ], BulletChart.prototype, \"targetWidth\", void 0);\n    __decorate([\n        Property('#191919')\n    ], BulletChart.prototype, \"targetColor\", void 0);\n    __decorate([\n        Property(6)\n    ], BulletChart.prototype, \"valueHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"valueFill\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], BulletChart.prototype, \"valueBorder\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], BulletChart.prototype, \"categoryField\", void 0);\n    __decorate([\n        Property('Rect')\n    ], BulletChart.prototype, \"type\", void 0);\n    __decorate([\n        Property('')\n    ], BulletChart.prototype, \"valueField\", void 0);\n    __decorate([\n        Property('')\n    ], BulletChart.prototype, \"targetField\", void 0);\n    __decorate([\n        Property(['Rect', 'Cross', 'Circle'])\n    ], BulletChart.prototype, \"targetTypes\", void 0);\n    __decorate([\n        Property(1)\n    ], BulletChart.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Event()\n    ], BulletChart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], BulletChart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], BulletChart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], BulletChart.prototype, \"bulletChartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], BulletChart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], BulletChart.prototype, \"beforePrint\", void 0);\n    BulletChart = __decorate([\n        NotifyPropertyChanges\n    ], BulletChart);\n    return BulletChart;\n}(Component));\nexport { BulletChart };\n"]},"metadata":{},"sourceType":"module"}