{"ast":null,"code":"import { Toolbar as tool, Menu } from '@syncfusion/ej2-navigations';\nimport { remove, createElement, formatUnit, isBlazor, getInstance, addClass, removeClass, select } from '@syncfusion/ej2-base';\nimport * as events from '../../common/base/constant';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as cls from '../../common/base/css-constant';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { PdfPageOrientation } from '@syncfusion/ej2-pdf-export';\nimport { PivotUtil } from '../../base/util';\n/**\n * Module for Toolbar\n */\n\n/** @hidden */\n\nvar Toolbar = function () {\n  function Toolbar(parent) {\n    /** @hidden */\n    this.isMultiAxisChange = false;\n    this.currentReport = '';\n    this.parent = parent;\n    this.parent.toolbarModule = this;\n    this.addEventListener();\n  }\n  /**\n   * It returns the Module name.\n   * @returns {string} - string\n   * @hidden\n   */\n\n\n  Toolbar.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n\n  Toolbar.prototype.createToolbar = function () {\n    this.parent.isModified = false;\n    this.renderDialog();\n\n    if (select('#' + this.parent.element.id + 'pivot-toolbar', document) !== null) {\n      remove(select('#' + this.parent.element.id + 'pivot-toolbar', document));\n    }\n\n    var element = createElement('div', {\n      id: this.parent.element.id + 'pivot-toolbar',\n      className: cls.GRID_TOOLBAR\n    });\n\n    if (this.parent.showFieldList && select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element)) {\n      this.parent.element.insertBefore(element, select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element));\n    } else if (this.parent.showGroupingBar && select('#' + this.parent.element.id + ' .' + 'e-pivot-grouping-bar', this.parent.element)) {\n      this.parent.element.insertBefore(element, select('#' + this.parent.element.id + ' .' + 'e-pivot-grouping-bar', this.parent.element));\n    } else {\n      this.parent.element.insertBefore(element, select('#' + this.parent.element.id + '_grid', this.parent.element));\n    }\n\n    this.toolbar = new tool({\n      created: this.create.bind(this),\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      items: this.getItems(),\n      allowKeyboard: false,\n      width: !this.parent.gridSettings.allowAutoResizing ? this.parent.grid ? this.parent.getGridWidthAsNumber() - 2 : this.parent.getWidthAsNumber() - 2 : 'auto'\n    });\n    this.toolbar.isStringTemplate = true;\n    var viewStr = 'viewContainerRef';\n    var registerTemp = 'registeredTemplate';\n    /* eslint-disable */\n\n    if (this.parent[viewStr]) {\n      this.toolbar[registerTemp] = {};\n      this.toolbar[viewStr] = this.parent[viewStr];\n    }\n    /* eslint-enable */\n\n\n    if (this.parent.toolbarTemplate && typeof this.parent.toolbarTemplate === 'string') {\n      this.toolbar.appendTo(this.parent.toolbarTemplate);\n      this.parent.element.replaceChild(this.toolbar.element, this.parent.element.querySelector('.' + cls.GRID_TOOLBAR));\n      this.toolbar.element.classList.add(cls.GRID_TOOLBAR);\n    } else {\n      this.toolbar.appendTo('#' + this.parent.element.id + 'pivot-toolbar');\n      this.toolbar.width = this.parent.grid ? this.parent.getGridWidthAsNumber() - 2 : this.parent.getWidthAsNumber() - 2;\n    }\n\n    if (this.parent.chart) {\n      this.parent.chart.setProperties({\n        width: this.parent.grid ? this.parent.getGridWidthAsNumber().toString() : this.parent.getWidthAsNumber().toString()\n      }, true);\n    }\n\n    if (this.parent.showGroupingBar && this.parent.groupingBarModule && this.parent.element.querySelector('.' + cls.GROUPING_BAR_CLASS)) {\n      this.parent.groupingBarModule.refreshUI();\n    }\n  };\n\n  Toolbar.prototype.fetchReports = function () {\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    var reports = {\n      reportName: []\n    };\n    var tool = this;\n    /* eslint-disable-line */\n\n    if (isBlazor()) {\n      reports = this.fetchReportsArgs();\n      reports.then(function (e) {\n        tool.reportList.dataSource = e.reportName;\n        return e;\n      });\n    } else {\n      /* eslint-enable @typescript-eslint/no-explicit-any */\n      this.parent.trigger(events.fetchReport, reports);\n    }\n\n    return reports;\n  };\n\n  Toolbar.prototype.fetchReportsArgs = function () {\n    var callbackPromise = new Deferred();\n    var reports = {\n      reportName: []\n    };\n    this.parent.trigger(events.fetchReport, reports, function (observedArgs) {\n      callbackPromise.resolve(observedArgs);\n    });\n    return callbackPromise;\n  };\n  /* eslint-disable */\n\n\n  Toolbar.prototype.getItems = function () {\n    var toolbar = this.parent.toolbar.filter(function (v, i, a) {\n      return a.indexOf(v) === i;\n    });\n    var items = [];\n\n    for (var _i = 0, toolbar_1 = toolbar; _i < toolbar_1.length; _i++) {\n      var item = toolbar_1[_i];\n\n      switch (item) {\n        case 'New':\n          items.push({\n            prefixIcon: cls.GRID_NEW + ' ' + cls.ICON,\n            tooltipText: this.parent.localeObj.getConstant('new'),\n            click: this.actionClick.bind(this),\n            id: this.parent.element.id + 'new'\n          });\n          break;\n\n        case 'Save':\n          items.push({\n            prefixIcon: cls.GRID_SAVE + ' ' + cls.ICON,\n            tooltipText: this.parent.localeObj.getConstant('save'),\n            click: this.actionClick.bind(this),\n            id: this.parent.element.id + 'save'\n          });\n          break;\n\n        case 'SaveAs':\n          items.push({\n            prefixIcon: cls.GRID_SAVEAS + ' ' + cls.ICON,\n            tooltipText: this.parent.localeObj.getConstant('saveAs'),\n            click: this.actionClick.bind(this),\n            id: this.parent.element.id + 'saveas'\n          });\n          break;\n\n        case 'Rename':\n          items.push({\n            prefixIcon: cls.GRID_RENAME + ' ' + cls.ICON,\n            tooltipText: this.parent.localeObj.getConstant('rename'),\n            click: this.actionClick.bind(this),\n            id: this.parent.element.id + 'rename'\n          });\n          break;\n\n        case 'Remove':\n          items.push({\n            prefixIcon: cls.GRID_REMOVE + ' ' + cls.ICON,\n            tooltipText: this.parent.localeObj.getConstant('deleteReport'),\n            click: this.actionClick.bind(this),\n            id: this.parent.element.id + 'remove'\n          });\n          break;\n\n        case 'Load':\n          items.push({\n            template: '<div><input class=' + cls.GRID_LOAD + ' id=' + this.parent.element.id + '_reportlist></input></div>',\n            click: this.actionClick.bind(this),\n            id: this.parent.element.id + 'load'\n          });\n          break;\n\n        case 'Grid':\n          var toDisable = this.parent.displayOption.view === 'Chart';\n          items.push({\n            prefixIcon: cls.TOOLBAR_GRID + ' ' + cls.ICON,\n            tooltipText: this.parent.localeObj.getConstant('grid'),\n            id: this.parent.element.id + 'grid',\n            cssClass: toDisable ? cls.MENU_DISABLE : '',\n            click: this.menuItemClick.bind(this)\n          });\n          break;\n\n        case 'Chart':\n          var validTypes = this.parent.displayOption.view === 'Table';\n          items.push({\n            template: '<ul id=\"' + this.parent.element.id + 'chart_menu\"></ul>',\n            id: this.parent.element.id + 'chartmenu',\n            cssClass: validTypes ? cls.MENU_DISABLE : ''\n          });\n          break;\n\n        case 'MDX':\n          if (this.parent.dataType === 'olap') {\n            items.push({\n              prefixIcon: cls.GRID_MDX + ' ' + cls.ICON,\n              id: this.parent.element.id + 'mdxQuery',\n              click: this.actionClick.bind(this),\n              tooltipText: this.parent.localeObj.getConstant('mdxQuery')\n            });\n          }\n\n          break;\n\n        case 'Export':\n          items.push({\n            template: '<ul id=\"' + this.parent.element.id + 'export_menu\"></ul>',\n            id: this.parent.element.id + 'exportmenu'\n          });\n          break;\n\n        case 'SubTotal':\n          items.push({\n            template: '<ul id=\"' + this.parent.element.id + 'subtotal_menu\"></ul>',\n            id: this.parent.element.id + 'subtotalmenu'\n          });\n          break;\n\n        case 'GrandTotal':\n          items.push({\n            template: '<ul id=\"' + this.parent.element.id + 'grandtotal_menu\"></ul>',\n            id: this.parent.element.id + 'grandtotalmenu'\n          });\n          break;\n\n        case 'ConditionalFormatting':\n          items.push({\n            prefixIcon: cls.GRID_FORMATTING + ' ' + cls.ICON,\n            id: this.parent.element.id + 'formatting',\n            click: this.actionClick.bind(this),\n            tooltipText: this.parent.localeObj.getConstant('toolbarFormatting')\n          });\n          break;\n\n        case 'NumberFormatting':\n          items.push({\n            prefixIcon: cls.FORMATTING_TOOLBAR + ' ' + cls.ICON,\n            id: this.parent.element.id + 'numberFormatting',\n            click: this.actionClick.bind(this),\n            tooltipText: this.parent.localeObj.getConstant('numberFormat')\n          });\n          break;\n\n        case 'Formatting':\n          items.push({\n            template: '<ul id=\"' + this.parent.element.id + 'formatting_menu\"></ul>',\n            id: this.parent.element.id + 'formattingmenu'\n          });\n          break;\n\n        case 'FieldList':\n          items.push({\n            prefixIcon: cls.TOOLBAR_FIELDLIST + ' ' + cls.ICON,\n            tooltipText: this.parent.localeObj.getConstant('fieldList'),\n            click: this.actionClick.bind(this),\n            align: 'Right',\n            id: this.parent.element.id + 'fieldlist'\n          });\n\n          if (this.parent.element.querySelector('.e-toggle-field-list')) {\n            this.parent.element.querySelector('.e-toggle-field-list').style.display = 'none';\n          }\n\n          break;\n\n        default:\n          if (typeof item === 'object') {\n            items.push(item);\n          }\n\n      }\n    }\n\n    if (this.parent.showFieldList && toolbar.indexOf('FieldList') === -1 && select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element) && select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element).style.display === 'none') {\n      select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element).style.display = 'block';\n    }\n\n    var toolbarArgs = {\n      customToolbar: items\n    };\n    this.parent.trigger(events.toolbarRender, toolbarArgs);\n    return items;\n  };\n  /* eslint-enable */\n\n\n  Toolbar.prototype.reportChange = function (args) {\n    this.dropArgs = args;\n\n    if (this.parent.isModified && this.currentReport !== '') {\n      this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('newReportConfirm'));\n    } else {\n      this.reportLoad(args);\n    }\n  };\n\n  Toolbar.prototype.reportLoad = function (args) {\n    var _this_1 = this;\n\n    if (this.action !== 'Save' && this.action !== 'Rename' && this.action !== 'New') {\n      var loadArgs = {\n        reportName: args.itemData.value\n      };\n      this.parent.trigger(events.loadReport, loadArgs, function (observedArgs) {\n        _this_1.currentReport = observedArgs.reportName;\n        _this_1.parent.isModified = false;\n      });\n    }\n  };\n\n  Toolbar.prototype.saveReport = function (args) {\n    if (this.currentReport && this.currentReport !== '' && args.item.id === this.parent.element.id + 'save') {\n      var saveArgs = {\n        report: this.parent.getPersistData(),\n        reportName: this.currentReport\n      };\n      this.parent.trigger(events.saveReport, saveArgs);\n      this.parent.isModified = false;\n    } else if (this.currentReport === '' && (args.item.id === this.parent.element.id + 'save' || args.item.id === this.parent.element.id + 'saveas')) {\n      this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('emptyReport'));\n      return;\n    } else {\n      this.dialogShow(args, 'saveAs');\n    }\n  };\n\n  Toolbar.prototype.mdxQueryDialog = function (args) {\n    if (!(this.mdxDialog && !this.mdxDialog.isDestroyed)) {\n      this.renderMDXDialog();\n    }\n\n    var outerDiv = createElement('div', {\n      className: cls.MDX_QUERY\n    });\n    var textarea = createElement('textarea', {\n      className: cls.MDX_QUERY_CONTENT,\n      innerHTML: this.parent.olapEngineModule.getMDXQuery(this.parent.dataSourceSettings).trim(),\n      attrs: {\n        'readonly': 'readonly'\n      }\n    });\n    outerDiv.appendChild(textarea);\n    this.mdxDialog.content = outerDiv;\n    this.mdxDialog.show();\n  };\n\n  Toolbar.prototype.dialogShow = function (args, action) {\n    if (args) {\n      this.dialog.header = args.item.tooltipText;\n      var outerDiv = createElement('div', {\n        className: cls.GRID_REPORT_OUTER\n      });\n      var label = createElement('div', {\n        className: cls.GRID_REPORT_LABEL,\n        innerHTML: this.parent.localeObj.getConstant('reportName')\n      });\n      var input = createElement('input', {\n        className: cls.GRID_REPORT_INPUT + ' ' + cls.INPUT,\n        innerHTML: action && action === 'rename' ? this.currentReport : '',\n        attrs: {\n          'placeholder': this.parent.localeObj.getConstant('emptyReportName'),\n          'value': action && action === 'rename' ? this.currentReport : ''\n        }\n      });\n      input.setSelectionRange(input.textContent.length, input.textContent.length);\n      outerDiv.appendChild(label);\n      outerDiv.appendChild(input);\n      this.dialog.content = outerDiv;\n      this.dialog.refresh();\n      this.dialog.show();\n    }\n  };\n\n  Toolbar.prototype.renameReport = function (args) {\n    this.parent.trigger(events.toolbarClick, args);\n\n    if (this.currentReport && this.currentReport !== '') {\n      this.dialogShow(args, 'rename');\n    } else {\n      this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('emptyReport'));\n      return;\n    }\n  };\n\n  Toolbar.prototype.actionClick = function (args) {\n    switch (args.item.id) {\n      case this.parent.element.id + 'save':\n      case this.parent.element.id + 'saveas':\n        this.saveReport(args);\n        break;\n\n      case this.parent.element.id + 'remove':\n        this.action = 'Remove';\n\n        if (this.currentReport && this.currentReport !== '') {\n          this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('removeConfirm'));\n        } else {\n          this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('emptyReport'));\n        }\n\n        return;\n\n      case this.parent.element.id + 'rename':\n        this.renameReport(args);\n        break;\n\n      case this.parent.element.id + 'new':\n        this.action = 'New';\n        this.newArgs = args;\n\n        if (this.parent.isModified && this.currentReport && this.currentReport !== '') {\n          this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('newReportConfirm'));\n        } else {\n          this.createNewReport(args);\n        }\n\n        break;\n\n      case this.parent.element.id + 'load':\n        this.action = 'Load';\n        break;\n\n      case this.parent.element.id + 'fieldlist':\n        if (this.parent.pivotFieldListModule && this.parent.pivotFieldListModule.dialogRenderer) {\n          this.parent.pivotFieldListModule.dialogRenderer.fieldListDialog.show();\n        }\n\n        break;\n\n      case this.parent.element.id + 'formatting':\n        if (this.parent.conditionalFormattingModule) {\n          this.parent.conditionalFormattingModule.showConditionalFormattingDialog();\n        }\n\n        break;\n\n      case this.parent.element.id + 'mdxQuery':\n        this.mdxQueryDialog(args);\n        break;\n\n      case this.parent.element.id + 'numberFormatting':\n        if (this.parent.numberFormattingModule) {\n          this.parent.numberFormattingModule.showNumberFormattingDialog();\n        }\n\n        break;\n    }\n  };\n\n  Toolbar.prototype.renderDialog = function () {\n    if (select('#' + this.parent.element.id + 'report-dialog', document) !== null) {\n      remove(select('#' + this.parent.element.id + 'report-dialog', document));\n    }\n\n    this.parent.element.appendChild(createElement('div', {\n      id: this.parent.element.id + 'report-dialog',\n      className: cls.GRID_REPORT_DIALOG\n    }));\n    this.dialog = new Dialog({\n      animationSettings: {\n        effect: 'Fade'\n      },\n      allowDragging: true,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      buttons: [{\n        click: this.okBtnClick.bind(this),\n        buttonModel: {\n          content: this.parent.localeObj.getConstant('ok'),\n          isPrimary: true\n        }\n      }, {\n        click: this.cancelBtnClick.bind(this),\n        buttonModel: {\n          content: this.parent.localeObj.getConstant('cancel')\n        }\n      }],\n      isModal: true,\n      visible: false,\n      showCloseIcon: true,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      width: 'auto',\n      height: 'auto',\n      zIndex: 1000001,\n      closeOnEscape: true,\n      target: document.body\n    });\n    this.dialog.isStringTemplate = true;\n    this.dialog.appendTo('#' + this.parent.element.id + 'report-dialog');\n  };\n\n  Toolbar.prototype.renderMDXDialog = function () {\n    if (select('#' + this.parent.element.id + 'mdx-dialog', document) !== null) {\n      remove(select('#' + this.parent.element.id + 'mdx-dialog', document));\n    }\n\n    this.parent.element.appendChild(createElement('div', {\n      id: this.parent.element.id + 'mdx-dialog',\n      className: cls.GRID_MDX_DIALOG\n    }));\n    this.mdxDialog = new Dialog({\n      animationSettings: {\n        effect: 'Fade'\n      },\n      allowDragging: true,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      buttons: [{\n        click: this.copyMDXQuery.bind(this),\n        buttonModel: {\n          content: this.parent.localeObj.getConstant('copy'),\n          isPrimary: true\n        }\n      }],\n      header: this.parent.localeObj.getConstant('mdxQuery'),\n      isModal: true,\n      visible: false,\n      showCloseIcon: true,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      width: 'auto',\n      height: 'auto',\n      zIndex: 1000001,\n      closeOnEscape: true,\n      target: document.body\n    });\n    this.mdxDialog.isStringTemplate = true;\n    this.mdxDialog.appendTo('#' + this.parent.element.id + 'mdx-dialog');\n  };\n\n  Toolbar.prototype.copyMDXQuery = function () {\n    var textArea = this.mdxDialog.element.querySelector('.' + cls.MDX_QUERY_CONTENT);\n\n    try {\n      textArea.select();\n      document.execCommand('copy');\n    } catch (err) {\n      window.alert('Oops, unable to copy');\n    }\n\n    return;\n  };\n\n  Toolbar.prototype.okBtnClick = function () {\n    var reportInput = this.dialog.element.querySelector('.' + cls.GRID_REPORT_INPUT);\n\n    if (reportInput && reportInput.value === '') {\n      reportInput.focus();\n      return;\n    }\n\n    if ((this.dialog.header === this.parent.localeObj.getConstant('save') || this.dialog.header === this.parent.localeObj.getConstant('saveAs')) && reportInput.value && reportInput.value !== '') {\n      this.action = 'Save';\n      this.currentReport = reportInput.value;\n      var isExist_1 = false;\n      /* eslint-disable */\n\n      var _this_2 = this;\n      /* eslint-enable */\n\n\n      var reports = {\n        reportName: []\n      };\n      this.parent.trigger(events.fetchReport, reports, function (observedArgs) {\n        for (var i = 0; i < observedArgs.reportName.length; i++) {\n          if (reportInput.value === observedArgs.reportName[i]) {\n            isExist_1 = true;\n            break;\n          }\n        }\n\n        if (isExist_1) {\n          _this_2.createConfirmDialog(_this_2.parent.localeObj.getConstant('alert'), _this_2.parent.localeObj.getConstant('replaceConfirmBefore') + '\"' + reportInput.value + '\"' + _this_2.parent.localeObj.getConstant('replaceConfirmAfter'));\n\n          return;\n        }\n\n        var saveArgs = {\n          report: _this_2.parent.getPersistData(),\n          reportName: reportInput.value\n        };\n\n        _this_2.parent.trigger(events.saveReport, saveArgs);\n\n        _this_2.parent.isModified = false;\n\n        _this_2.updateReportList();\n\n        _this_2.dialog.hide();\n      });\n    } else if (this.dialog.header === this.parent.localeObj.getConstant('new') && reportInput.value && reportInput.value !== '') {\n      this.action = 'New';\n      this.currentReport = reportInput.value;\n      var isExist_2 = false;\n      /* eslint-disable */\n\n      var _this_3 = this;\n      /* eslint-enable */\n\n\n      var reports_1 = {\n        reportName: []\n      };\n      this.parent.trigger(events.fetchReport, reports_1, function (observedArgs) {\n        for (var i = 0; i < observedArgs.reportName.length; i++) {\n          if (reportInput.value === reports_1.reportName[i]) {\n            isExist_2 = true;\n            break;\n          }\n        }\n\n        if (isExist_2) {\n          _this_3.createConfirmDialog(_this_3.parent.localeObj.getConstant('alert'), _this_3.parent.localeObj.getConstant('replaceConfirmBefore') + '\"' + reportInput.value + '\"' + _this_3.parent.localeObj.getConstant('replaceConfirmAfter'));\n\n          return;\n        }\n\n        _this_3.parent.trigger(events.newReport);\n\n        if (isBlazor()) {\n          _this_3.parent.setProperties({\n            dataSourceSettings: {\n              columns: [],\n              rows: [],\n              values: [],\n              filters: []\n            }\n          }, false);\n        }\n\n        var saveArgs = {\n          report: _this_3.parent.getPersistData(),\n          reportName: reportInput.value\n        };\n\n        _this_3.parent.trigger(events.saveReport, saveArgs);\n\n        _this_3.parent.isModified = false;\n\n        _this_3.updateReportList();\n\n        _this_3.dialog.hide();\n      });\n    } else if (this.dialog.header === this.parent.localeObj.getConstant('rename') && reportInput.value && reportInput.value !== '') {\n      if (this.currentReport === reportInput.value) {\n        this.dialog.hide();\n        return;\n      }\n\n      this.action = 'Rename';\n      var isExist_3 = false;\n      /* eslint-disable */\n\n      var _this_4 = this;\n      /* eslint-enable */\n\n\n      var reports = {\n        reportName: []\n      };\n      this.parent.trigger(events.fetchReport, reports, function (observedArgs) {\n        _this_4.renameText = reportInput.value;\n\n        for (var i = 0; i < observedArgs.reportName.length; i++) {\n          if (reportInput.value === observedArgs.reportName[i]) {\n            isExist_3 = true;\n            break;\n          }\n        }\n\n        if (isExist_3) {\n          _this_4.createConfirmDialog(_this_4.parent.localeObj.getConstant('alert'), _this_4.parent.localeObj.getConstant('replaceConfirmBefore') + '\"' + reportInput.value + '\"' + _this_4.parent.localeObj.getConstant('replaceConfirmAfter'));\n\n          return;\n        }\n\n        var renameArgs = {\n          reportName: _this_4.currentReport,\n          rename: reportInput.value\n        };\n\n        _this_4.parent.trigger(events.renameReport, renameArgs);\n\n        _this_4.currentReport = reportInput.value;\n\n        _this_4.updateReportList();\n\n        _this_4.dialog.hide();\n      });\n    }\n  };\n\n  Toolbar.prototype.createNewReport = function (args) {\n    this.dialogShow(args);\n  };\n\n  Toolbar.prototype.cancelBtnClick = function () {\n    this.dialog.hide();\n  };\n\n  Toolbar.prototype.createConfirmDialog = function (title, description) {\n    if (document.getElementById(this.parent.element.id + '_ConfirmDialog')) {\n      remove(document.getElementById(this.parent.element.id + '_ConfirmDialog').parentElement);\n    }\n\n    var errorDialog = createElement('div', {\n      id: this.parent.element.id + '_ConfirmDialog',\n      className: cls.ERROR_DIALOG_CLASS\n    });\n    this.parent.element.appendChild(errorDialog);\n    this.confirmPopUp = new Dialog({\n      animationSettings: {\n        effect: 'Fade'\n      },\n      allowDragging: true,\n      showCloseIcon: true,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      header: title,\n      content: description,\n      isModal: true,\n      visible: true,\n      closeOnEscape: true,\n      target: document.body,\n      width: 'auto',\n      height: 'auto',\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      buttons: [{\n        buttonModel: {\n          content: this.parent.localeObj.getConstant('yes'),\n          isPrimary: true,\n          cssClass: cls.OK_BUTTON_CLASS\n        },\n        click: this.okButtonClick.bind(this)\n      }, {\n        buttonModel: {\n          content: this.parent.localeObj.getConstant('no'),\n          cssClass: cls.CANCEL_BUTTON_CLASS\n        },\n        click: this.cancelButtonClick.bind(this)\n      }]\n    });\n    this.confirmPopUp.isStringTemplate = true;\n    this.confirmPopUp.appendTo(errorDialog);\n    this.confirmPopUp.element.querySelector('.e-dlg-header').innerHTML = title;\n  };\n\n  Toolbar.prototype.okButtonClick = function () {\n    var _this_1 = this;\n\n    if (this.action === 'Remove') {\n      var removeArgs = {\n        reportName: this.currentReport\n      };\n      this.parent.trigger(events.removeReport, removeArgs);\n      var reports = this.fetchReports();\n\n      if (reports.reportName && reports.reportName.length > 0) {\n        var loadArgs = {\n          reportName: reports.reportName[reports.reportName.length - 1]\n        };\n        this.parent.trigger(events.loadReport, loadArgs, function (observedArgs) {\n          _this_1.currentReport = observedArgs.reportName;\n          _this_1.parent.isModified = false;\n        });\n        this.currentReport = reports.reportName[reports.reportName.length - 1];\n      } else {\n        this.currentReport = '';\n        this.parent.isModified = false;\n        this.action = '';\n      }\n\n      this.updateReportList();\n    } else if (this.action === 'New' || this.action !== 'Save' && this.action !== 'Rename' && this.action !== 'New') {\n      if (this.currentReport && this.currentReport !== '' && this.parent.isModified) {\n        var saveArgs = {\n          report: this.parent.getPersistData(),\n          reportName: this.currentReport\n        };\n        this.parent.trigger(events.saveReport, saveArgs);\n        this.parent.isModified = false;\n\n        if (this.action === 'New') {\n          this.createNewReport(this.newArgs);\n        } else {\n          this.reportLoad(this.dropArgs);\n        }\n      } else if (this.action === 'New') {\n        this.parent.trigger(events.newReport);\n\n        if (isBlazor()) {\n          this.parent.setProperties({\n            dataSourceSettings: {\n              columns: [],\n              rows: [],\n              values: [],\n              filters: []\n            }\n          }, false);\n        }\n\n        var saveArgs = {\n          report: this.parent.getPersistData(),\n          reportName: this.currentReport\n        };\n        this.parent.trigger(events.saveReport, saveArgs);\n        this.parent.isModified = false;\n        this.updateReportList();\n        this.dialog.hide();\n      }\n    } else if (this.action === 'Save') {\n      var saveArgs = {\n        report: this.parent.getPersistData(),\n        reportName: this.currentReport\n      };\n      this.parent.trigger(events.saveReport, saveArgs);\n      this.parent.isModified = false;\n      this.updateReportList();\n      this.dialog.hide();\n    } else if (this.action === 'Rename') {\n      var renameArgs = {\n        reportName: this.currentReport,\n        rename: this.renameText,\n        isReportExists: true\n      };\n      this.parent.trigger(events.renameReport, renameArgs);\n      this.currentReport = this.renameText;\n      this.parent.isModified = false;\n      this.updateReportList();\n      this.dialog.hide();\n    }\n\n    this.confirmPopUp.hide();\n  };\n\n  Toolbar.prototype.cancelButtonClick = function () {\n    if (this.action === 'New') {\n      if (this.parent.isModified) {\n        this.createNewReport(this.newArgs);\n      } else {\n        this.dialog.hide();\n      }\n    } else if (this.action === 'Save') {\n      this.currentReport = this.reportList.value;\n      this.dialog.hide();\n    } else if (this.action === 'Rename') {\n      this.dialog.hide();\n    } else if (this.dropArgs && this.action !== 'Remove') {\n      this.reportLoad(this.dropArgs);\n    }\n\n    this.confirmPopUp.hide();\n  };\n  /* eslint-disable-next-line */\n\n  /**\n   * @hidden\n   */\n\n\n  Toolbar.prototype.createChartMenu = function () {\n    var _this_1 = this;\n\n    if (select('#' + this.parent.element.id + 'chart_menu', document)) {\n      var menuItems = [];\n      var types = this.getValidChartType();\n\n      for (var i = 0; i < types.length && i < 7; i++) {\n        var type = types[i];\n        menuItems.push({\n          text: this.parent.localeObj.getConstant(type.toLowerCase()),\n          id: this.parent.element.id + '_' + type\n        });\n      }\n\n      if (menuItems.length === 7) {\n        menuItems.splice(6);\n        menuItems.push({\n          text: this.parent.localeObj.getConstant('MoreOption'),\n          id: this.parent.element.id + '_' + 'ChartMoreOption'\n        });\n      }\n\n      var toDisable = menuItems.length <= 0 || this.parent.displayOption.view === 'Table';\n      menuItems.push({\n        separator: true\n      });\n      menuItems.push({\n        text: this.parent.localeObj.getConstant('multipleAxes'),\n        id: this.parent.element.id + '_' + 'multipleAxes'\n      });\n      menuItems.push({\n        text: this.parent.localeObj.getConstant('showLegend'),\n        id: this.parent.element.id + '_' + 'showLegend'\n      });\n      var menu = [{\n        iconCss: cls.TOOLBAR_CHART + ' ' + cls.ICON,\n        items: toDisable ? [] : menuItems\n      }];\n\n      if (this.chartMenu && !this.chartMenu.isDestroyed) {\n        this.chartMenu.destroy();\n      }\n\n      this.chartMenu = new Menu({\n        items: menu,\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale,\n        select: this.menuItemClick.bind(this),\n        beforeOpen: this.whitespaceRemove.bind(this),\n        onClose: function (args) {\n          _this_1.focusToolBar();\n        },\n        beforeItemRender: this.multipleAxesCheckbox.bind(this)\n      });\n      this.chartMenu.isStringTemplate = true;\n      this.chartMenu.appendTo('#' + this.parent.element.id + 'chart_menu');\n    }\n  };\n  /* eslint-disable  */\n\n\n  Toolbar.prototype.create = function () {\n    var _this_1 = this;\n\n    if (select('#' + this.parent.element.id + 'chart_menu', this.parent.element)) {\n      this.createChartMenu();\n    }\n\n    if (select('#' + this.parent.element.id + 'export_menu', this.parent.element)) {\n      var menu = [{\n        iconCss: cls.GRID_EXPORT + ' ' + cls.ICON,\n        items: [{\n          text: this.parent.localeObj.getConstant('pdf'),\n          iconCss: cls.GRID_PDF_EXPORT + ' ' + cls.ICON,\n          id: this.parent.element.id + 'pdf'\n        }, {\n          text: this.parent.localeObj.getConstant('excel'),\n          iconCss: cls.GRID_EXCEL_EXPORT + ' ' + cls.ICON,\n          id: this.parent.element.id + 'excel'\n        }, {\n          text: this.parent.localeObj.getConstant('csv'),\n          iconCss: cls.GRID_CSV_EXPORT + ' ' + cls.ICON,\n          id: this.parent.element.id + 'csv'\n        }, {\n          text: this.parent.localeObj.getConstant('png'),\n          iconCss: cls.GRID_PNG_EXPORT + ' ' + cls.ICON,\n          id: this.parent.element.id + 'png'\n        }, {\n          text: this.parent.localeObj.getConstant('jpeg'),\n          iconCss: cls.GRID_JPEG_EXPORT + ' ' + cls.ICON,\n          id: this.parent.element.id + 'jpeg'\n        }, {\n          text: this.parent.localeObj.getConstant('svg'),\n          iconCss: cls.GRID_SVG_EXPORT + ' ' + cls.ICON,\n          id: this.parent.element.id + 'svg'\n        }]\n      }];\n      this.exportMenu = new Menu({\n        items: menu,\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale,\n        select: this.menuItemClick.bind(this),\n        beforeOpen: this.updateExportMenu.bind(this),\n        onClose: function (args) {\n          _this_1.focusToolBar();\n        }\n      });\n      this.exportMenu.isStringTemplate = true;\n      this.exportMenu.appendTo('#' + this.parent.element.id + 'export_menu');\n    }\n\n    if (select('#' + this.parent.element.id + 'subtotal_menu', this.parent.element)) {\n      var menu = [{\n        iconCss: cls.GRID_SUB_TOTAL + ' ' + cls.ICON,\n        items: [{\n          text: this.parent.localeObj.getConstant('showSubTotals'),\n          id: this.parent.element.id + 'subtotal',\n          iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n        }, {\n          text: this.parent.localeObj.getConstant('doNotShowSubTotals'),\n          id: this.parent.element.id + 'notsubtotal',\n          iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n        }, {\n          text: this.parent.localeObj.getConstant('showSubTotalsRowsOnly'),\n          id: this.parent.element.id + 'subtotalrow',\n          iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n        }, {\n          text: this.parent.localeObj.getConstant('showSubTotalsColumnsOnly'),\n          id: this.parent.element.id + 'subtotalcolumn',\n          iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n        }]\n      }];\n      this.subTotalMenu = new Menu({\n        items: menu,\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale,\n        select: this.menuItemClick.bind(this),\n        beforeOpen: this.updateSubtotalSelection.bind(this),\n        onClose: function (args) {\n          _this_1.focusToolBar();\n        }\n      });\n      this.subTotalMenu.isStringTemplate = true;\n      this.subTotalMenu.appendTo('#' + this.parent.element.id + 'subtotal_menu');\n    }\n\n    if (select('#' + this.parent.element.id + 'grandtotal_menu', this.parent.element)) {\n      var menu = [{\n        iconCss: cls.GRID_GRAND_TOTAL + ' ' + cls.ICON,\n        items: [{\n          text: this.parent.localeObj.getConstant('showGrandTotals'),\n          id: this.parent.element.id + 'grandtotal',\n          iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n        }, {\n          text: this.parent.localeObj.getConstant('doNotShowGrandTotals'),\n          id: this.parent.element.id + 'notgrandtotal',\n          iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n        }, {\n          text: this.parent.localeObj.getConstant('showGrandTotalsRowsOnly'),\n          id: this.parent.element.id + 'grandtotalrow',\n          iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n        }, {\n          text: this.parent.localeObj.getConstant('showGrandTotalsColumnsOnly'),\n          id: this.parent.element.id + 'grandtotalcolumn',\n          iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n        }]\n      }];\n      this.grandTotalMenu = new Menu({\n        items: menu,\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale,\n        select: this.menuItemClick.bind(this),\n        beforeOpen: this.updateGrandtotalSelection.bind(this),\n        onClose: function (args) {\n          _this_1.focusToolBar();\n        }\n      });\n      this.grandTotalMenu.isStringTemplate = true;\n      this.grandTotalMenu.appendTo('#' + this.parent.element.id + 'grandtotal_menu');\n    }\n\n    if (select('#' + this.parent.element.id + 'formatting_menu', this.parent.element)) {\n      var menu = [{\n        iconCss: cls.FORMATTING_MENU + ' ' + cls.ICON,\n        items: [{\n          text: this.parent.localeObj.getConstant('numberFormatMenu'),\n          iconCss: cls.NUMBER_FORMATTING_MENU + ' ' + cls.ICON,\n          id: this.parent.element.id + 'numberFormattingMenu'\n        }, {\n          text: this.parent.localeObj.getConstant('conditionalFormatingMenu'),\n          iconCss: cls.CONDITIONAL_FORMATTING_MENU + ' ' + cls.ICON,\n          id: this.parent.element.id + 'conditionalFormattingMenu'\n        }]\n      }];\n      this.formattingMenu = new Menu({\n        items: menu,\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale,\n        select: this.menuItemClick.bind(this)\n      });\n      this.formattingMenu.isStringTemplate = true;\n      this.formattingMenu.appendTo('#' + this.parent.element.id + 'formatting_menu');\n    }\n\n    if (select('#' + this.parent.element.id + '_reportlist', this.parent.element)) {\n      var saveArgs = {\n        report: this.parent.getPersistData(),\n        reportName: this.parent.localeObj.getConstant('defaultReport')\n      };\n\n      if (isBlazor()) {\n        var pivotData = JSON.parse(saveArgs.report);\n        pivotData.dataSourceSettings = PivotUtil.getClonedDataSourceSettings(this.parent.dataSourceSettings);\n        saveArgs.report = JSON.stringify(pivotData);\n      }\n\n      this.currentReport = this.parent.localeObj.getConstant('defaultReport');\n      this.parent.trigger(events.saveReport, saveArgs);\n      var reports = this.fetchReports();\n      this.reportList = new DropDownList({\n        dataSource: reports.reportName,\n        width: '150px',\n        popupHeight: '200px',\n        placeholder: this.currentReport === '' ? this.parent.localeObj.getConstant('reportList') : '',\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale,\n        cssClass: cls.REPORT_LIST_DROP,\n        select: this.reportChange.bind(this),\n        value: this.currentReport\n      });\n      this.reportList.isStringTemplate = true;\n      this.reportList.appendTo('#' + this.parent.element.id + '_reportlist');\n    }\n\n    this.updateItemElements();\n  };\n\n  Toolbar.prototype.updateItemElements = function () {\n    var itemElements = [].slice.call(this.toolbar.element.querySelectorAll('.e-toolbar-item'));\n\n    for (var _i = 0, itemElements_1 = itemElements; _i < itemElements_1.length; _i++) {\n      var element = itemElements_1[_i];\n\n      if (element.querySelector('button')) {\n        element.querySelector('button').setAttribute('tabindex', '0');\n      } else if (element.querySelector('.e-menu.e-menu-parent')) {\n        element.querySelector('.e-menu.e-menu-parent').setAttribute('tabindex', '-1');\n\n        if (element.querySelector('.e-menu-item.e-menu-caret-icon')) {\n          element.querySelector('.e-menu-item.e-menu-caret-icon').setAttribute('tabindex', '0');\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.whitespaceRemove = function (args) {\n    args.element.style.padding = '0px';\n    var separator = args.element.querySelector('.e-separator');\n\n    if (separator) {\n      separator.style.margin = '0px';\n    }\n  };\n\n  Toolbar.prototype.multipleAxesCheckbox = function (args) {\n    if (this.parent.element.id + '_' + 'multipleAxes' === args.element.id) {\n      var inputCheckbox = createElement('input', {\n        id: this.parent.element.id + '_' + 'checkBox'\n      });\n      inputCheckbox.style.display = 'none';\n      this.parent.element.appendChild(inputCheckbox);\n      var checkbox = new CheckBox({\n        label: this.parent.localeObj.getConstant('multipleAxes'),\n        cssClass: 'e-multipleAxes',\n        checked: this.parent.chartSettings.enableMultipleAxis,\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale\n      });\n      args.element.innerText = '';\n      checkbox.appendTo('#' + this.parent.element.id + '_' + 'checkBox');\n\n      if (['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(this.parent.chartSettings.chartSeries.type) > -1 && !args.element.classList.contains(cls.MENU_DISABLE)) {\n        args.element.classList.add(cls.MENU_DISABLE);\n        checkbox.disabled = true;\n      } else if (['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(this.parent.chartSettings.chartSeries.type) < 0 && args.element.classList.contains(cls.MENU_DISABLE)) {\n        args.element.classList.remove(cls.MENU_DISABLE);\n        checkbox.disabled = false;\n      }\n\n      var checkboxObj = this.parent.element.querySelector('.e-checkbox-wrapper.e-multipleAxes');\n      args.element.appendChild(checkboxObj);\n    } else if (this.parent.element.id + '_' + 'showLegend' === args.element.id) {\n      var inputCheckbox = createElement('input', {\n        id: this.parent.element.id + '_' + 'showLegendCheckBox'\n      });\n      inputCheckbox.style.display = 'none';\n      this.parent.element.appendChild(inputCheckbox);\n      var checkbox = new CheckBox({\n        label: this.parent.localeObj.getConstant('showLegend'),\n        checked: this.getLableState(this.parent.chartSettings.chartSeries.type),\n        cssClass: 'e-showLegend',\n        enableRtl: this.parent.enableRtl,\n        locale: this.parent.locale\n      });\n      args.element.innerText = '';\n      checkbox.appendTo('#' + this.parent.element.id + '_' + 'showLegendCheckBox');\n      var checkboxObj = this.parent.element.querySelector('.e-checkbox-wrapper.e-showLegend');\n      args.element.appendChild(checkboxObj);\n    }\n  };\n\n  Toolbar.prototype.getLableState = function (type) {\n    var chartSettings = JSON.parse(this.parent.getPersistData()).chartSettings;\n\n    if (chartSettings && chartSettings.legendSettings && chartSettings.legendSettings.visible !== undefined) {\n      this.showLableState = chartSettings.legendSettings.visible;\n    } else {\n      this.showLableState = ['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(this.parent.chartSettings.chartSeries.type) > -1 ? false : true;\n    }\n\n    return this.showLableState;\n  };\n\n  Toolbar.prototype.getAllChartItems = function () {\n    return ['Line', 'Column', 'Area', 'Bar', 'StackingColumn', 'StackingArea', 'StackingBar', 'StepLine', 'StepArea', 'SplineArea', 'Scatter', 'Spline', 'StackingColumn100', 'StackingBar100', 'StackingArea100', 'Bubble', 'Pareto', 'Polar', 'Radar', 'Pie', 'Pyramid', 'Funnel', 'Doughnut'];\n  };\n\n  Toolbar.prototype.updateExportMenu = function (args) {\n    var items = [].slice.call(args.element.querySelectorAll('li'));\n\n    if (this.parent.currentView === 'Table') {\n      addClass(items.slice(3), cls.MENU_HIDE);\n      removeClass(items.slice(1, 3), cls.MENU_HIDE);\n    } else {\n      addClass(items.slice(1, 3), cls.MENU_HIDE);\n      removeClass(items.slice(3), cls.MENU_HIDE);\n    }\n  };\n\n  Toolbar.prototype.updateSubtotalSelection = function (args) {\n    if (!select('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n      select('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n    }\n\n    if (!select('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n      select('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n    }\n\n    if (!select('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n      select('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n    }\n\n    if (!select('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n      select('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n    }\n\n    if (this.parent.dataSourceSettings.showSubTotals && this.parent.dataSourceSettings.showRowSubTotals && !this.parent.dataSourceSettings.showColumnSubTotals) {\n      select('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n    } else if (this.parent.dataSourceSettings.showSubTotals && !this.parent.dataSourceSettings.showRowSubTotals && this.parent.dataSourceSettings.showColumnSubTotals) {\n      select('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n    } else if (this.parent.dataSourceSettings.showSubTotals && this.parent.dataSourceSettings.showRowSubTotals && this.parent.dataSourceSettings.showColumnSubTotals) {\n      select('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n    } else if (!this.parent.dataSourceSettings.showSubTotals || !this.parent.dataSourceSettings.showRowSubTotals && !this.parent.dataSourceSettings.showColumnSubTotals) {\n      select('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n    }\n  };\n\n  Toolbar.prototype.updateGrandtotalSelection = function (args) {\n    if (!select('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n      select('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n    }\n\n    if (!select('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n      select('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n    }\n\n    if (!select('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n      select('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n    }\n\n    if (!select('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n      select('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n    }\n\n    if (this.parent.dataSourceSettings.showGrandTotals && this.parent.dataSourceSettings.showRowGrandTotals && !this.parent.dataSourceSettings.showColumnGrandTotals) {\n      select('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n    } else if (this.parent.dataSourceSettings.showGrandTotals && !this.parent.dataSourceSettings.showRowGrandTotals && this.parent.dataSourceSettings.showColumnGrandTotals) {\n      select('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n    } else if (this.parent.dataSourceSettings.showGrandTotals && this.parent.dataSourceSettings.showRowGrandTotals && this.parent.dataSourceSettings.showColumnGrandTotals) {\n      select('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n    } else if (!this.parent.dataSourceSettings.showGrandTotals || !this.parent.dataSourceSettings.showRowGrandTotals && !this.parent.dataSourceSettings.showColumnGrandTotals) {\n      select('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n    }\n  };\n  /* eslint-enable max-len */\n\n\n  Toolbar.prototype.updateReportList = function () {\n    var reports;\n\n    if (isBlazor()) {\n      /* eslint-disable */\n      var _this_5 = this;\n      /* eslint-enable */\n\n\n      reports = {\n        reportName: []\n      };\n      this.parent.trigger(events.fetchReport, reports, function (observedArgs) {\n        _this_5.reportList.dataSource = observedArgs.reportName;\n\n        if (_this_5.currentReport === '' && _this_5.reportList.dataSource.length > 0) {\n          _this_5.reportList.value = _this_5.reportList.dataSource[_this_5.reportList.dataSource.length - 1];\n          _this_5.reportList.text = _this_5.reportList.dataSource[_this_5.reportList.dataSource.length - 1];\n          _this_5.currentReport = _this_5.reportList.dataSource[_this_5.reportList.dataSource.length - 1];\n        } else {\n          _this_5.reportList.value = _this_5.currentReport;\n          _this_5.reportList.text = _this_5.currentReport;\n        }\n\n        _this_5.reportList.refresh();\n      });\n    } else {\n      reports = this.fetchReports();\n      this.reportList.dataSource = reports.reportName;\n\n      if (this.currentReport === '' && this.reportList.dataSource.length > 0) {\n        this.reportList.value = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n        this.reportList.text = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n        this.currentReport = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n      } else {\n        this.reportList.value = this.currentReport;\n        this.reportList.text = this.currentReport;\n      }\n\n      this.reportList.refresh();\n    }\n  };\n  /* eslint-disable  */\n\n\n  Toolbar.prototype.menuItemClick = function (args) {\n    var _this_1 = this;\n\n    var exportArgs = {};\n    var type;\n\n    if (this.getAllChartItems().indexOf(args.item.id.split(this.parent.element.id + '_')[1]) > -1 || args.item.id.split(this.parent.element.id + '_')[1] === 'ChartMoreOption' || args.item.id.split(this.parent.element.id + '_')[1] === 'multipleAxes' || args.item.id.split(this.parent.element.id + '_')[1] === 'showLegend') {\n      type = args.item.id.split(this.parent.element.id + '_')[1];\n    }\n\n    switch (args.item.id) {\n      case this.parent.element.id + 'grid':\n        if (this.parent.grid && this.parent.chart) {\n          this.parent.grid.element.style.display = '';\n          this.parent.chart.element.style.display = 'none';\n\n          if (this.parent.chartSettings.enableMultipleAxis && this.parent.chartSettings.enableScrollOnMultiAxis) {\n            this.parent.element.querySelector('.e-pivotchart').style.display = 'none';\n          }\n\n          this.parent.currentView = 'Table';\n          this.parent.setProperties({\n            displayOption: {\n              primary: 'Table'\n            }\n          }, true);\n\n          if (this.parent.showGroupingBar && this.parent.groupingBarModule) {\n            this.parent.element.querySelector('.e-pivot-grouping-bar').style.display = '';\n            this.parent.element.querySelector('.e-chart-grouping-bar').style.display = 'none';\n          }\n\n          this.parent.layoutRefresh();\n        }\n\n        if (isBlazor() && this.parent.element.querySelector('.e-toggle-field-list') && this.parent.toolbar.indexOf('FieldList') !== -1) {\n          this.parent.element.querySelector('.e-toggle-field-list').style.display = 'none';\n        }\n\n        break;\n\n      case this.parent.element.id + 'pdf':\n        if (this.parent.currentView === 'Table') {\n          exportArgs = {\n            pdfExportProperties: {\n              fileName: 'Export.pdf'\n            },\n            pdfDoc: undefined,\n            isBlob: false,\n            isMultipleExport: false\n          };\n          this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n            if (isBlazor()) {\n              var pdfProperties = PivotUtil.formatPdfExportProperties(observedArgs.pdfExportProperties);\n\n              _this_1.parent.pdfExport(pdfProperties, observedArgs.isMultipleExport, observedArgs.pdfDoc, observedArgs.isBlob);\n            } else {\n              _this_1.parent.pdfExport(observedArgs.pdfExportProperties, observedArgs.isMultipleExport, observedArgs.pdfDoc, observedArgs.isBlob);\n            }\n          });\n        } else {\n          exportArgs = {\n            width: undefined,\n            height: undefined,\n            orientation: PdfPageOrientation.Landscape,\n            type: 'PDF',\n            fileName: 'result'\n          };\n          this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n            _this_1.parent.chartExport(observedArgs.type, observedArgs.fileName, observedArgs.orientation, observedArgs.width, observedArgs.height);\n          });\n        }\n\n        break;\n\n      case this.parent.element.id + 'excel':\n        exportArgs = {\n          excelExportProperties: {\n            fileName: 'Export.xlsx'\n          },\n          isBlob: undefined,\n          isMultipleExport: undefined,\n          workbook: undefined\n        };\n        this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n          if (isBlazor()) {\n            var excelProperties = PivotUtil.formatExcelExportProperties(observedArgs.excelExportProperties);\n\n            _this_1.parent.excelExport(excelProperties, observedArgs.isMultipleExport, observedArgs.workbook, observedArgs.isBlob);\n          } else {\n            _this_1.parent.excelExport(observedArgs.excelExportProperties, observedArgs.isMultipleExport, observedArgs.workbook, observedArgs.isBlob);\n          }\n        });\n        break;\n\n      case this.parent.element.id + 'csv':\n        exportArgs = {\n          excelExportProperties: {\n            fileName: 'Export.csv'\n          },\n          isBlob: false,\n          isMultipleExport: false,\n          workbook: undefined\n        };\n        this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n          if (isBlazor()) {\n            var excelProperties = PivotUtil.formatExcelExportProperties(observedArgs.excelExportProperties);\n\n            _this_1.parent.csvExport(excelProperties, observedArgs.isMultipleExport, observedArgs.workbook, observedArgs.isBlob);\n          } else {\n            _this_1.parent.csvExport(observedArgs.excelExportProperties, observedArgs.isMultipleExport, observedArgs.workbook, observedArgs.isBlob);\n          }\n        });\n        break;\n\n      case this.parent.element.id + 'png':\n        exportArgs = {\n          type: 'PNG',\n          width: undefined,\n          height: undefined,\n          fileName: 'result',\n          orientation: PdfPageOrientation.Landscape\n        };\n        this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n          _this_1.parent.chartExport(observedArgs.type, observedArgs.fileName, observedArgs.orientation, observedArgs.width, observedArgs.height);\n        });\n        break;\n\n      case this.parent.element.id + 'jpeg':\n        exportArgs = {\n          type: 'JPEG',\n          fileName: 'result',\n          orientation: PdfPageOrientation.Landscape,\n          width: undefined,\n          height: undefined\n        };\n        this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n          _this_1.parent.chartExport(observedArgs.type, observedArgs.fileName, observedArgs.orientation, observedArgs.width, observedArgs.height);\n        });\n        break;\n\n      case this.parent.element.id + 'svg':\n        exportArgs = {\n          width: undefined,\n          height: undefined,\n          type: 'SVG',\n          fileName: 'result',\n          orientation: PdfPageOrientation.Landscape\n        };\n        this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n          _this_1.parent.chartExport(observedArgs.type, observedArgs.fileName, observedArgs.orientation, observedArgs.width, observedArgs.height);\n        });\n        break;\n\n      case this.parent.element.id + 'notsubtotal':\n        this.parent.setProperties({\n          dataSourceSettings: {\n            showSubTotals: false,\n            showColumnSubTotals: false,\n            showRowSubTotals: false\n          }\n        }, true);\n        this.parent.refreshData();\n        break;\n\n      case this.parent.element.id + 'subtotalrow':\n        this.parent.setProperties({\n          dataSourceSettings: {\n            showSubTotals: true,\n            showColumnSubTotals: false,\n            showRowSubTotals: true\n          }\n        }, true);\n        this.parent.refreshData();\n        break;\n\n      case this.parent.element.id + 'subtotalcolumn':\n        this.parent.setProperties({\n          dataSourceSettings: {\n            showSubTotals: true,\n            showColumnSubTotals: true,\n            showRowSubTotals: false\n          }\n        }, true);\n        this.parent.refreshData();\n        break;\n\n      case this.parent.element.id + 'subtotal':\n        this.parent.setProperties({\n          dataSourceSettings: {\n            showSubTotals: true,\n            showColumnSubTotals: true,\n            showRowSubTotals: true\n          }\n        }, true);\n        this.parent.refreshData();\n        break;\n\n      case this.parent.element.id + 'notgrandtotal':\n        this.parent.setProperties({\n          dataSourceSettings: {\n            showGrandTotals: false,\n            showColumnGrandTotals: false,\n            showRowGrandTotals: false\n          }\n        }, true);\n        this.parent.refreshData();\n        break;\n\n      case this.parent.element.id + 'grandtotalrow':\n        this.parent.setProperties({\n          dataSourceSettings: {\n            showGrandTotals: true,\n            showColumnGrandTotals: false,\n            showRowGrandTotals: true\n          }\n        }, true);\n        this.parent.refreshData();\n        break;\n\n      case this.parent.element.id + 'grandtotalcolumn':\n        this.parent.setProperties({\n          dataSourceSettings: {\n            showGrandTotals: true,\n            showColumnGrandTotals: true,\n            showRowGrandTotals: false\n          }\n        }, true);\n        this.parent.refreshData();\n        break;\n\n      case this.parent.element.id + 'grandtotal':\n        this.parent.setProperties({\n          dataSourceSettings: {\n            showGrandTotals: true,\n            showColumnGrandTotals: true,\n            showRowGrandTotals: true\n          }\n        }, true);\n        this.parent.refreshData();\n        break;\n\n      case this.parent.element.id + 'numberFormattingMenu':\n        if (this.parent.numberFormattingModule) {\n          this.parent.numberFormattingModule.showNumberFormattingDialog();\n        }\n\n        break;\n\n      case this.parent.element.id + 'conditionalFormattingMenu':\n        if (this.parent.conditionalFormattingModule) {\n          this.parent.conditionalFormattingModule.showConditionalFormattingDialog();\n        }\n\n        break;\n\n      case this.parent.element.id + '_' + type:\n        if (args.item && args.item.text) {\n          if (type === 'ChartMoreOption') {\n            this.createChartTypeDialog();\n          } else if (type === 'multipleAxes') {\n            if (this.parent.chartSettings.enableScrollOnMultiAxis) {\n              this.isMultiAxisChange = true;\n            }\n\n            this.parent.chartSettings.enableMultipleAxis = !this.parent.chartSettings.enableMultipleAxis;\n            this.updateChartType(this.parent.chartSettings.chartSeries.type, true);\n          } else if (this.getAllChartItems().indexOf(type) > -1) {\n            this.updateChartType(type, false);\n          } else if (type === 'showLegend') {\n            this.parent.chart.legendSettings.visible = !this.showLableState;\n\n            if (this.parent.chartSettings.legendSettings) {\n              this.parent.chartSettings.legendSettings.visible = !this.showLableState;\n            } else {\n              this.parent.setProperties({\n                chartSettings: {\n                  legendSettings: {\n                    visible: !this.showLableState\n                  }\n                }\n              }, true);\n            }\n\n            this.updateChartType(this.parent.chartSettings.chartSeries.type, true);\n          }\n        }\n\n        if (isBlazor() && this.parent.element.querySelector('.e-toggle-field-list') && this.parent.toolbar.indexOf('FieldList') !== -1) {\n          this.parent.element.querySelector('.e-toggle-field-list').style.display = 'none';\n        }\n\n        break;\n    }\n    /* eslint-enable max-len */\n\n  };\n  /**\n   * @hidden\n   */\n\n\n  Toolbar.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.initToolbar, this.createToolbar, this);\n  };\n\n  Toolbar.prototype.getValidChartType = function () {\n    var menuItems = [];\n\n    for (var i = 0; i <= this.parent.chartTypes.length; i++) {\n      var type = this.parent.chartTypes[i];\n\n      if (this.getAllChartItems().indexOf(type) > -1 && menuItems.indexOf(type) < 0) {\n        menuItems.push(type);\n      }\n    }\n\n    return menuItems;\n  };\n\n  Toolbar.prototype.createChartTypeDialog = function () {\n    var _this_1 = this;\n\n    var chartDialog = this.parent.element.appendChild(createElement('div', {\n      id: this.parent.element.id + '_ChartTypeDialog',\n      className: cls.PIVOTCHART_TYPE_DIALOG\n    }));\n    this.chartTypesDialog = new Dialog({\n      animationSettings: {\n        effect: 'Fade'\n      },\n      allowDragging: true,\n      header: this.parent.localeObj.getConstant('chartTypeSettings'),\n      content: this.getDialogContent(),\n      isModal: true,\n      beforeOpen: this.beforeOpen.bind(this),\n      visible: true,\n      showCloseIcon: true,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      width: 'auto',\n      height: 'auto',\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      buttons: [{\n        click: function () {\n          _this_1.chartTypeDialogUpdate();\n        },\n        buttonModel: {\n          cssClass: cls.OK_BUTTON_CLASS,\n          content: this.parent.localeObj.getConstant('ok'),\n          isPrimary: true\n        }\n      }, {\n        click: function () {\n          _this_1.removeDialog();\n        },\n        buttonModel: {\n          cssClass: cls.CANCEL_BUTTON_CLASS,\n          content: this.parent.localeObj.getConstant('cancel')\n        }\n      }],\n      closeOnEscape: true,\n      target: this.parent.element,\n      close: this.removeDialog.bind(this)\n    });\n    this.chartTypesDialog.isStringTemplate = true;\n    this.chartTypesDialog.appendTo(chartDialog);\n  };\n\n  Toolbar.prototype.removeDialog = function () {\n    if (this.chartTypesDialog && !this.chartTypesDialog.isDestroyed) {\n      this.chartTypesDialog.destroy();\n    }\n\n    if (document.getElementById(this.parent.element.id + '_ChartTypeDialog')) {\n      remove(document.getElementById(this.parent.element.id + '_ChartTypeDialog'));\n    }\n  };\n\n  Toolbar.prototype.chartTypeDialogUpdate = function () {\n    var chartType = getInstance(select('#' + this.parent.element.id + '_ChartTypeOption'), DropDownList).value;\n    var checked = getInstance(select('#' + this.parent.element.id + '_DialogMultipleAxis'), CheckBox).checked;\n    var checkedShow = getInstance(select('#' + this.parent.element.id + '_DialogShowLabel'), CheckBox).checked;\n    this.parent.chart.legendSettings.visible = checkedShow;\n\n    if (this.chartLableState) {\n      this.parent.chart.legendSettings.visible = checkedShow;\n\n      if (this.parent.chartSettings.legendSettings) {\n        this.parent.chartSettings.legendSettings.visible = checkedShow;\n      } else {\n        this.parent.setProperties({\n          chartSettings: {\n            legendSettings: {\n              visible: checkedShow\n            }\n          }\n        }, true);\n      }\n    }\n\n    this.updateChartType(chartType, false);\n    this.parent.chartSettings.enableMultipleAxis = checked;\n    this.parent.chartSettings.multipleAxisMode = getInstance(select('#' + this.parent.element.id + '_AxisModeOption'), DropDownList).value;\n    this.chartTypesDialog.close();\n  };\n\n  Toolbar.prototype.updateChartType = function (type, isMultiAxis) {\n    if (this.getAllChartItems().indexOf(type) > -1) {\n      if (this.parent.chart) {\n        this.parent.currentView = 'Chart';\n        this.parent.setProperties({\n          displayOption: {\n            primary: 'Chart'\n          }\n        }, true);\n        this.parent.chart.element.style.width = formatUnit(this.parent.grid ? this.parent.getGridWidthAsNumber() : this.parent.getWidthAsNumber());\n        /* eslint-disable-line */\n\n        this.parent.chart.setProperties({\n          width: formatUnit(this.parent.grid ? this.parent.getGridWidthAsNumber() : this.parent.getWidthAsNumber())\n        }, true);\n        /* eslint-disable-line */\n\n        if (this.parent.chartSettings.chartSeries.type === type && !isMultiAxis) {\n          this.parent.chartModule.updateView();\n        } else {\n          this.parent.chartSettings.chartSeries.type = type;\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.getDialogContent = function () {\n    var mainWrapper = createElement('div', {\n      className: 'e-chart-type-div-content'\n    });\n    var optionWrapperDiv = createElement('div', {\n      className: 'e-chart-type-option-wrapper'\n    });\n    var axisModeWrapperDiv = createElement('div', {\n      className: 'e-multiple-axes-mode-wrapper'\n    });\n    var optionTextDiv = createElement('div', {\n      className: 'e-chart-type-option-text',\n      innerHTML: this.parent.localeObj.getConstant('ChartType')\n    });\n    var axisModeTextDiv = createElement('div', {\n      className: 'e-multiple-axes-mode-text',\n      innerHTML: this.parent.localeObj.getConstant('multipleAxisMode')\n    });\n    var dropOptionDiv = createElement('div', {\n      id: this.parent.element.id + '_ChartTypeOption'\n    });\n    var dropModeOptionDiv = createElement('div', {\n      id: this.parent.element.id + '_AxisModeOption'\n    });\n    optionWrapperDiv.appendChild(optionTextDiv);\n    optionWrapperDiv.appendChild(dropOptionDiv);\n    var chartTypeDatasource = [];\n    var multipleAxisModeDatasource = [{\n      value: 'Stacked',\n      text: this.parent.localeObj.getConstant('stacked')\n    }, {\n      value: 'Single',\n      text: this.parent.localeObj.getConstant('single')\n    }];\n    var chartType = this.getValidChartType();\n\n    for (var i = 0; i < chartType.length; i++) {\n      chartTypeDatasource.push({\n        value: chartType[i],\n        text: this.parent.localeObj.getConstant(chartType[i].toLowerCase())\n      });\n    }\n\n    var optionWrapper = new DropDownList({\n      dataSource: chartTypeDatasource,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      fields: {\n        value: 'value',\n        text: 'text'\n      },\n      value: this.parent.chartSettings.chartSeries.type ? this.parent.chartSettings.chartSeries.type : this.getValidChartType()[0],\n      width: '100%',\n      change: this.changeDropDown.bind(this)\n    });\n    optionWrapper.isStringTemplate = true;\n    optionWrapper.appendTo(dropOptionDiv);\n    mainWrapper.appendChild(optionWrapperDiv);\n    var checkboxWrap = createElement('input', {\n      id: this.parent.element.id + '_DialogMultipleAxis',\n      attrs: {\n        'type': 'checkbox'\n      }\n    });\n    mainWrapper.appendChild(checkboxWrap);\n    var labelCheckboxWrap = createElement('input', {\n      id: this.parent.element.id + '_DialogShowLabel',\n      attrs: {\n        'type': 'checkbox'\n      }\n    });\n    mainWrapper.appendChild(labelCheckboxWrap);\n    axisModeWrapperDiv.appendChild(axisModeTextDiv);\n    axisModeWrapperDiv.appendChild(dropModeOptionDiv);\n    mainWrapper.appendChild(axisModeWrapperDiv);\n    var axisModeWrapper = new DropDownList({\n      dataSource: multipleAxisModeDatasource,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      fields: {\n        value: 'value',\n        text: 'text'\n      },\n      value: this.parent.chartSettings.multipleAxisMode ? this.parent.chartSettings.multipleAxisMode : 'Stacked',\n      width: '100%',\n      enabled: this.parent.chartSettings.enableMultipleAxis\n    });\n    axisModeWrapper.isStringTemplate = true;\n    axisModeWrapper.appendTo(dropModeOptionDiv);\n    return mainWrapper;\n  };\n\n  Toolbar.prototype.changeDropDown = function (args) {\n    var chartSettings = JSON.parse(this.parent.getPersistData()).chartSettings;\n\n    if (!(chartSettings && chartSettings.legendSettings && chartSettings.legendSettings.visible !== undefined)) {\n      var checked = ['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(args.value.toString()) > -1 ? false : true;\n      getInstance(select('#' + this.parent.element.id + '_DialogShowLabel'), CheckBox).checked = checked;\n    }\n\n    if (['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(args.value.toString()) > -1) {\n      getInstance(select('#' + this.parent.element.id + '_DialogMultipleAxis'), CheckBox).disabled = true;\n      getInstance(select('#' + this.parent.element.id + '_AxisModeOption'), DropDownList).enabled = false;\n    } else {\n      var multipleAxisCheckBox = getInstance(select('#' + this.parent.element.id + '_DialogMultipleAxis'), CheckBox);\n      multipleAxisCheckBox.disabled = false;\n      getInstance(select('#' + this.parent.element.id + '_AxisModeOption'), DropDownList).enabled = multipleAxisCheckBox.checked;\n    }\n  };\n\n  Toolbar.prototype.beforeOpen = function () {\n    var _this_1 = this;\n\n    var checkbox = new CheckBox({\n      label: this.parent.localeObj.getConstant('multipleAxes'),\n      cssClass: 'e-dialog-multiple-axis',\n      checked: this.parent.chartSettings.enableMultipleAxis ? this.parent.chartSettings.enableMultipleAxis : false,\n      change: function (args) {\n        getInstance(select('#' + _this_1.parent.element.id + '_AxisModeOption'), DropDownList).enabled = args.checked;\n      },\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    var checkbox1 = new CheckBox({\n      label: this.parent.localeObj.getConstant('showLegend'),\n      checked: this.getLableState(this.parent.chartSettings.chartSeries.type),\n      change: function () {\n        _this_1.chartLableState = true;\n      },\n      cssClass: 'e-dialog-show-legend',\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    checkbox1.appendTo(select('#' + this.parent.element.id + '_DialogShowLabel', this.chartTypesDialog.element));\n    checkbox.appendTo(select('#' + this.parent.element.id + '_DialogMultipleAxis', this.chartTypesDialog.element));\n\n    if (['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(this.parent.chartSettings.chartSeries.type) > -1) {\n      checkbox.disabled = true;\n      getInstance(select('#' + this.parent.element.id + '_AxisModeOption'), DropDownList).enabled = false;\n    }\n\n    var chartSettings = JSON.parse(this.parent.getPersistData()).chartSettings;\n\n    if (chartSettings && chartSettings.legendSettings && chartSettings.legendSettings.visible !== undefined) {\n      this.chartLableState = true;\n    } else {\n      this.chartLableState = false;\n    }\n  };\n  /**\n   * To refresh the toolbar\n   * @returns {void}\n   * @hidden\n   */\n\n\n  Toolbar.prototype.refreshToolbar = function () {\n    this.createToolbar();\n  };\n  /**\n   * @hidden\n   */\n\n\n  Toolbar.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initToolbar, this.createToolbar);\n  };\n  /**\n   * To destroy the toolbar\n   * @returns {void}\n   * @hidden\n   */\n\n\n  Toolbar.prototype.destroy = function () {\n    this.removeEventListener();\n\n    if (this.confirmPopUp && !this.confirmPopUp.isDestroyed) {\n      this.confirmPopUp.destroy();\n    }\n\n    if (this.dialog && !this.dialog.isDestroyed) {\n      this.dialog.destroy();\n    }\n\n    if (this.mdxDialog && !this.mdxDialog.isDestroyed) {\n      this.mdxDialog.destroy();\n    }\n\n    if (this.chartMenu && !this.chartMenu.isDestroyed) {\n      this.chartMenu.destroy();\n    }\n\n    if (this.chartTypesDialog && !this.chartTypesDialog.isDestroyed) {\n      this.chartTypesDialog.destroy();\n    }\n\n    if (this.exportMenu && !this.exportMenu.isDestroyed) {\n      this.exportMenu.destroy();\n    }\n\n    if (this.subTotalMenu && !this.subTotalMenu.isDestroyed) {\n      this.subTotalMenu.destroy();\n    }\n\n    if (this.grandTotalMenu && !this.grandTotalMenu.isDestroyed) {\n      this.grandTotalMenu.destroy();\n    }\n\n    if (this.formattingMenu && !this.formattingMenu.isDestroyed) {\n      this.formattingMenu.destroy();\n    }\n\n    if (this.reportList && !this.reportList.isDestroyed) {\n      this.reportList.destroy();\n    }\n\n    if (this.toolbar && !this.toolbar.isDestroyed) {\n      this.toolbar.destroy();\n    }\n\n    if (select('#' + this.parent.element.id + 'pivot-toolbar', document)) {\n      remove(select('#' + this.parent.element.id + 'pivot-toolbar', document));\n    }\n  };\n\n  Toolbar.prototype.focusToolBar = function () {\n    removeClass(document.querySelector('.' + cls.GRID_TOOLBAR).querySelectorAll('.e-menu-item.e-focused'), 'e-focused');\n    removeClass(document.querySelector('.' + cls.GRID_TOOLBAR).querySelectorAll('.e-menu-item.e-selected'), 'e-selected');\n\n    if (document.querySelector('.e-toolbar-items')) {\n      addClass([document.querySelector('.e-toolbar-items')], 'e-focused');\n    }\n  };\n\n  return Toolbar;\n}();\n\nexport { Toolbar };","map":{"version":3,"sources":["/workspace/Commb-olap-poc/commb-olap-js/node_modules/@syncfusion/ej2-pivotview/src/common/popups/toolbar.js"],"names":["Toolbar","tool","Menu","remove","createElement","formatUnit","isBlazor","getInstance","addClass","removeClass","select","events","Dialog","DropDownList","cls","Deferred","CheckBox","PdfPageOrientation","PivotUtil","parent","isMultiAxisChange","currentReport","toolbarModule","addEventListener","prototype","getModuleName","createToolbar","isModified","renderDialog","element","id","document","className","GRID_TOOLBAR","showFieldList","insertBefore","showGroupingBar","toolbar","created","create","bind","enableRtl","locale","items","getItems","allowKeyboard","width","gridSettings","allowAutoResizing","grid","getGridWidthAsNumber","getWidthAsNumber","isStringTemplate","viewStr","registerTemp","toolbarTemplate","appendTo","replaceChild","querySelector","classList","add","chart","setProperties","toString","groupingBarModule","GROUPING_BAR_CLASS","refreshUI","fetchReports","reports","reportName","fetchReportsArgs","then","e","reportList","dataSource","trigger","fetchReport","callbackPromise","observedArgs","resolve","filter","v","i","a","indexOf","_i","toolbar_1","length","item","push","prefixIcon","GRID_NEW","ICON","tooltipText","localeObj","getConstant","click","actionClick","GRID_SAVE","GRID_SAVEAS","GRID_RENAME","GRID_REMOVE","template","GRID_LOAD","toDisable","displayOption","view","TOOLBAR_GRID","cssClass","MENU_DISABLE","menuItemClick","validTypes","dataType","GRID_MDX","GRID_FORMATTING","FORMATTING_TOOLBAR","TOOLBAR_FIELDLIST","align","style","display","toolbarArgs","customToolbar","toolbarRender","reportChange","args","dropArgs","createConfirmDialog","reportLoad","_this_1","action","loadArgs","itemData","value","loadReport","saveReport","saveArgs","report","getPersistData","pivotCommon","errorDialog","createErrorDialog","dialogShow","mdxQueryDialog","mdxDialog","isDestroyed","renderMDXDialog","outerDiv","MDX_QUERY","textarea","MDX_QUERY_CONTENT","innerHTML","olapEngineModule","getMDXQuery","dataSourceSettings","trim","attrs","appendChild","content","show","dialog","header","GRID_REPORT_OUTER","label","GRID_REPORT_LABEL","input","GRID_REPORT_INPUT","INPUT","setSelectionRange","textContent","refresh","renameReport","toolbarClick","newArgs","createNewReport","pivotFieldListModule","dialogRenderer","fieldListDialog","conditionalFormattingModule","showConditionalFormattingDialog","numberFormattingModule","showNumberFormattingDialog","GRID_REPORT_DIALOG","animationSettings","effect","allowDragging","position","X","Y","buttons","okBtnClick","buttonModel","isPrimary","cancelBtnClick","isModal","visible","showCloseIcon","height","zIndex","closeOnEscape","target","body","GRID_MDX_DIALOG","copyMDXQuery","textArea","execCommand","err","window","alert","reportInput","focus","isExist_1","_this_2","updateReportList","hide","isExist_2","_this_3","reports_1","newReport","columns","rows","values","filters","isExist_3","_this_4","renameText","renameArgs","rename","title","description","getElementById","parentElement","ERROR_DIALOG_CLASS","confirmPopUp","OK_BUTTON_CLASS","okButtonClick","CANCEL_BUTTON_CLASS","cancelButtonClick","removeArgs","removeReport","isReportExists","createChartMenu","menuItems","types","getValidChartType","type","text","toLowerCase","splice","separator","menu","iconCss","TOOLBAR_CHART","chartMenu","destroy","beforeOpen","whitespaceRemove","onClose","focusToolBar","beforeItemRender","multipleAxesCheckbox","GRID_EXPORT","GRID_PDF_EXPORT","GRID_EXCEL_EXPORT","GRID_CSV_EXPORT","GRID_PNG_EXPORT","GRID_JPEG_EXPORT","GRID_SVG_EXPORT","exportMenu","updateExportMenu","GRID_SUB_TOTAL","PIVOT_SELECT_ICON","subTotalMenu","updateSubtotalSelection","GRID_GRAND_TOTAL","grandTotalMenu","updateGrandtotalSelection","FORMATTING_MENU","NUMBER_FORMATTING_MENU","CONDITIONAL_FORMATTING_MENU","formattingMenu","pivotData","JSON","parse","getClonedDataSourceSettings","stringify","popupHeight","placeholder","REPORT_LIST_DROP","updateItemElements","itemElements","slice","call","querySelectorAll","itemElements_1","setAttribute","padding","margin","inputCheckbox","checkbox","checked","chartSettings","enableMultipleAxis","innerText","chartSeries","contains","disabled","checkboxObj","getLableState","legendSettings","undefined","showLableState","getAllChartItems","currentView","MENU_HIDE","PIVOT_DISABLE_ICON","showSubTotals","showRowSubTotals","showColumnSubTotals","showGrandTotals","showRowGrandTotals","showColumnGrandTotals","_this_5","exportArgs","split","enableScrollOnMultiAxis","primary","layoutRefresh","pdfExportProperties","fileName","pdfDoc","isBlob","isMultipleExport","beforeExport","pdfProperties","formatPdfExportProperties","pdfExport","orientation","Landscape","chartExport","excelExportProperties","workbook","excelProperties","formatExcelExportProperties","excelExport","csvExport","refreshData","createChartTypeDialog","updateChartType","on","initToolbar","chartTypes","chartDialog","PIVOTCHART_TYPE_DIALOG","chartTypesDialog","getDialogContent","chartTypeDialogUpdate","removeDialog","close","chartType","checkedShow","chartLableState","multipleAxisMode","isMultiAxis","chartModule","updateView","mainWrapper","optionWrapperDiv","axisModeWrapperDiv","optionTextDiv","axisModeTextDiv","dropOptionDiv","dropModeOptionDiv","chartTypeDatasource","multipleAxisModeDatasource","optionWrapper","fields","change","changeDropDown","checkboxWrap","labelCheckboxWrap","axisModeWrapper","enabled","multipleAxisCheckBox","checkbox1","refreshToolbar","removeEventListener","off"],"mappings":"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","sourcesContent":["import { Toolbar as tool, Menu } from '@syncfusion/ej2-navigations';\nimport { remove, createElement, formatUnit, isBlazor, getInstance, addClass, removeClass, select } from '@syncfusion/ej2-base';\nimport * as events from '../../common/base/constant';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as cls from '../../common/base/css-constant';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { PdfPageOrientation } from '@syncfusion/ej2-pdf-export';\nimport { PivotUtil } from '../../base/util';\n/**\n * Module for Toolbar\n */\n/** @hidden */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        /** @hidden */\n        this.isMultiAxisChange = false;\n        this.currentReport = '';\n        this.parent = parent;\n        this.parent.toolbarModule = this;\n        this.addEventListener();\n    }\n    /**\n     * It returns the Module name.\n     * @returns {string} - string\n     * @hidden\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.createToolbar = function () {\n        this.parent.isModified = false;\n        this.renderDialog();\n        if (select('#' + this.parent.element.id + 'pivot-toolbar', document) !== null) {\n            remove(select('#' + this.parent.element.id + 'pivot-toolbar', document));\n        }\n        var element = createElement('div', {\n            id: this.parent.element.id + 'pivot-toolbar',\n            className: cls.GRID_TOOLBAR\n        });\n        if (this.parent.showFieldList && select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element)) {\n            this.parent.element.insertBefore(element, select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element));\n        }\n        else if (this.parent.showGroupingBar &&\n            select('#' + this.parent.element.id + ' .' + 'e-pivot-grouping-bar', this.parent.element)) {\n            this.parent.element.insertBefore(element, select('#' + this.parent.element.id + ' .' + 'e-pivot-grouping-bar', this.parent.element));\n        }\n        else {\n            this.parent.element.insertBefore(element, select('#' + this.parent.element.id + '_grid', this.parent.element));\n        }\n        this.toolbar = new tool({\n            created: this.create.bind(this),\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            items: this.getItems(),\n            allowKeyboard: false,\n            width: !this.parent.gridSettings.allowAutoResizing ? (this.parent.grid ? (this.parent.getGridWidthAsNumber() - 2) : (this.parent.getWidthAsNumber() - 2)) : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        var viewStr = 'viewContainerRef';\n        var registerTemp = 'registeredTemplate';\n        /* eslint-disable */\n        if (this.parent[viewStr]) {\n            this.toolbar[registerTemp] = {};\n            this.toolbar[viewStr] = this.parent[viewStr];\n        }\n        /* eslint-enable */\n        if (this.parent.toolbarTemplate && typeof (this.parent.toolbarTemplate) === 'string') {\n            this.toolbar.appendTo(this.parent.toolbarTemplate);\n            this.parent.element.replaceChild(this.toolbar.element, this.parent.element.querySelector('.' + cls.GRID_TOOLBAR));\n            this.toolbar.element.classList.add(cls.GRID_TOOLBAR);\n        }\n        else {\n            this.toolbar.appendTo('#' + this.parent.element.id + 'pivot-toolbar');\n            this.toolbar.width = this.parent.grid ? (this.parent.getGridWidthAsNumber() - 2) : (this.parent.getWidthAsNumber() - 2);\n        }\n        if (this.parent.chart) {\n            this.parent.chart.setProperties({ width: this.parent.grid ? this.parent.getGridWidthAsNumber().toString() : this.parent.getWidthAsNumber().toString() }, true);\n        }\n        if (this.parent.showGroupingBar && this.parent.groupingBarModule &&\n            this.parent.element.querySelector('.' + cls.GROUPING_BAR_CLASS)) {\n            this.parent.groupingBarModule.refreshUI();\n        }\n    };\n    Toolbar.prototype.fetchReports = function () {\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        var reports = { reportName: [] };\n        var tool = this; /* eslint-disable-line */\n        if (isBlazor()) {\n            reports = this.fetchReportsArgs();\n            reports.then(function (e) {\n                tool.reportList.dataSource = e.reportName;\n                return e;\n            });\n        }\n        else {\n            /* eslint-enable @typescript-eslint/no-explicit-any */\n            this.parent.trigger(events.fetchReport, reports);\n        }\n        return reports;\n    };\n    Toolbar.prototype.fetchReportsArgs = function () {\n        var callbackPromise = new Deferred();\n        var reports = { reportName: [] };\n        this.parent.trigger(events.fetchReport, reports, function (observedArgs) {\n            callbackPromise.resolve(observedArgs);\n        });\n        return callbackPromise;\n    };\n    /* eslint-disable */\n    Toolbar.prototype.getItems = function () {\n        var toolbar = this.parent.toolbar.filter(function (v, i, a) { return a.indexOf(v) === i; });\n        var items = [];\n        for (var _i = 0, toolbar_1 = toolbar; _i < toolbar_1.length; _i++) {\n            var item = toolbar_1[_i];\n            switch (item) {\n                case 'New':\n                    items.push({\n                        prefixIcon: cls.GRID_NEW + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('new'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'new'\n                    });\n                    break;\n                case 'Save':\n                    items.push({\n                        prefixIcon: cls.GRID_SAVE + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('save'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'save'\n                    });\n                    break;\n                case 'SaveAs':\n                    items.push({\n                        prefixIcon: cls.GRID_SAVEAS + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('saveAs'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'saveas'\n                    });\n                    break;\n                case 'Rename':\n                    items.push({\n                        prefixIcon: cls.GRID_RENAME + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('rename'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'rename'\n                    });\n                    break;\n                case 'Remove':\n                    items.push({\n                        prefixIcon: cls.GRID_REMOVE + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('deleteReport'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'remove'\n                    });\n                    break;\n                case 'Load':\n                    items.push({\n                        template: '<div><input class=' + cls.GRID_LOAD + ' id=' + this.parent.element.id + '_reportlist></input></div>',\n                        click: this.actionClick.bind(this),\n                        id: this.parent.element.id + 'load'\n                    });\n                    break;\n                case 'Grid':\n                    var toDisable = this.parent.displayOption.view === 'Chart';\n                    items.push({\n                        prefixIcon: cls.TOOLBAR_GRID + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('grid'),\n                        id: this.parent.element.id + 'grid', cssClass: toDisable ? cls.MENU_DISABLE : '',\n                        click: this.menuItemClick.bind(this)\n                    });\n                    break;\n                case 'Chart':\n                    var validTypes = (this.parent.displayOption.view === 'Table');\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'chart_menu\"></ul>',\n                        id: this.parent.element.id + 'chartmenu', cssClass: validTypes ? cls.MENU_DISABLE : ''\n                    });\n                    break;\n                case 'MDX':\n                    if (this.parent.dataType === 'olap') {\n                        items.push({\n                            prefixIcon: cls.GRID_MDX + ' ' + cls.ICON, id: this.parent.element.id + 'mdxQuery',\n                            click: this.actionClick.bind(this), tooltipText: this.parent.localeObj.getConstant('mdxQuery')\n                        });\n                    }\n                    break;\n                case 'Export':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'export_menu\"></ul>',\n                        id: this.parent.element.id + 'exportmenu'\n                    });\n                    break;\n                case 'SubTotal':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'subtotal_menu\"></ul>',\n                        id: this.parent.element.id + 'subtotalmenu'\n                    });\n                    break;\n                case 'GrandTotal':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'grandtotal_menu\"></ul>',\n                        id: this.parent.element.id + 'grandtotalmenu'\n                    });\n                    break;\n                case 'ConditionalFormatting':\n                    items.push({\n                        prefixIcon: cls.GRID_FORMATTING + ' ' + cls.ICON, id: this.parent.element.id + 'formatting',\n                        click: this.actionClick.bind(this), tooltipText: this.parent.localeObj.getConstant('toolbarFormatting')\n                    });\n                    break;\n                case 'NumberFormatting':\n                    items.push({\n                        prefixIcon: cls.FORMATTING_TOOLBAR + ' ' + cls.ICON, id: this.parent.element.id + 'numberFormatting',\n                        click: this.actionClick.bind(this), tooltipText: this.parent.localeObj.getConstant('numberFormat')\n                    });\n                    break;\n                case 'Formatting':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'formatting_menu\"></ul>',\n                        id: this.parent.element.id + 'formattingmenu'\n                    });\n                    break;\n                case 'FieldList':\n                    items.push({\n                        prefixIcon: cls.TOOLBAR_FIELDLIST + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('fieldList'),\n                        click: this.actionClick.bind(this), align: 'Right', id: this.parent.element.id + 'fieldlist'\n                    });\n                    if (this.parent.element.querySelector('.e-toggle-field-list')) {\n                        this.parent.element.querySelector('.e-toggle-field-list').style.display = 'none';\n                    }\n                    break;\n                default:\n                    if (typeof (item) === 'object') {\n                        items.push(item);\n                    }\n            }\n        }\n        if (this.parent.showFieldList && toolbar.indexOf('FieldList') === -1 && select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element) &&\n            select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element).style.display === 'none') {\n            select('#' + this.parent.element.id + '_PivotFieldList', this.parent.element).style.display = 'block';\n        }\n        var toolbarArgs = { customToolbar: items };\n        this.parent.trigger(events.toolbarRender, toolbarArgs);\n        return items;\n    };\n    /* eslint-enable */\n    Toolbar.prototype.reportChange = function (args) {\n        this.dropArgs = args;\n        if (this.parent.isModified && this.currentReport !== '') {\n            this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('newReportConfirm'));\n        }\n        else {\n            this.reportLoad(args);\n        }\n    };\n    Toolbar.prototype.reportLoad = function (args) {\n        var _this_1 = this;\n        if (this.action !== 'Save' && this.action !== 'Rename' && this.action !== 'New') {\n            var loadArgs = {\n                reportName: args.itemData.value\n            };\n            this.parent.trigger(events.loadReport, loadArgs, function (observedArgs) {\n                _this_1.currentReport = observedArgs.reportName;\n                _this_1.parent.isModified = false;\n            });\n        }\n    };\n    Toolbar.prototype.saveReport = function (args) {\n        if (this.currentReport && this.currentReport !== '' && args.item.id === (this.parent.element.id + 'save')) {\n            var saveArgs = {\n                report: this.parent.getPersistData(),\n                reportName: this.currentReport\n            };\n            this.parent.trigger(events.saveReport, saveArgs);\n            this.parent.isModified = false;\n        }\n        else if (this.currentReport === '' && (args.item.id === (this.parent.element.id + 'save') || args.item.id === (this.parent.element.id + 'saveas'))) {\n            this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('emptyReport'));\n            return;\n        }\n        else {\n            this.dialogShow(args, 'saveAs');\n        }\n    };\n    Toolbar.prototype.mdxQueryDialog = function (args) {\n        if (!(this.mdxDialog && !this.mdxDialog.isDestroyed)) {\n            this.renderMDXDialog();\n        }\n        var outerDiv = createElement('div', {\n            className: cls.MDX_QUERY\n        });\n        var textarea = createElement('textarea', {\n            className: cls.MDX_QUERY_CONTENT,\n            innerHTML: this.parent.olapEngineModule.getMDXQuery(this.parent.dataSourceSettings).trim(),\n            attrs: { 'readonly': 'readonly' }\n        });\n        outerDiv.appendChild(textarea);\n        this.mdxDialog.content = outerDiv;\n        this.mdxDialog.show();\n    };\n    Toolbar.prototype.dialogShow = function (args, action) {\n        if (args) {\n            this.dialog.header = args.item.tooltipText;\n            var outerDiv = createElement('div', {\n                className: cls.GRID_REPORT_OUTER\n            });\n            var label = createElement('div', {\n                className: cls.GRID_REPORT_LABEL,\n                innerHTML: this.parent.localeObj.getConstant('reportName')\n            });\n            var input = createElement('input', {\n                className: cls.GRID_REPORT_INPUT + ' ' + cls.INPUT,\n                innerHTML: (action && action === 'rename' ? this.currentReport : ''),\n                attrs: {\n                    'placeholder': this.parent.localeObj.getConstant('emptyReportName'),\n                    'value': (action && action === 'rename' ? this.currentReport : '')\n                }\n            });\n            input.setSelectionRange(input.textContent.length, input.textContent.length);\n            outerDiv.appendChild(label);\n            outerDiv.appendChild(input);\n            this.dialog.content = outerDiv;\n            this.dialog.refresh();\n            this.dialog.show();\n        }\n    };\n    Toolbar.prototype.renameReport = function (args) {\n        this.parent.trigger(events.toolbarClick, args);\n        if (this.currentReport && this.currentReport !== '') {\n            this.dialogShow(args, 'rename');\n        }\n        else {\n            this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('emptyReport'));\n            return;\n        }\n    };\n    Toolbar.prototype.actionClick = function (args) {\n        switch (args.item.id) {\n            case (this.parent.element.id + 'save'):\n            case (this.parent.element.id + 'saveas'):\n                this.saveReport(args);\n                break;\n            case (this.parent.element.id + 'remove'):\n                this.action = 'Remove';\n                if (this.currentReport && this.currentReport !== '') {\n                    this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('removeConfirm'));\n                }\n                else {\n                    this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('emptyReport'));\n                }\n                return;\n            case (this.parent.element.id + 'rename'):\n                this.renameReport(args);\n                break;\n            case (this.parent.element.id + 'new'):\n                this.action = 'New';\n                this.newArgs = args;\n                if (this.parent.isModified && this.currentReport && this.currentReport !== '') {\n                    this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('newReportConfirm'));\n                }\n                else {\n                    this.createNewReport(args);\n                }\n                break;\n            case (this.parent.element.id + 'load'):\n                this.action = 'Load';\n                break;\n            case (this.parent.element.id + 'fieldlist'):\n                if (this.parent.pivotFieldListModule && this.parent.pivotFieldListModule.dialogRenderer) {\n                    this.parent.pivotFieldListModule.dialogRenderer.fieldListDialog.show();\n                }\n                break;\n            case (this.parent.element.id + 'formatting'):\n                if (this.parent.conditionalFormattingModule) {\n                    this.parent.conditionalFormattingModule.showConditionalFormattingDialog();\n                }\n                break;\n            case (this.parent.element.id + 'mdxQuery'):\n                this.mdxQueryDialog(args);\n                break;\n            case (this.parent.element.id + 'numberFormatting'):\n                if (this.parent.numberFormattingModule) {\n                    this.parent.numberFormattingModule.showNumberFormattingDialog();\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.renderDialog = function () {\n        if (select('#' + this.parent.element.id + 'report-dialog', document) !== null) {\n            remove(select('#' + this.parent.element.id + 'report-dialog', document));\n        }\n        this.parent.element.appendChild(createElement('div', {\n            id: this.parent.element.id + 'report-dialog',\n            className: cls.GRID_REPORT_DIALOG\n        }));\n        this.dialog = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.okBtnClick.bind(this),\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('ok'),\n                        isPrimary: true\n                    }\n                },\n                {\n                    click: this.cancelBtnClick.bind(this),\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('cancel')\n                    }\n                }\n            ],\n            isModal: true,\n            visible: false,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            width: 'auto',\n            height: 'auto',\n            zIndex: 1000001,\n            closeOnEscape: true,\n            target: document.body\n        });\n        this.dialog.isStringTemplate = true;\n        this.dialog.appendTo('#' + this.parent.element.id + 'report-dialog');\n    };\n    Toolbar.prototype.renderMDXDialog = function () {\n        if (select('#' + this.parent.element.id + 'mdx-dialog', document) !== null) {\n            remove(select('#' + this.parent.element.id + 'mdx-dialog', document));\n        }\n        this.parent.element.appendChild(createElement('div', {\n            id: this.parent.element.id + 'mdx-dialog',\n            className: cls.GRID_MDX_DIALOG\n        }));\n        this.mdxDialog = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.copyMDXQuery.bind(this),\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('copy'),\n                        isPrimary: true\n                    }\n                }\n            ],\n            header: this.parent.localeObj.getConstant('mdxQuery'),\n            isModal: true,\n            visible: false,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            width: 'auto',\n            height: 'auto',\n            zIndex: 1000001,\n            closeOnEscape: true,\n            target: document.body\n        });\n        this.mdxDialog.isStringTemplate = true;\n        this.mdxDialog.appendTo('#' + this.parent.element.id + 'mdx-dialog');\n    };\n    Toolbar.prototype.copyMDXQuery = function () {\n        var textArea = this.mdxDialog.element.querySelector('.' + cls.MDX_QUERY_CONTENT);\n        try {\n            textArea.select();\n            document.execCommand('copy');\n        }\n        catch (err) {\n            window.alert('Oops, unable to copy');\n        }\n        return;\n    };\n    Toolbar.prototype.okBtnClick = function () {\n        var reportInput = this.dialog.element.querySelector('.' + cls.GRID_REPORT_INPUT);\n        if (reportInput && reportInput.value === '') {\n            reportInput.focus();\n            return;\n        }\n        if ((this.dialog.header === this.parent.localeObj.getConstant('save') ||\n            this.dialog.header === this.parent.localeObj.getConstant('saveAs')) &&\n            reportInput.value && reportInput.value !== '') {\n            this.action = 'Save';\n            this.currentReport = reportInput.value;\n            var isExist_1 = false;\n            /* eslint-disable */\n            var _this_2 = this;\n            /* eslint-enable */\n            var reports = { reportName: [] };\n            this.parent.trigger(events.fetchReport, reports, function (observedArgs) {\n                for (var i = 0; i < observedArgs.reportName.length; i++) {\n                    if (reportInput.value === observedArgs.reportName[i]) {\n                        isExist_1 = true;\n                        break;\n                    }\n                }\n                if (isExist_1) {\n                    _this_2.createConfirmDialog(_this_2.parent.localeObj.getConstant('alert'), _this_2.parent.localeObj.getConstant('replaceConfirmBefore') + '\"' + reportInput.value + '\"' +\n                        _this_2.parent.localeObj.getConstant('replaceConfirmAfter'));\n                    return;\n                }\n                var saveArgs = {\n                    report: _this_2.parent.getPersistData(),\n                    reportName: reportInput.value\n                };\n                _this_2.parent.trigger(events.saveReport, saveArgs);\n                _this_2.parent.isModified = false;\n                _this_2.updateReportList();\n                _this_2.dialog.hide();\n            });\n        }\n        else if (this.dialog.header === this.parent.localeObj.getConstant('new') &&\n            reportInput.value && reportInput.value !== '') {\n            this.action = 'New';\n            this.currentReport = reportInput.value;\n            var isExist_2 = false;\n            /* eslint-disable */\n            var _this_3 = this;\n            /* eslint-enable */\n            var reports_1 = { reportName: [] };\n            this.parent.trigger(events.fetchReport, reports_1, function (observedArgs) {\n                for (var i = 0; i < observedArgs.reportName.length; i++) {\n                    if (reportInput.value === reports_1.reportName[i]) {\n                        isExist_2 = true;\n                        break;\n                    }\n                }\n                if (isExist_2) {\n                    _this_3.createConfirmDialog(_this_3.parent.localeObj.getConstant('alert'), _this_3.parent.localeObj.getConstant('replaceConfirmBefore') + '\"' + reportInput.value + '\"' +\n                        _this_3.parent.localeObj.getConstant('replaceConfirmAfter'));\n                    return;\n                }\n                _this_3.parent.trigger(events.newReport);\n                if (isBlazor()) {\n                    _this_3.parent.setProperties({ dataSourceSettings: { columns: [], rows: [], values: [], filters: [] } }, false);\n                }\n                var saveArgs = {\n                    report: _this_3.parent.getPersistData(),\n                    reportName: reportInput.value\n                };\n                _this_3.parent.trigger(events.saveReport, saveArgs);\n                _this_3.parent.isModified = false;\n                _this_3.updateReportList();\n                _this_3.dialog.hide();\n            });\n        }\n        else if (this.dialog.header === this.parent.localeObj.getConstant('rename') && reportInput.value && reportInput.value !== '') {\n            if (this.currentReport === reportInput.value) {\n                this.dialog.hide();\n                return;\n            }\n            this.action = 'Rename';\n            var isExist_3 = false;\n            /* eslint-disable */\n            var _this_4 = this;\n            /* eslint-enable */\n            var reports = { reportName: [] };\n            this.parent.trigger(events.fetchReport, reports, function (observedArgs) {\n                _this_4.renameText = reportInput.value;\n                for (var i = 0; i < observedArgs.reportName.length; i++) {\n                    if (reportInput.value === observedArgs.reportName[i]) {\n                        isExist_3 = true;\n                        break;\n                    }\n                }\n                if (isExist_3) {\n                    _this_4.createConfirmDialog(_this_4.parent.localeObj.getConstant('alert'), _this_4.parent.localeObj.getConstant('replaceConfirmBefore') + '\"' + reportInput.value + '\"' +\n                        _this_4.parent.localeObj.getConstant('replaceConfirmAfter'));\n                    return;\n                }\n                var renameArgs = {\n                    reportName: _this_4.currentReport,\n                    rename: reportInput.value\n                };\n                _this_4.parent.trigger(events.renameReport, renameArgs);\n                _this_4.currentReport = reportInput.value;\n                _this_4.updateReportList();\n                _this_4.dialog.hide();\n            });\n        }\n    };\n    Toolbar.prototype.createNewReport = function (args) {\n        this.dialogShow(args);\n    };\n    Toolbar.prototype.cancelBtnClick = function () {\n        this.dialog.hide();\n    };\n    Toolbar.prototype.createConfirmDialog = function (title, description) {\n        if (document.getElementById(this.parent.element.id + '_ConfirmDialog')) {\n            remove(document.getElementById(this.parent.element.id + '_ConfirmDialog').parentElement);\n        }\n        var errorDialog = createElement('div', {\n            id: this.parent.element.id + '_ConfirmDialog',\n            className: cls.ERROR_DIALOG_CLASS\n        });\n        this.parent.element.appendChild(errorDialog);\n        this.confirmPopUp = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            header: title,\n            content: description,\n            isModal: true,\n            visible: true,\n            closeOnEscape: true,\n            target: document.body,\n            width: 'auto',\n            height: 'auto',\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('yes'), isPrimary: true,\n                        cssClass: cls.OK_BUTTON_CLASS\n                    },\n                    click: this.okButtonClick.bind(this)\n                },\n                {\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('no'),\n                        cssClass: cls.CANCEL_BUTTON_CLASS\n                    },\n                    click: this.cancelButtonClick.bind(this)\n                }\n            ]\n        });\n        this.confirmPopUp.isStringTemplate = true;\n        this.confirmPopUp.appendTo(errorDialog);\n        this.confirmPopUp.element.querySelector('.e-dlg-header').innerHTML = title;\n    };\n    Toolbar.prototype.okButtonClick = function () {\n        var _this_1 = this;\n        if (this.action === 'Remove') {\n            var removeArgs = {\n                reportName: this.currentReport\n            };\n            this.parent.trigger(events.removeReport, removeArgs);\n            var reports = this.fetchReports();\n            if (reports.reportName && reports.reportName.length > 0) {\n                var loadArgs = {\n                    reportName: reports.reportName[reports.reportName.length - 1]\n                };\n                this.parent.trigger(events.loadReport, loadArgs, function (observedArgs) {\n                    _this_1.currentReport = observedArgs.reportName;\n                    _this_1.parent.isModified = false;\n                });\n                this.currentReport = reports.reportName[reports.reportName.length - 1];\n            }\n            else {\n                this.currentReport = '';\n                this.parent.isModified = false;\n                this.action = '';\n            }\n            this.updateReportList();\n        }\n        else if (this.action === 'New' || (this.action !== 'Save' && this.action !== 'Rename' && this.action !== 'New')) {\n            if (this.currentReport && this.currentReport !== '' && this.parent.isModified) {\n                var saveArgs = {\n                    report: this.parent.getPersistData(),\n                    reportName: this.currentReport\n                };\n                this.parent.trigger(events.saveReport, saveArgs);\n                this.parent.isModified = false;\n                if (this.action === 'New') {\n                    this.createNewReport(this.newArgs);\n                }\n                else {\n                    this.reportLoad(this.dropArgs);\n                }\n            }\n            else if (this.action === 'New') {\n                this.parent.trigger(events.newReport);\n                if (isBlazor()) {\n                    this.parent.setProperties({ dataSourceSettings: { columns: [], rows: [], values: [], filters: [] } }, false);\n                }\n                var saveArgs = {\n                    report: this.parent.getPersistData(),\n                    reportName: this.currentReport\n                };\n                this.parent.trigger(events.saveReport, saveArgs);\n                this.parent.isModified = false;\n                this.updateReportList();\n                this.dialog.hide();\n            }\n        }\n        else if (this.action === 'Save') {\n            var saveArgs = {\n                report: this.parent.getPersistData(),\n                reportName: this.currentReport\n            };\n            this.parent.trigger(events.saveReport, saveArgs);\n            this.parent.isModified = false;\n            this.updateReportList();\n            this.dialog.hide();\n        }\n        else if (this.action === 'Rename') {\n            var renameArgs = {\n                reportName: this.currentReport,\n                rename: this.renameText,\n                isReportExists: true\n            };\n            this.parent.trigger(events.renameReport, renameArgs);\n            this.currentReport = this.renameText;\n            this.parent.isModified = false;\n            this.updateReportList();\n            this.dialog.hide();\n        }\n        this.confirmPopUp.hide();\n    };\n    Toolbar.prototype.cancelButtonClick = function () {\n        if (this.action === 'New') {\n            if (this.parent.isModified) {\n                this.createNewReport(this.newArgs);\n            }\n            else {\n                this.dialog.hide();\n            }\n        }\n        else if (this.action === 'Save') {\n            this.currentReport = this.reportList.value;\n            this.dialog.hide();\n        }\n        else if (this.action === 'Rename') {\n            this.dialog.hide();\n        }\n        else if (this.dropArgs && this.action !== 'Remove') {\n            this.reportLoad(this.dropArgs);\n        }\n        this.confirmPopUp.hide();\n    };\n    /* eslint-disable-next-line */\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.createChartMenu = function () {\n        var _this_1 = this;\n        if (select('#' + this.parent.element.id + 'chart_menu', document)) {\n            var menuItems = [];\n            var types = this.getValidChartType();\n            for (var i = 0; (i < types.length && i < 7); i++) {\n                var type = types[i];\n                menuItems.push({\n                    text: this.parent.localeObj.getConstant(type.toLowerCase()),\n                    id: this.parent.element.id + '_' + type\n                });\n            }\n            if (menuItems.length === 7) {\n                menuItems.splice(6);\n                menuItems.push({\n                    text: this.parent.localeObj.getConstant('MoreOption'),\n                    id: this.parent.element.id + '_' + 'ChartMoreOption'\n                });\n            }\n            var toDisable = (menuItems.length <= 0 || this.parent.displayOption.view === 'Table');\n            menuItems.push({\n                separator: true\n            });\n            menuItems.push({\n                text: this.parent.localeObj.getConstant('multipleAxes'),\n                id: this.parent.element.id + '_' + 'multipleAxes'\n            });\n            menuItems.push({\n                text: this.parent.localeObj.getConstant('showLegend'),\n                id: this.parent.element.id + '_' + 'showLegend'\n            });\n            var menu = [{\n                    iconCss: cls.TOOLBAR_CHART + ' ' + cls.ICON,\n                    items: toDisable ? [] : menuItems\n                }];\n            if (this.chartMenu && !this.chartMenu.isDestroyed) {\n                this.chartMenu.destroy();\n            }\n            this.chartMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                locale: this.parent.locale,\n                select: this.menuItemClick.bind(this),\n                beforeOpen: this.whitespaceRemove.bind(this),\n                onClose: function (args) {\n                    _this_1.focusToolBar();\n                },\n                beforeItemRender: this.multipleAxesCheckbox.bind(this)\n            });\n            this.chartMenu.isStringTemplate = true;\n            this.chartMenu.appendTo('#' + this.parent.element.id + 'chart_menu');\n        }\n    };\n    /* eslint-disable  */\n    Toolbar.prototype.create = function () {\n        var _this_1 = this;\n        if (select('#' + this.parent.element.id + 'chart_menu', this.parent.element)) {\n            this.createChartMenu();\n        }\n        if (select('#' + this.parent.element.id + 'export_menu', this.parent.element)) {\n            var menu = [{\n                    iconCss: cls.GRID_EXPORT + ' ' + cls.ICON,\n                    items: [\n                        {\n                            text: this.parent.localeObj.getConstant('pdf'),\n                            iconCss: cls.GRID_PDF_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'pdf'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('excel'),\n                            iconCss: cls.GRID_EXCEL_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'excel'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('csv'),\n                            iconCss: cls.GRID_CSV_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'csv'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('png'),\n                            iconCss: cls.GRID_PNG_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'png'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('jpeg'),\n                            iconCss: cls.GRID_JPEG_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'jpeg'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('svg'),\n                            iconCss: cls.GRID_SVG_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'svg'\n                        }\n                    ]\n                }];\n            this.exportMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                locale: this.parent.locale,\n                select: this.menuItemClick.bind(this), beforeOpen: this.updateExportMenu.bind(this),\n                onClose: function (args) {\n                    _this_1.focusToolBar();\n                }\n            });\n            this.exportMenu.isStringTemplate = true;\n            this.exportMenu.appendTo('#' + this.parent.element.id + 'export_menu');\n        }\n        if (select('#' + this.parent.element.id + 'subtotal_menu', this.parent.element)) {\n            var menu = [{\n                    iconCss: cls.GRID_SUB_TOTAL + ' ' + cls.ICON,\n                    items: [\n                        {\n                            text: this.parent.localeObj.getConstant('showSubTotals'),\n                            id: this.parent.element.id + 'subtotal',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('doNotShowSubTotals'),\n                            id: this.parent.element.id + 'notsubtotal',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('showSubTotalsRowsOnly'),\n                            id: this.parent.element.id + 'subtotalrow',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('showSubTotalsColumnsOnly'),\n                            id: this.parent.element.id + 'subtotalcolumn',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                    ]\n                }];\n            this.subTotalMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                locale: this.parent.locale,\n                select: this.menuItemClick.bind(this), beforeOpen: this.updateSubtotalSelection.bind(this),\n                onClose: function (args) {\n                    _this_1.focusToolBar();\n                }\n            });\n            this.subTotalMenu.isStringTemplate = true;\n            this.subTotalMenu.appendTo('#' + this.parent.element.id + 'subtotal_menu');\n        }\n        if (select('#' + this.parent.element.id + 'grandtotal_menu', this.parent.element)) {\n            var menu = [{\n                    iconCss: cls.GRID_GRAND_TOTAL + ' ' + cls.ICON,\n                    items: [\n                        {\n                            text: this.parent.localeObj.getConstant('showGrandTotals'),\n                            id: this.parent.element.id + 'grandtotal',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('doNotShowGrandTotals'),\n                            id: this.parent.element.id + 'notgrandtotal',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('showGrandTotalsRowsOnly'),\n                            id: this.parent.element.id + 'grandtotalrow',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('showGrandTotalsColumnsOnly'),\n                            id: this.parent.element.id + 'grandtotalcolumn',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                    ]\n                }];\n            this.grandTotalMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                locale: this.parent.locale,\n                select: this.menuItemClick.bind(this), beforeOpen: this.updateGrandtotalSelection.bind(this),\n                onClose: function (args) {\n                    _this_1.focusToolBar();\n                }\n            });\n            this.grandTotalMenu.isStringTemplate = true;\n            this.grandTotalMenu.appendTo('#' + this.parent.element.id + 'grandtotal_menu');\n        }\n        if (select('#' + this.parent.element.id + 'formatting_menu', this.parent.element)) {\n            var menu = [{\n                    iconCss: cls.FORMATTING_MENU + ' ' + cls.ICON,\n                    items: [\n                        {\n                            text: this.parent.localeObj.getConstant('numberFormatMenu'),\n                            iconCss: cls.NUMBER_FORMATTING_MENU + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'numberFormattingMenu'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('conditionalFormatingMenu'),\n                            iconCss: cls.CONDITIONAL_FORMATTING_MENU + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'conditionalFormattingMenu'\n                        }\n                    ]\n                }];\n            this.formattingMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                locale: this.parent.locale,\n                select: this.menuItemClick.bind(this)\n            });\n            this.formattingMenu.isStringTemplate = true;\n            this.formattingMenu.appendTo('#' + this.parent.element.id + 'formatting_menu');\n        }\n        if (select('#' + this.parent.element.id + '_reportlist', this.parent.element)) {\n            var saveArgs = {\n                report: this.parent.getPersistData(),\n                reportName: this.parent.localeObj.getConstant('defaultReport')\n            };\n            if (isBlazor()) {\n                var pivotData = JSON.parse(saveArgs.report);\n                pivotData.dataSourceSettings = PivotUtil.getClonedDataSourceSettings(this.parent.dataSourceSettings);\n                saveArgs.report = JSON.stringify(pivotData);\n            }\n            this.currentReport = this.parent.localeObj.getConstant('defaultReport');\n            this.parent.trigger(events.saveReport, saveArgs);\n            var reports = this.fetchReports();\n            this.reportList = new DropDownList({\n                dataSource: reports.reportName,\n                width: '150px',\n                popupHeight: '200px',\n                placeholder: this.currentReport === '' ? this.parent.localeObj.getConstant('reportList') : '',\n                enableRtl: this.parent.enableRtl,\n                locale: this.parent.locale,\n                cssClass: cls.REPORT_LIST_DROP,\n                select: this.reportChange.bind(this),\n                value: this.currentReport\n            });\n            this.reportList.isStringTemplate = true;\n            this.reportList.appendTo('#' + this.parent.element.id + '_reportlist');\n        }\n        this.updateItemElements();\n    };\n    Toolbar.prototype.updateItemElements = function () {\n        var itemElements = [].slice.call(this.toolbar.element.querySelectorAll('.e-toolbar-item'));\n        for (var _i = 0, itemElements_1 = itemElements; _i < itemElements_1.length; _i++) {\n            var element = itemElements_1[_i];\n            if (element.querySelector('button')) {\n                element.querySelector('button').setAttribute('tabindex', '0');\n            }\n            else if (element.querySelector('.e-menu.e-menu-parent')) {\n                element.querySelector('.e-menu.e-menu-parent').setAttribute('tabindex', '-1');\n                if (element.querySelector('.e-menu-item.e-menu-caret-icon')) {\n                    element.querySelector('.e-menu-item.e-menu-caret-icon').setAttribute('tabindex', '0');\n                }\n            }\n        }\n    };\n    Toolbar.prototype.whitespaceRemove = function (args) {\n        args.element.style.padding = '0px';\n        var separator = args.element.querySelector('.e-separator');\n        if (separator) {\n            separator.style.margin = '0px';\n        }\n    };\n    Toolbar.prototype.multipleAxesCheckbox = function (args) {\n        if (this.parent.element.id + '_' + 'multipleAxes' === args.element.id) {\n            var inputCheckbox = createElement('input', {\n                id: this.parent.element.id + '_' + 'checkBox'\n            });\n            inputCheckbox.style.display = 'none';\n            this.parent.element.appendChild(inputCheckbox);\n            var checkbox = new CheckBox({\n                label: this.parent.localeObj.getConstant('multipleAxes'),\n                cssClass: 'e-multipleAxes',\n                checked: this.parent.chartSettings.enableMultipleAxis,\n                enableRtl: this.parent.enableRtl,\n                locale: this.parent.locale\n            });\n            args.element.innerText = '';\n            checkbox.appendTo('#' + this.parent.element.id + '_' + 'checkBox');\n            if ((['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(this.parent.chartSettings.chartSeries.type) > -1) &&\n                !args.element.classList.contains(cls.MENU_DISABLE)) {\n                args.element.classList.add(cls.MENU_DISABLE);\n                checkbox.disabled = true;\n            }\n            else if ((['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(this.parent.chartSettings.chartSeries.type) < 0) &&\n                args.element.classList.contains(cls.MENU_DISABLE)) {\n                args.element.classList.remove(cls.MENU_DISABLE);\n                checkbox.disabled = false;\n            }\n            var checkboxObj = this.parent.element.querySelector('.e-checkbox-wrapper.e-multipleAxes');\n            args.element.appendChild(checkboxObj);\n        }\n        else if (this.parent.element.id + '_' + 'showLegend' === args.element.id) {\n            var inputCheckbox = createElement('input', {\n                id: this.parent.element.id + '_' + 'showLegendCheckBox'\n            });\n            inputCheckbox.style.display = 'none';\n            this.parent.element.appendChild(inputCheckbox);\n            var checkbox = new CheckBox({\n                label: this.parent.localeObj.getConstant('showLegend'),\n                checked: this.getLableState(this.parent.chartSettings.chartSeries.type),\n                cssClass: 'e-showLegend',\n                enableRtl: this.parent.enableRtl,\n                locale: this.parent.locale\n            });\n            args.element.innerText = '';\n            checkbox.appendTo('#' + this.parent.element.id + '_' + 'showLegendCheckBox');\n            var checkboxObj = this.parent.element.querySelector('.e-checkbox-wrapper.e-showLegend');\n            args.element.appendChild(checkboxObj);\n        }\n    };\n    Toolbar.prototype.getLableState = function (type) {\n        var chartSettings = JSON.parse(this.parent.getPersistData()).chartSettings;\n        if (chartSettings && chartSettings.legendSettings && chartSettings.legendSettings.visible !== undefined) {\n            this.showLableState = chartSettings.legendSettings.visible;\n        }\n        else {\n            this.showLableState = ['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(this.parent.chartSettings.chartSeries.type) > -1 ?\n                false : true;\n        }\n        return this.showLableState;\n    };\n    Toolbar.prototype.getAllChartItems = function () {\n        return ['Line', 'Column', 'Area', 'Bar', 'StackingColumn', 'StackingArea', 'StackingBar', 'StepLine', 'StepArea',\n            'SplineArea', 'Scatter', 'Spline', 'StackingColumn100', 'StackingBar100', 'StackingArea100', 'Bubble', 'Pareto',\n            'Polar', 'Radar', 'Pie', 'Pyramid', 'Funnel', 'Doughnut'];\n    };\n    Toolbar.prototype.updateExportMenu = function (args) {\n        var items = [].slice.call(args.element.querySelectorAll('li'));\n        if (this.parent.currentView === 'Table') {\n            addClass(items.slice(3), cls.MENU_HIDE);\n            removeClass(items.slice(1, 3), cls.MENU_HIDE);\n        }\n        else {\n            addClass(items.slice(1, 3), cls.MENU_HIDE);\n            removeClass(items.slice(3), cls.MENU_HIDE);\n        }\n    };\n    Toolbar.prototype.updateSubtotalSelection = function (args) {\n        if (!select('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            select('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!select('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            select('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!select('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            select('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!select('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            select('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (this.parent.dataSourceSettings.showSubTotals && this.parent.dataSourceSettings.showRowSubTotals && !this.parent.dataSourceSettings.showColumnSubTotals) {\n            select('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (this.parent.dataSourceSettings.showSubTotals && !this.parent.dataSourceSettings.showRowSubTotals && this.parent.dataSourceSettings.showColumnSubTotals) {\n            select('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (this.parent.dataSourceSettings.showSubTotals && this.parent.dataSourceSettings.showRowSubTotals && this.parent.dataSourceSettings.showColumnSubTotals) {\n            select('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (!this.parent.dataSourceSettings.showSubTotals || (!this.parent.dataSourceSettings.showRowSubTotals && !this.parent.dataSourceSettings.showColumnSubTotals)) {\n            select('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n    };\n    Toolbar.prototype.updateGrandtotalSelection = function (args) {\n        if (!select('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            select('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!select('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            select('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!select('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            select('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!select('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            select('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (this.parent.dataSourceSettings.showGrandTotals && this.parent.dataSourceSettings.showRowGrandTotals && !this.parent.dataSourceSettings.showColumnGrandTotals) {\n            select('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (this.parent.dataSourceSettings.showGrandTotals && !this.parent.dataSourceSettings.showRowGrandTotals && this.parent.dataSourceSettings.showColumnGrandTotals) {\n            select('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (this.parent.dataSourceSettings.showGrandTotals && this.parent.dataSourceSettings.showRowGrandTotals && this.parent.dataSourceSettings.showColumnGrandTotals) {\n            select('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (!this.parent.dataSourceSettings.showGrandTotals || (!this.parent.dataSourceSettings.showRowGrandTotals && !this.parent.dataSourceSettings.showColumnGrandTotals)) {\n            select('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON, args.element).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n    };\n    /* eslint-enable max-len */\n    Toolbar.prototype.updateReportList = function () {\n        var reports;\n        if (isBlazor()) {\n            /* eslint-disable */\n            var _this_5 = this;\n            /* eslint-enable */\n            reports = { reportName: [] };\n            this.parent.trigger(events.fetchReport, reports, function (observedArgs) {\n                _this_5.reportList.dataSource = observedArgs.reportName;\n                if (_this_5.currentReport === '' && _this_5.reportList.dataSource.length > 0) {\n                    _this_5.reportList.value = _this_5.reportList.dataSource[_this_5.reportList.dataSource.length - 1];\n                    _this_5.reportList.text = _this_5.reportList.dataSource[_this_5.reportList.dataSource.length - 1];\n                    _this_5.currentReport = _this_5.reportList.dataSource[_this_5.reportList.dataSource.length - 1];\n                }\n                else {\n                    _this_5.reportList.value = _this_5.currentReport;\n                    _this_5.reportList.text = _this_5.currentReport;\n                }\n                _this_5.reportList.refresh();\n            });\n        }\n        else {\n            reports = this.fetchReports();\n            this.reportList.dataSource = reports.reportName;\n            if (this.currentReport === '' && this.reportList.dataSource.length > 0) {\n                this.reportList.value = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n                this.reportList.text = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n                this.currentReport = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n            }\n            else {\n                this.reportList.value = this.currentReport;\n                this.reportList.text = this.currentReport;\n            }\n            this.reportList.refresh();\n        }\n    };\n    /* eslint-disable  */\n    Toolbar.prototype.menuItemClick = function (args) {\n        var _this_1 = this;\n        var exportArgs = {};\n        var type;\n        if (this.getAllChartItems().indexOf(args.item.id.split(this.parent.element.id + '_')[1]) > -1 ||\n            (args.item.id.split(this.parent.element.id + '_')[1] === 'ChartMoreOption') ||\n            (args.item.id.split(this.parent.element.id + '_')[1] === 'multipleAxes') ||\n            (args.item.id.split(this.parent.element.id + '_')[1] === 'showLegend')) {\n            type = args.item.id.split(this.parent.element.id + '_')[1];\n        }\n        switch (args.item.id) {\n            case (this.parent.element.id + 'grid'):\n                if (this.parent.grid && this.parent.chart) {\n                    this.parent.grid.element.style.display = '';\n                    this.parent.chart.element.style.display = 'none';\n                    if (this.parent.chartSettings.enableMultipleAxis && this.parent.chartSettings.enableScrollOnMultiAxis) {\n                        this.parent.element.querySelector('.e-pivotchart').style.display = 'none';\n                    }\n                    this.parent.currentView = 'Table';\n                    this.parent.setProperties({ displayOption: { primary: 'Table' } }, true);\n                    if (this.parent.showGroupingBar && this.parent.groupingBarModule) {\n                        this.parent.element.querySelector('.e-pivot-grouping-bar').style.display = '';\n                        this.parent.element.querySelector('.e-chart-grouping-bar').style.display = 'none';\n                    }\n                    this.parent.layoutRefresh();\n                }\n                if (isBlazor() && this.parent.element.querySelector('.e-toggle-field-list') && this.parent.toolbar.indexOf('FieldList') !== -1) {\n                    this.parent.element.querySelector('.e-toggle-field-list').style.display = 'none';\n                }\n                break;\n            case (this.parent.element.id + 'pdf'):\n                if (this.parent.currentView === 'Table') {\n                    exportArgs = {\n                        pdfExportProperties: { fileName: 'Export.pdf' },\n                        pdfDoc: undefined,\n                        isBlob: false,\n                        isMultipleExport: false\n                    };\n                    this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n                        if (isBlazor()) {\n                            var pdfProperties = PivotUtil.formatPdfExportProperties(observedArgs.pdfExportProperties);\n                            _this_1.parent.pdfExport(pdfProperties, observedArgs.isMultipleExport, observedArgs.pdfDoc, observedArgs.isBlob);\n                        }\n                        else {\n                            _this_1.parent.pdfExport(observedArgs.pdfExportProperties, observedArgs.isMultipleExport, observedArgs.pdfDoc, observedArgs.isBlob);\n                        }\n                    });\n                }\n                else {\n                    exportArgs = {\n                        width: undefined,\n                        height: undefined,\n                        orientation: PdfPageOrientation.Landscape,\n                        type: 'PDF',\n                        fileName: 'result',\n                    };\n                    this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n                        _this_1.parent.chartExport(observedArgs.type, observedArgs.fileName, observedArgs.orientation, observedArgs.width, observedArgs.height);\n                    });\n                }\n                break;\n            case (this.parent.element.id + 'excel'):\n                exportArgs = {\n                    excelExportProperties: { fileName: 'Export.xlsx' },\n                    isBlob: undefined,\n                    isMultipleExport: undefined,\n                    workbook: undefined\n                };\n                this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n                    if (isBlazor()) {\n                        var excelProperties = PivotUtil.formatExcelExportProperties(observedArgs.excelExportProperties);\n                        _this_1.parent.excelExport(excelProperties, observedArgs.isMultipleExport, observedArgs.workbook, observedArgs.isBlob);\n                    }\n                    else {\n                        _this_1.parent.excelExport(observedArgs.excelExportProperties, observedArgs.isMultipleExport, observedArgs.workbook, observedArgs.isBlob);\n                    }\n                });\n                break;\n            case (this.parent.element.id + 'csv'):\n                exportArgs = {\n                    excelExportProperties: { fileName: 'Export.csv' },\n                    isBlob: false,\n                    isMultipleExport: false,\n                    workbook: undefined\n                };\n                this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n                    if (isBlazor()) {\n                        var excelProperties = PivotUtil.formatExcelExportProperties(observedArgs.excelExportProperties);\n                        _this_1.parent.csvExport(excelProperties, observedArgs.isMultipleExport, observedArgs.workbook, observedArgs.isBlob);\n                    }\n                    else {\n                        _this_1.parent.csvExport(observedArgs.excelExportProperties, observedArgs.isMultipleExport, observedArgs.workbook, observedArgs.isBlob);\n                    }\n                });\n                break;\n            case (this.parent.element.id + 'png'):\n                exportArgs = {\n                    type: 'PNG',\n                    width: undefined,\n                    height: undefined,\n                    fileName: 'result',\n                    orientation: PdfPageOrientation.Landscape,\n                };\n                this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n                    _this_1.parent.chartExport(observedArgs.type, observedArgs.fileName, observedArgs.orientation, observedArgs.width, observedArgs.height);\n                });\n                break;\n            case (this.parent.element.id + 'jpeg'):\n                exportArgs = {\n                    type: 'JPEG',\n                    fileName: 'result',\n                    orientation: PdfPageOrientation.Landscape,\n                    width: undefined,\n                    height: undefined,\n                };\n                this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n                    _this_1.parent.chartExport(observedArgs.type, observedArgs.fileName, observedArgs.orientation, observedArgs.width, observedArgs.height);\n                });\n                break;\n            case (this.parent.element.id + 'svg'):\n                exportArgs = {\n                    width: undefined,\n                    height: undefined,\n                    type: 'SVG',\n                    fileName: 'result',\n                    orientation: PdfPageOrientation.Landscape,\n                };\n                this.parent.trigger(events.beforeExport, exportArgs, function (observedArgs) {\n                    _this_1.parent.chartExport(observedArgs.type, observedArgs.fileName, observedArgs.orientation, observedArgs.width, observedArgs.height);\n                });\n                break;\n            case (this.parent.element.id + 'notsubtotal'):\n                this.parent.setProperties({ dataSourceSettings: { showSubTotals: false, showColumnSubTotals: false, showRowSubTotals: false } }, true);\n                this.parent.refreshData();\n                break;\n            case (this.parent.element.id + 'subtotalrow'):\n                this.parent.setProperties({ dataSourceSettings: { showSubTotals: true, showColumnSubTotals: false, showRowSubTotals: true } }, true);\n                this.parent.refreshData();\n                break;\n            case (this.parent.element.id + 'subtotalcolumn'):\n                this.parent.setProperties({ dataSourceSettings: { showSubTotals: true, showColumnSubTotals: true, showRowSubTotals: false } }, true);\n                this.parent.refreshData();\n                break;\n            case (this.parent.element.id + 'subtotal'):\n                this.parent.setProperties({ dataSourceSettings: { showSubTotals: true, showColumnSubTotals: true, showRowSubTotals: true } }, true);\n                this.parent.refreshData();\n                break;\n            case (this.parent.element.id + 'notgrandtotal'):\n                this.parent.setProperties({ dataSourceSettings: { showGrandTotals: false, showColumnGrandTotals: false, showRowGrandTotals: false } }, true);\n                this.parent.refreshData();\n                break;\n            case (this.parent.element.id + 'grandtotalrow'):\n                this.parent.setProperties({ dataSourceSettings: { showGrandTotals: true, showColumnGrandTotals: false, showRowGrandTotals: true } }, true);\n                this.parent.refreshData();\n                break;\n            case (this.parent.element.id + 'grandtotalcolumn'):\n                this.parent.setProperties({ dataSourceSettings: { showGrandTotals: true, showColumnGrandTotals: true, showRowGrandTotals: false } }, true);\n                this.parent.refreshData();\n                break;\n            case (this.parent.element.id + 'grandtotal'):\n                this.parent.setProperties({ dataSourceSettings: { showGrandTotals: true, showColumnGrandTotals: true, showRowGrandTotals: true } }, true);\n                this.parent.refreshData();\n                break;\n            case (this.parent.element.id + 'numberFormattingMenu'):\n                if (this.parent.numberFormattingModule) {\n                    this.parent.numberFormattingModule.showNumberFormattingDialog();\n                }\n                break;\n            case (this.parent.element.id + 'conditionalFormattingMenu'):\n                if (this.parent.conditionalFormattingModule) {\n                    this.parent.conditionalFormattingModule.showConditionalFormattingDialog();\n                }\n                break;\n            case (this.parent.element.id + '_' + type):\n                if (args.item && args.item.text) {\n                    if (type === 'ChartMoreOption') {\n                        this.createChartTypeDialog();\n                    }\n                    else if (type === 'multipleAxes') {\n                        if (this.parent.chartSettings.enableScrollOnMultiAxis) {\n                            this.isMultiAxisChange = true;\n                        }\n                        this.parent.chartSettings.enableMultipleAxis = !this.parent.chartSettings.enableMultipleAxis;\n                        this.updateChartType(this.parent.chartSettings.chartSeries.type, true);\n                    }\n                    else if (this.getAllChartItems().indexOf(type) > -1) {\n                        this.updateChartType(type, false);\n                    }\n                    else if (type === 'showLegend') {\n                        this.parent.chart.legendSettings.visible = !this.showLableState;\n                        if (this.parent.chartSettings.legendSettings) {\n                            this.parent.chartSettings.legendSettings.visible = !this.showLableState;\n                        }\n                        else {\n                            this.parent.setProperties({ chartSettings: { legendSettings: { visible: !this.showLableState } } }, true);\n                        }\n                        this.updateChartType(this.parent.chartSettings.chartSeries.type, true);\n                    }\n                }\n                if (isBlazor() && this.parent.element.querySelector('.e-toggle-field-list') && this.parent.toolbar.indexOf('FieldList') !== -1) {\n                    this.parent.element.querySelector('.e-toggle-field-list').style.display = 'none';\n                }\n                break;\n        }\n        /* eslint-enable max-len */\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initToolbar, this.createToolbar, this);\n    };\n    Toolbar.prototype.getValidChartType = function () {\n        var menuItems = [];\n        for (var i = 0; (i <= this.parent.chartTypes.length); i++) {\n            var type = this.parent.chartTypes[i];\n            if ((this.getAllChartItems().indexOf(type) > -1) && (menuItems.indexOf(type) < 0)) {\n                menuItems.push(type);\n            }\n        }\n        return menuItems;\n    };\n    Toolbar.prototype.createChartTypeDialog = function () {\n        var _this_1 = this;\n        var chartDialog = this.parent.element.appendChild(createElement('div', {\n            id: this.parent.element.id + '_ChartTypeDialog',\n            className: cls.PIVOTCHART_TYPE_DIALOG\n        }));\n        this.chartTypesDialog = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            header: this.parent.localeObj.getConstant('chartTypeSettings'),\n            content: this.getDialogContent(),\n            isModal: true,\n            beforeOpen: this.beforeOpen.bind(this),\n            visible: true,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            width: 'auto',\n            height: 'auto',\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: function () { _this_1.chartTypeDialogUpdate(); },\n                    buttonModel: { cssClass: cls.OK_BUTTON_CLASS, content: this.parent.localeObj.getConstant('ok'), isPrimary: true },\n                },\n                {\n                    click: function () { _this_1.removeDialog(); },\n                    buttonModel: { cssClass: cls.CANCEL_BUTTON_CLASS, content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            closeOnEscape: true,\n            target: this.parent.element,\n            close: this.removeDialog.bind(this)\n        });\n        this.chartTypesDialog.isStringTemplate = true;\n        this.chartTypesDialog.appendTo(chartDialog);\n    };\n    Toolbar.prototype.removeDialog = function () {\n        if (this.chartTypesDialog && !this.chartTypesDialog.isDestroyed) {\n            this.chartTypesDialog.destroy();\n        }\n        if (document.getElementById(this.parent.element.id + '_ChartTypeDialog')) {\n            remove(document.getElementById(this.parent.element.id + '_ChartTypeDialog'));\n        }\n    };\n    Toolbar.prototype.chartTypeDialogUpdate = function () {\n        var chartType = getInstance(select('#' + this.parent.element.id + '_ChartTypeOption'), DropDownList).value;\n        var checked = getInstance(select('#' + this.parent.element.id + '_DialogMultipleAxis'), CheckBox).checked;\n        var checkedShow = getInstance(select('#' + this.parent.element.id + '_DialogShowLabel'), CheckBox).checked;\n        this.parent.chart.legendSettings.visible = checkedShow;\n        if (this.chartLableState) {\n            this.parent.chart.legendSettings.visible = checkedShow;\n            if (this.parent.chartSettings.legendSettings) {\n                this.parent.chartSettings.legendSettings.visible = checkedShow;\n            }\n            else {\n                this.parent.setProperties({ chartSettings: { legendSettings: { visible: checkedShow } } }, true);\n            }\n        }\n        this.updateChartType(chartType, false);\n        this.parent.chartSettings.enableMultipleAxis = checked;\n        this.parent.chartSettings.multipleAxisMode = getInstance(select('#' + this.parent.element.id + '_AxisModeOption'), DropDownList).value;\n        this.chartTypesDialog.close();\n    };\n    Toolbar.prototype.updateChartType = function (type, isMultiAxis) {\n        if (this.getAllChartItems().indexOf(type) > -1) {\n            if (this.parent.chart) {\n                this.parent.currentView = 'Chart';\n                this.parent.setProperties({ displayOption: { primary: 'Chart' } }, true);\n                this.parent.chart.element.style.width = formatUnit(this.parent.grid ? this.parent.getGridWidthAsNumber() : this.parent.getWidthAsNumber()); /* eslint-disable-line */\n                this.parent.chart.setProperties({ width: formatUnit(this.parent.grid ? this.parent.getGridWidthAsNumber() : this.parent.getWidthAsNumber()) }, true); /* eslint-disable-line */\n                if (this.parent.chartSettings.chartSeries.type === type && !isMultiAxis) {\n                    this.parent.chartModule.updateView();\n                }\n                else {\n                    this.parent.chartSettings.chartSeries.type = type;\n                }\n            }\n        }\n    };\n    Toolbar.prototype.getDialogContent = function () {\n        var mainWrapper = createElement('div', { className: 'e-chart-type-div-content' });\n        var optionWrapperDiv = createElement('div', { className: 'e-chart-type-option-wrapper' });\n        var axisModeWrapperDiv = createElement('div', { className: 'e-multiple-axes-mode-wrapper' });\n        var optionTextDiv = createElement('div', {\n            className: 'e-chart-type-option-text', innerHTML: this.parent.localeObj.getConstant('ChartType')\n        });\n        var axisModeTextDiv = createElement('div', {\n            className: 'e-multiple-axes-mode-text', innerHTML: this.parent.localeObj.getConstant('multipleAxisMode')\n        });\n        var dropOptionDiv = createElement('div', { id: this.parent.element.id + '_ChartTypeOption' });\n        var dropModeOptionDiv = createElement('div', { id: this.parent.element.id + '_AxisModeOption' });\n        optionWrapperDiv.appendChild(optionTextDiv);\n        optionWrapperDiv.appendChild(dropOptionDiv);\n        var chartTypeDatasource = [];\n        var multipleAxisModeDatasource = [\n            { value: 'Stacked', text: this.parent.localeObj.getConstant('stacked') },\n            { value: 'Single', text: this.parent.localeObj.getConstant('single') }\n        ];\n        var chartType = this.getValidChartType();\n        for (var i = 0; i < chartType.length; i++) {\n            chartTypeDatasource.push({ value: chartType[i], text: this.parent.localeObj.getConstant(chartType[i].toLowerCase()) });\n        }\n        var optionWrapper = new DropDownList({\n            dataSource: chartTypeDatasource, enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            fields: { value: 'value', text: 'text' },\n            value: this.parent.chartSettings.chartSeries.type ? this.parent.chartSettings.chartSeries.type : this.getValidChartType()[0],\n            width: '100%',\n            change: this.changeDropDown.bind(this)\n        });\n        optionWrapper.isStringTemplate = true;\n        optionWrapper.appendTo(dropOptionDiv);\n        mainWrapper.appendChild(optionWrapperDiv);\n        var checkboxWrap = createElement('input', {\n            id: this.parent.element.id + '_DialogMultipleAxis',\n            attrs: { 'type': 'checkbox' }\n        });\n        mainWrapper.appendChild(checkboxWrap);\n        var labelCheckboxWrap = createElement('input', {\n            id: this.parent.element.id + '_DialogShowLabel',\n            attrs: { 'type': 'checkbox' }\n        });\n        mainWrapper.appendChild(labelCheckboxWrap);\n        axisModeWrapperDiv.appendChild(axisModeTextDiv);\n        axisModeWrapperDiv.appendChild(dropModeOptionDiv);\n        mainWrapper.appendChild(axisModeWrapperDiv);\n        var axisModeWrapper = new DropDownList({\n            dataSource: multipleAxisModeDatasource, enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            fields: { value: 'value', text: 'text' },\n            value: this.parent.chartSettings.multipleAxisMode ? this.parent.chartSettings.multipleAxisMode : 'Stacked',\n            width: '100%',\n            enabled: this.parent.chartSettings.enableMultipleAxis\n        });\n        axisModeWrapper.isStringTemplate = true;\n        axisModeWrapper.appendTo(dropModeOptionDiv);\n        return mainWrapper;\n    };\n    Toolbar.prototype.changeDropDown = function (args) {\n        var chartSettings = JSON.parse(this.parent.getPersistData()).chartSettings;\n        if (!(chartSettings && chartSettings.legendSettings && chartSettings.legendSettings.visible !== undefined)) {\n            var checked = ['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(args.value.toString()) > -1 ?\n                false : true;\n            getInstance(select('#' + this.parent.element.id + '_DialogShowLabel'), CheckBox).checked = checked;\n        }\n        if (['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(args.value.toString()) > -1) {\n            getInstance(select('#' + this.parent.element.id + '_DialogMultipleAxis'), CheckBox).disabled = true;\n            getInstance(select('#' + this.parent.element.id + '_AxisModeOption'), DropDownList).enabled = false;\n        }\n        else {\n            var multipleAxisCheckBox = getInstance(select('#' + this.parent.element.id + '_DialogMultipleAxis'), CheckBox);\n            multipleAxisCheckBox.disabled = false;\n            getInstance(select('#' + this.parent.element.id + '_AxisModeOption'), DropDownList).enabled = multipleAxisCheckBox.checked;\n        }\n    };\n    Toolbar.prototype.beforeOpen = function () {\n        var _this_1 = this;\n        var checkbox = new CheckBox({\n            label: this.parent.localeObj.getConstant('multipleAxes'),\n            cssClass: 'e-dialog-multiple-axis',\n            checked: this.parent.chartSettings.enableMultipleAxis ? this.parent.chartSettings.enableMultipleAxis : false,\n            change: function (args) {\n                getInstance(select('#' + _this_1.parent.element.id + '_AxisModeOption'), DropDownList).enabled = args.checked;\n            },\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale\n        });\n        var checkbox1 = new CheckBox({\n            label: this.parent.localeObj.getConstant('showLegend'),\n            checked: this.getLableState(this.parent.chartSettings.chartSeries.type),\n            change: function () { _this_1.chartLableState = true; },\n            cssClass: 'e-dialog-show-legend',\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale\n        });\n        checkbox1.appendTo(select('#' + this.parent.element.id + '_DialogShowLabel', this.chartTypesDialog.element));\n        checkbox.appendTo(select('#' + this.parent.element.id + '_DialogMultipleAxis', this.chartTypesDialog.element));\n        if (['Pie', 'Funnel', 'Pyramid', 'Doughnut'].indexOf(this.parent.chartSettings.chartSeries.type) > -1) {\n            checkbox.disabled = true;\n            getInstance(select('#' + this.parent.element.id + '_AxisModeOption'), DropDownList).enabled = false;\n        }\n        var chartSettings = JSON.parse(this.parent.getPersistData()).chartSettings;\n        if (chartSettings && chartSettings.legendSettings && chartSettings.legendSettings.visible !== undefined) {\n            this.chartLableState = true;\n        }\n        else {\n            this.chartLableState = false;\n        }\n    };\n    /**\n     * To refresh the toolbar\n     * @returns {void}\n     * @hidden\n     */\n    Toolbar.prototype.refreshToolbar = function () {\n        this.createToolbar();\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initToolbar, this.createToolbar);\n    };\n    /**\n     * To destroy the toolbar\n     * @returns {void}\n     * @hidden\n     */\n    Toolbar.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.confirmPopUp && !this.confirmPopUp.isDestroyed) {\n            this.confirmPopUp.destroy();\n        }\n        if (this.dialog && !this.dialog.isDestroyed) {\n            this.dialog.destroy();\n        }\n        if (this.mdxDialog && !this.mdxDialog.isDestroyed) {\n            this.mdxDialog.destroy();\n        }\n        if (this.chartMenu && !this.chartMenu.isDestroyed) {\n            this.chartMenu.destroy();\n        }\n        if (this.chartTypesDialog && !this.chartTypesDialog.isDestroyed) {\n            this.chartTypesDialog.destroy();\n        }\n        if (this.exportMenu && !this.exportMenu.isDestroyed) {\n            this.exportMenu.destroy();\n        }\n        if (this.subTotalMenu && !this.subTotalMenu.isDestroyed) {\n            this.subTotalMenu.destroy();\n        }\n        if (this.grandTotalMenu && !this.grandTotalMenu.isDestroyed) {\n            this.grandTotalMenu.destroy();\n        }\n        if (this.formattingMenu && !this.formattingMenu.isDestroyed) {\n            this.formattingMenu.destroy();\n        }\n        if (this.reportList && !this.reportList.isDestroyed) {\n            this.reportList.destroy();\n        }\n        if (this.toolbar && !this.toolbar.isDestroyed) {\n            this.toolbar.destroy();\n        }\n        if (select('#' + this.parent.element.id + 'pivot-toolbar', document)) {\n            remove(select('#' + this.parent.element.id + 'pivot-toolbar', document));\n        }\n    };\n    Toolbar.prototype.focusToolBar = function () {\n        removeClass(document.querySelector('.' + cls.GRID_TOOLBAR).querySelectorAll('.e-menu-item.e-focused'), 'e-focused');\n        removeClass(document.querySelector('.' + cls.GRID_TOOLBAR).querySelectorAll('.e-menu-item.e-selected'), 'e-selected');\n        if (document.querySelector('.e-toolbar-items')) {\n            addClass([document.querySelector('.e-toolbar-items')], 'e-focused');\n        }\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"]},"metadata":{},"sourceType":"module"}