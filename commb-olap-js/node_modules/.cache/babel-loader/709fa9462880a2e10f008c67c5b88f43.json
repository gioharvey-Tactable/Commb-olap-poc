{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\n\nvar MultiLevelLabel = function () {\n  /**\n   * Constructor for the logerithmic module.\n   *\n   * @private\n   */\n  function MultiLevelLabel(chart) {\n    /** @private */\n    this.xAxisPrevHeight = [];\n    /** @private */\n\n    this.xAxisMultiLabelHeight = [];\n    /** @private */\n\n    this.yAxisPrevHeight = [];\n    /** @private */\n\n    this.yAxisMultiLabelHeight = [];\n    /** @private */\n\n    this.multiLevelLabelRectXRegion = [];\n    /** @private */\n\n    this.xLabelCollection = [];\n    this.chart = chart;\n    this.addEventListener();\n  }\n  /**\n   * Binding events for multi level module.\n   */\n\n\n  MultiLevelLabel.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n\n    this.chart.on('click', this.click, this);\n  };\n  /**\n   * Finds multilevel label height\n   *\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n    var value = 0;\n    var multiLevelLabelsHeight = [];\n    var prevHeight = [];\n    var isVertical = axis.orientation === 'Vertical';\n    var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n    var labelSize;\n    var height;\n    var padding = 10;\n    var gap;\n    axis.multiLevelLabels.map(function (multiLevel, index) {\n      multiLevel.categories.map(function (categoryLabel) {\n        if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n          labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n          height = isVertical ? labelSize.width : labelSize.height;\n          height += 2 * multiLevel.border.width + (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n          gap = categoryLabel.maximumTextWidth !== null ? categoryLabel.maximumTextWidth : valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end, axis) * axisValue - valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start, axis) * axisValue;\n\n          if (labelSize.width > gap - padding && gap > 0 && multiLevel.overflow === 'Wrap' && !isVertical) {\n            height = height * textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length;\n          }\n\n          multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height : multiLevelLabelsHeight[index] < height ? height : multiLevelLabelsHeight[index];\n        }\n      });\n      prevHeight[index] = value;\n      value += multiLevelLabelsHeight[index] ? multiLevelLabelsHeight[index] + padding : 0;\n    });\n    axis.multiLevelLabelHeight = value + (axis.title !== '' || this.chart.legendModule && this.chart.legendSettings.visible ? padding / 2 : 0);\n\n    if (isVertical) {\n      this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.yAxisPrevHeight = prevHeight;\n    } else {\n      this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.xAxisPrevHeight = prevHeight;\n    }\n  };\n  /**\n   * render x axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n    var _this = this;\n\n    var x;\n    var y;\n    var padding = 10;\n    var startX;\n    var pointIndex;\n    var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.height + padding;\n    var endX;\n    var pathRect = '';\n    var start;\n    var end;\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var gap;\n    var anchor;\n    var isInversed = axis.isInversed;\n    var argsData;\n    var opposedPosition = axis.opposedPosition;\n    var scrollBarHeight = axis.scrollbarSettings.enable || isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    var clipY = opposedPosition && !isOutside || !opposedPosition && isOutside ? axisRect.y + startY - axis.majorTickLines.width : axisRect.y - startY - axis.multiLevelLabelHeight;\n    this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      pointIndex = 0;\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      multiLevel.categories.map(function (categoryLabel, i) {\n        pathRect = '';\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n\n        if (!argsData.cancel) {\n          startX = valueToCoefficient(start, axis) * axisRect.width;\n          endX = valueToCoefficient(end, axis) * axisRect.width;\n          endX = isInversed ? [startX, startX = endX][0] : endX;\n          labelSize = measureText(argsData.text, argsData.textStyle);\n          gap = (categoryLabel.maximumTextWidth === null ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n          x = startX + axisRect.x + padding;\n          y = (opposedPosition && !isOutside || !opposedPosition && isOutside ? startY + axisRect.y + labelSize.height / 2 + padding + _this.xAxisPrevHeight[level] : axisRect.y - startY + labelSize.height / 2 - _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level]) + scrollBarHeight;\n\n          if (argsData.alignment === 'Center') {\n            x += (endX - startX - padding) / 2;\n            anchor = 'middle';\n          } else if (argsData.alignment === 'Far') {\n            x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n            anchor = 'end';\n          } else {\n            anchor = 'start';\n            x += multiLevel.border.width / 2;\n          }\n\n          y = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? y + padding : y - padding / 2 : y;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n\n          if (multiLevel.overflow !== 'None') {\n            options.text = multiLevel.overflow === 'Wrap' ? textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n            options.x = options.x - padding / 2;\n          }\n\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas);\n\n          if (_this.chart.enableCanvas) {\n            var textSize = measureText(argsData.text, argsData.textStyle);\n\n            _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n\n            _this.xLabelCollection.push(options);\n          }\n\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex); // fix for generating seperate rect\n\n            if (pathRect !== '') {\n              _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n\n              pointIndex++;\n            }\n          }\n\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render x axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var value;\n    var value1;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var width = gap + padding;\n    var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n    var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n    var x = startX + axisRect.x;\n    var y = !opposedPosition && isOutside || opposedPosition && !isOutside ? startY + axisRect.y + this.xAxisPrevHeight[labelIndex] + scrollBarHeight : axisRect.y - startY - this.xAxisPrevHeight[labelIndex] - scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height) + ' M ' + (x + width) + ' ' + y + ' L ' + (x + width) + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + x + ' ' + (y + height) + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y : ' ';\n        break;\n\n      case 'Brace':\n        if (alignment === 'Near') {\n          value = textOptions.x;\n          value1 = textOptions.x + labelSize.width + 2;\n        } else if (alignment === 'Center') {\n          value = textOptions.x - labelSize.width / 2 - 2;\n          value1 = textOptions.x + labelSize.width / 2 + 2;\n        } else {\n          value = textOptions.x - labelSize.width - 2;\n          value1 = textOptions.x;\n        }\n\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) + ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) + ' M ' + value1 + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) + ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + y;\n        break;\n\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        } else {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        }\n\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) + ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else if (alignment === 'Near') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        }\n\n        break;\n    }\n\n    return path;\n  };\n  /**\n   * render y axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n    var _this = this;\n\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var x;\n    var y;\n    var padding = 10;\n    var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.width + padding;\n    var startY;\n    var path = '';\n    var endY;\n    var argsData;\n    var pointIndex;\n    var isInversed = axis.isInversed;\n    var start;\n    var end;\n    var gap;\n    var anchor = 'middle';\n    var opposedPosition = axis.opposedPosition;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var clipX = opposedPosition && !isOutside || !opposedPosition && isOutside ? rect.x - axis.multiLevelLabelHeight - startX - padding : rect.x + startX;\n    this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id + 'YAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      pointIndex = 0;\n      multiLevel.categories.map(function (categoryLabel, i) {\n        path = '';\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        startY = valueToCoefficient(start, axis) * rect.height;\n        endY = valueToCoefficient(end, axis) * rect.height;\n        endY = isInversed ? [startY, startY = endY][0] : endY;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n\n        if (!argsData.cancel) {\n          labelSize = measureText(argsData.text, argsData.textStyle);\n          gap = endY - startY;\n          x = rect.x - startX - _this.yAxisPrevHeight[level] - _this.yAxisMultiLabelHeight[level] / 2 - padding / 2;\n          y = rect.height + rect.y - startY - gap / 2;\n\n          if (opposedPosition) {\n            x = isOutside ? rect.x + startX + padding / 2 + _this.yAxisMultiLabelHeight[level] / 2 + _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - _this.yAxisMultiLabelHeight[level] / 2 - _this.yAxisPrevHeight[level] - padding / 2;\n          } else {\n            x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + _this.yAxisMultiLabelHeight[level] / 2 + _this.yAxisPrevHeight[level];\n          }\n\n          if (argsData.alignment === 'Center') {\n            y += labelSize.height / 4;\n          } else if (argsData.alignment === 'Far') {\n            y += gap / 2 - labelSize.height / 2;\n          } else {\n            y = y - gap / 2 + labelSize.height;\n          }\n\n          x = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? x - padding : x + padding : x;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n          options.text = multiLevel.overflow === 'Trim' ? textTrim(categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] : categoryLabel.maximumTextWidth, argsData.text, argsData.textStyle) : options.text;\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas);\n\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n\n            if (path !== '') {\n              _this.createBorderElement(level, index, axis, path, pointIndex);\n\n              pointIndex++;\n            }\n          }\n\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render y axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var height = endY - startY;\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var y = rect.y + rect.height - endY;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n    var x = (!opposedPosition && isOutside || opposedPosition && !isOutside ? rect.x - startX - this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? -width : width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y + ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + (x + width) + ' ' + y + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + x + ' ' + (y + height) + 'L' + ' ' + x + ' ' + y + ' ' : ' ';\n        break;\n\n      case 'Brace':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? width : -width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' + (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' + (textOptions.y + labelSize.height / 4 + 2) + ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + x + ' ' + (y + height);\n        break;\n\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        } else {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        }\n\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else if (alignment === 'Far') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding1) + ' ' + (y + 15) + ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        }\n\n        break;\n    }\n\n    return path;\n  };\n  /**\n   * create cliprect\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n    this.multiElements = this.chart.renderer.createGroup({\n      'id': axisId,\n      'clip-path': 'url(#' + clipId + ')'\n    });\n\n    if (!this.chart.enableCanvas) {\n      this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n        'id': clipId,\n        'x': x,\n        'y': y,\n        'width': width,\n        'height': height,\n        'fill': 'white',\n        'stroke-width': 1,\n        'stroke': 'Gray'\n      }, this.chart.renderer));\n    }\n  };\n  /**\n   * create borer element\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n    var direction = path;\n    var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n    borderElement.setAttribute('style', 'pointer-events: none');\n    appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n    var argsData = {\n      cancel: false,\n      name: axisMultiLabelRender,\n      axis: axis,\n      text: text,\n      textStyle: textStyle,\n      alignment: textAlignment,\n      customAttributes: customAttributes\n    };\n    this.chart.trigger(axisMultiLabelRender, argsData);\n    return argsData;\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n    var level = parseInt(labelIndex.substr(0, 1), 10);\n    var textElement = parseInt(labelIndex.substr(7), 10);\n    var chart = this.chart;\n    var axis = chart.axisCollections[axisIndex];\n    var categories = axis.multiLevelLabels[level].categories;\n    var text = categories[textElement].text;\n    var start = categories[textElement].start;\n    var end = categories[textElement].end;\n    var customAttributes = categories[textElement].customAttributes;\n    var multilevelclickArgs = {\n      axis: axis,\n      level: level,\n      text: text,\n      customAttributes: customAttributes,\n      start: start,\n      end: end,\n      name: multiLevelLabelClick,\n      cancel: false\n    };\n    this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n    return multilevelclickArgs;\n  };\n  /**\n   * To click the multi level label\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.click = function (event) {\n    var targetId = event.target.id;\n    var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n    var textId;\n    var elementId;\n    var axisIndex;\n\n    if (this.chart.enableCanvas) {\n      for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n        if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n          targetId = this.xLabelCollection[i].id;\n        }\n      }\n    }\n\n    if (targetId.indexOf(multiLevelID) > -1) {\n      textId = targetId.split(multiLevelID)[1];\n      elementId = targetId.split(multiLevelID)[0];\n      axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n      this.MultiLevelLabelClick(textId, axisIndex);\n    }\n  };\n  /**\n   * To get the module name for `MultiLevelLabel`.\n   *\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.getModuleName = function () {\n    return 'MultiLevelLabel';\n  };\n  /**\n   * To destroy the `MultiLevelLabel` module.\n   *\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.destroy = function () {// destroy peform here\n  };\n\n  return MultiLevelLabel;\n}();\n\nexport { MultiLevelLabel };","map":{"version":3,"sources":["/workspace/Commb-olap-poc/commb-olap-js/node_modules/@syncfusion/ej2-charts/src/chart/axis/multi-level-labels.js"],"names":["isNullOrUndefined","textWrap","appendClipElement","appendChildElement","valueToCoefficient","textTrim","textElement","withInBounds","measureText","TextOption","PathOption","Rect","axisMultiLabelRender","multiLevelLabelClick","MultiLevelLabel","chart","xAxisPrevHeight","xAxisMultiLabelHeight","yAxisPrevHeight","yAxisMultiLabelHeight","multiLevelLabelRectXRegion","xLabelCollection","addEventListener","prototype","isDestroyed","on","click","getMultilevelLabelsHeight","axis","value","multiLevelLabelsHeight","prevHeight","isVertical","orientation","axisValue","rect","height","width","labelSize","padding","gap","multiLevelLabels","map","multiLevel","index","categories","categoryLabel","text","start","end","textStyle","border","type","maximumTextWidth","Number","Date","overflow","length","multiLevelLabelHeight","title","legendModule","legendSettings","visible","renderXAxisMultiLevelLabels","parent","axisRect","_this","x","y","startX","pointIndex","startY","labelPosition","tickPosition","majorTickLines","maxLabelSize","endX","pathRect","isOutside","anchor","isInversed","argsData","opposedPosition","scrollBarHeight","scrollbarSettings","enable","crossesAt","clipY","createClipRect","element","id","level","labelElement","renderer","createGroup","i","triggerMultiLabelRender","alignment","customAttributes","cancel","options","color","themeStyle","axisLabel","redraw","enableCanvas","textSize","push","renderXAxisLabelBorder","createBorderElement","multiElements","appendChild","labelIndex","textOptions","path","categoryIndex","padding1","padding2","value1","groupLabel","categoryType","borderType","renderYAxisMultiLevelLabels","endY","clipX","renderYAxisLabelBorder","clipId","axisId","borderIndex","axisIndex","direction","borderElement","drawPath","axisLine","setAttribute","textAlignment","name","trigger","MultiLevelLabelClick","parseInt","substr","axisCollections","multilevelclickArgs","event","targetId","target","multiLevelID","textId","elementId","indexOf","split","charAt","getModuleName","destroy"],"mappings":"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","sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */ (function () {\n    /**\n     * Constructor for the logerithmic module.\n     *\n     * @private\n     */\n    function MultiLevelLabel(chart) {\n        /** @private */\n        this.xAxisPrevHeight = [];\n        /** @private */\n        this.xAxisMultiLabelHeight = [];\n        /** @private */\n        this.yAxisPrevHeight = [];\n        /** @private */\n        this.yAxisMultiLabelHeight = [];\n        /** @private */\n        this.multiLevelLabelRectXRegion = [];\n        /** @private */\n        this.xLabelCollection = [];\n        this.chart = chart;\n        this.addEventListener();\n    }\n    /**\n     * Binding events for multi level module.\n     */\n    MultiLevelLabel.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on('click', this.click, this);\n    };\n    /**\n     * Finds multilevel label height\n     *\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n        var value = 0;\n        var multiLevelLabelsHeight = [];\n        var prevHeight = [];\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n        var labelSize;\n        var height;\n        var padding = 10;\n        var gap;\n        axis.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    height += 2 * multiLevel.border.width +\n                        (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n                    gap = (categoryLabel.maximumTextWidth !== null) ? categoryLabel.maximumTextWidth :\n                        (valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) :\n                            categoryLabel.end, axis) * axisValue) -\n                            (valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) :\n                                categoryLabel.start, axis) * axisValue);\n                    if ((labelSize.width > gap - padding) && gap > 0 && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height :\n                        ((multiLevelLabelsHeight[index] < height) ? height : multiLevelLabelsHeight[index]);\n                }\n            });\n            prevHeight[index] = value;\n            value += multiLevelLabelsHeight[index] ? (multiLevelLabelsHeight[index] + padding) : 0;\n        });\n        axis.multiLevelLabelHeight = value + ((axis.title !== '' || (this.chart.legendModule && this.chart.legendSettings.visible))\n            ? padding / 2 : 0);\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.yAxisPrevHeight = prevHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.xAxisPrevHeight = prevHeight;\n        }\n    };\n    /**\n     * render x axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n        var _this = this;\n        var x;\n        var y;\n        var padding = 10;\n        var startX;\n        var pointIndex;\n        var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.height) + padding;\n        var endX;\n        var pathRect = '';\n        var start;\n        var end;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var gap;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var argsData;\n        var opposedPosition = axis.opposedPosition;\n        var scrollBarHeight = axis.scrollbarSettings.enable || (isOutside && isNullOrUndefined(axis.crossesAt)) ?\n            axis.scrollBarHeight : 0;\n        var clipY = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (axisRect.y + startY - axis.majorTickLines.width) : (axisRect.y - startY - axis.multiLevelLabelHeight);\n        this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            pointIndex = 0;\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                pathRect = '';\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    startX = valueToCoefficient(start, axis) * axisRect.width;\n                    endX = valueToCoefficient(end, axis) * axisRect.width;\n                    endX = isInversed ? [startX, startX = endX][0] : endX;\n                    labelSize = measureText(argsData.text, argsData.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n                    x = startX + axisRect.x + padding;\n                    y = (((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ? (startY + axisRect.y +\n                        labelSize.height / 2 + padding + _this.xAxisPrevHeight[level]) : (axisRect.y - startY + labelSize.height / 2 -\n                        _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level])) + scrollBarHeight;\n                    if (argsData.alignment === 'Center') {\n                        x += (endX - startX - padding) / 2;\n                        anchor = 'middle';\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n                        anchor = 'end';\n                    }\n                    else {\n                        anchor = 'start';\n                        x += multiLevel.border.width / 2;\n                    }\n                    y = multiLevel.border.type === 'CurlyBrace' ?\n                        (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? y + padding : y - padding / 2) : y;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    if (multiLevel.overflow !== 'None') {\n                        options.text = (multiLevel.overflow === 'Wrap') ?\n                            textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n                        options.x = options.x - padding / 2;\n                    }\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas);\n                    if (_this.chart.enableCanvas) {\n                        var textSize = measureText(argsData.text, argsData.textStyle);\n                        _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n                        _this.xLabelCollection.push(options);\n                    }\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex);\n                        // fix for generating seperate rect\n                        if (pathRect !== '') {\n                            _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var value;\n        var value1;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var width = gap + padding;\n        var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n        var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n        var x = startX + axisRect.x;\n        var y = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? (startY + axisRect.y +\n            this.xAxisPrevHeight[labelIndex] + scrollBarHeight) : (axisRect.y - startY -\n            this.xAxisPrevHeight[labelIndex] - scrollBarHeight);\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height) + ' M ' + (x + width) + ' '\n                    + y + ' L ' + (x + width) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (x) + ' ' + (y + height) + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y) : ' ';\n                break;\n            case 'Brace':\n                if (alignment === 'Near') {\n                    value = textOptions.x;\n                    value1 = textOptions.x + labelSize.width + 2;\n                }\n                else if (alignment === 'Center') {\n                    value = textOptions.x - labelSize.width / 2 - 2;\n                    value1 = textOptions.x + labelSize.width / 2 + 2;\n                }\n                else {\n                    value = textOptions.x - labelSize.width - 2;\n                    value1 = textOptions.x;\n                }\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) +\n                    ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) +\n                    ' M ' + (value1) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) +\n                    ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                else {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) +\n                        ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else if (alignment === 'Near') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' '\n                        + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) +\n                        ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C '\n                        + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n        var _this = this;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var x;\n        var y;\n        var padding = 10;\n        var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.width) + padding;\n        var startY;\n        var path = '';\n        var endY;\n        var argsData;\n        var pointIndex;\n        var isInversed = axis.isInversed;\n        var start;\n        var end;\n        var gap;\n        var anchor = 'middle';\n        var opposedPosition = axis.opposedPosition;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var clipX = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (rect.x - axis.multiLevelLabelHeight - startX - padding) : (rect.x + startX);\n        this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id\n            + 'YAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            pointIndex = 0;\n            multiLevel.categories.map(function (categoryLabel, i) {\n                path = '';\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                startY = valueToCoefficient((start), axis) * (rect.height);\n                endY = valueToCoefficient((end), axis) * (rect.height);\n                endY = isInversed ? [startY, startY = endY][0] : endY;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    labelSize = measureText(argsData.text, argsData.textStyle);\n                    gap = endY - startY;\n                    x = rect.x - startX - _this.yAxisPrevHeight[level] -\n                        (_this.yAxisMultiLabelHeight[level] / 2) - padding / 2;\n                    y = rect.height + rect.y - startY - (gap / 2);\n                    if (opposedPosition) {\n                        x = isOutside ? rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                            _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - (_this.yAxisMultiLabelHeight[level] / 2) -\n                            _this.yAxisPrevHeight[level] - padding / 2;\n                    }\n                    else {\n                        x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                            _this.yAxisPrevHeight[level];\n                    }\n                    if (argsData.alignment === 'Center') {\n                        y += labelSize.height / 4;\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        y += gap / 2 - labelSize.height / 2;\n                    }\n                    else {\n                        y = y - gap / 2 + labelSize.height;\n                    }\n                    x = multiLevel.border.type === 'CurlyBrace' ? (((!opposedPosition && isOutside) ||\n                        (opposedPosition && !isOutside)) ? x - padding : x + padding) : x;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    options.text = (multiLevel.overflow === 'Trim') ?\n                        textTrim((categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] :\n                            categoryLabel.maximumTextWidth), argsData.text, argsData.textStyle) : options.text;\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas);\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n                        if (path !== '') {\n                            _this.createBorderElement(level, index, axis, path, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render y axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var height = endY - startY;\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var y = rect.y + rect.height - endY;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n        var x = (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? rect.x - startX -\n            this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? -width : width;\n                path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y +\n                    ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (x + width) + ' ' + y + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + (x) + ' ' + (y + height) + 'L' + ' ' + (x) + ' ' + y + ' ') : ' ';\n                break;\n            case 'Brace':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? width : -width;\n                path += 'M ' + (x) + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' +\n                    (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' +\n                    (textOptions.y + labelSize.height / 4 + 2) +\n                    ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + (x) + ' ' + (y + height);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                else {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' '\n                        + x + ' ' + (y + height);\n                }\n                else if (alignment === 'Far') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) +\n                        ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' '\n                        + (y + height);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding1) + ' ' + (y + 15) +\n                        ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x +\n                        ' ' + (y + height);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * create cliprect\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n        this.multiElements = this.chart.renderer.createGroup({\n            'id': axisId,\n            'clip-path': 'url(#' + clipId + ')'\n        });\n        if (!this.chart.enableCanvas) {\n            this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n                'id': clipId,\n                'x': x,\n                'y': y,\n                'width': width,\n                'height': height,\n                'fill': 'white',\n                'stroke-width': 1, 'stroke': 'Gray'\n            }, this.chart.renderer));\n        }\n    };\n    /**\n     * create borer element\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n        var direction = path;\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n        borderElement.setAttribute('style', 'pointer-events: none');\n        appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n        var argsData = {\n            cancel: false, name: axisMultiLabelRender, axis: axis,\n            text: text, textStyle: textStyle, alignment: textAlignment, customAttributes: customAttributes\n        };\n        this.chart.trigger(axisMultiLabelRender, argsData);\n        return argsData;\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n        var level = parseInt(labelIndex.substr(0, 1), 10);\n        var textElement = parseInt(labelIndex.substr(7), 10);\n        var chart = this.chart;\n        var axis = chart.axisCollections[axisIndex];\n        var categories = axis.multiLevelLabels[level].categories;\n        var text = categories[textElement].text;\n        var start = categories[textElement].start;\n        var end = categories[textElement].end;\n        var customAttributes = categories[textElement].customAttributes;\n        var multilevelclickArgs = {\n            axis: axis, level: level, text: text, customAttributes: customAttributes,\n            start: start, end: end, name: multiLevelLabelClick, cancel: false\n        };\n        this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n        return multilevelclickArgs;\n    };\n    /**\n     * To click the multi level label\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n        var textId;\n        var elementId;\n        var axisIndex;\n        if (this.chart.enableCanvas) {\n            for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n                if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n                    targetId = this.xLabelCollection[i].id;\n                }\n            }\n        }\n        if (targetId.indexOf(multiLevelID) > -1) {\n            textId = targetId.split(multiLevelID)[1];\n            elementId = targetId.split(multiLevelID)[0];\n            axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n            this.MultiLevelLabelClick(textId, axisIndex);\n        }\n    };\n    /**\n     * To get the module name for `MultiLevelLabel`.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.getModuleName = function () {\n        return 'MultiLevelLabel';\n    };\n    /**\n     * To destroy the `MultiLevelLabel` module.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return MultiLevelLabel;\n}());\nexport { MultiLevelLabel };\n"]},"metadata":{},"sourceType":"module"}